(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var JL=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function oE(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var g_={exports:{}},Tp={},v_={exports:{}},bt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kh=Symbol.for("react.element"),aE=Symbol.for("react.portal"),lE=Symbol.for("react.fragment"),uE=Symbol.for("react.strict_mode"),cE=Symbol.for("react.profiler"),hE=Symbol.for("react.provider"),fE=Symbol.for("react.context"),dE=Symbol.for("react.forward_ref"),pE=Symbol.for("react.suspense"),mE=Symbol.for("react.memo"),gE=Symbol.for("react.lazy"),h5=Symbol.iterator;function vE(t){return t===null||typeof t!="object"?null:(t=h5&&t[h5]||t["@@iterator"],typeof t=="function"?t:null)}var y_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},__=Object.assign,w_={};function hc(t,e,n){this.props=t,this.context=e,this.refs=w_,this.updater=n||y_}hc.prototype.isReactComponent={};hc.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};hc.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function A_(){}A_.prototype=hc.prototype;function J1(t,e,n){this.props=t,this.context=e,this.refs=w_,this.updater=n||y_}var X1=J1.prototype=new A_;X1.constructor=J1;__(X1,hc.prototype);X1.isPureReactComponent=!0;var f5=Array.isArray,b_=Object.prototype.hasOwnProperty,Z1={current:null},E_={key:!0,ref:!0,__self:!0,__source:!0};function S_(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)b_.call(e,r)&&!E_.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),h=0;h<a;h++)l[h]=arguments[h+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Kh,type:t,key:s,ref:o,props:i,_owner:Z1.current}}function yE(t,e){return{$$typeof:Kh,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function e2(t){return typeof t=="object"&&t!==null&&t.$$typeof===Kh}function _E(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var d5=/\/+/g;function Pm(t,e){return typeof t=="object"&&t!==null&&t.key!=null?_E(""+t.key):e.toString(36)}function ld(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Kh:case aE:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Pm(o,0):r,f5(i)?(n="",t!=null&&(n=t.replace(d5,"$&/")+"/"),ld(i,e,n,"",function(h){return h})):i!=null&&(e2(i)&&(i=yE(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(d5,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",f5(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+Pm(s,a);o+=ld(s,e,n,l,i)}else if(l=vE(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+Pm(s,a++),o+=ld(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Df(t,e,n){if(t==null)return t;var r=[],i=0;return ld(t,r,"","",function(s){return e.call(n,s,i++)}),r}function wE(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Rr={current:null},ud={transition:null},AE={ReactCurrentDispatcher:Rr,ReactCurrentBatchConfig:ud,ReactCurrentOwner:Z1};function I_(){throw Error("act(...) is not supported in production builds of React.")}bt.Children={map:Df,forEach:function(t,e,n){Df(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Df(t,function(){e++}),e},toArray:function(t){return Df(t,function(e){return e})||[]},only:function(t){if(!e2(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};bt.Component=hc;bt.Fragment=lE;bt.Profiler=cE;bt.PureComponent=J1;bt.StrictMode=uE;bt.Suspense=pE;bt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=AE;bt.act=I_;bt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=__({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Z1.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)b_.call(e,l)&&!E_.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var h=0;h<l;h++)a[h]=arguments[h+2];r.children=a}return{$$typeof:Kh,type:t.type,key:i,ref:s,props:r,_owner:o}};bt.createContext=function(t){return t={$$typeof:fE,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:hE,_context:t},t.Consumer=t};bt.createElement=S_;bt.createFactory=function(t){var e=S_.bind(null,t);return e.type=t,e};bt.createRef=function(){return{current:null}};bt.forwardRef=function(t){return{$$typeof:dE,render:t}};bt.isValidElement=e2;bt.lazy=function(t){return{$$typeof:gE,_payload:{_status:-1,_result:t},_init:wE}};bt.memo=function(t,e){return{$$typeof:mE,type:t,compare:e===void 0?null:e}};bt.startTransition=function(t){var e=ud.transition;ud.transition={};try{t()}finally{ud.transition=e}};bt.unstable_act=I_;bt.useCallback=function(t,e){return Rr.current.useCallback(t,e)};bt.useContext=function(t){return Rr.current.useContext(t)};bt.useDebugValue=function(){};bt.useDeferredValue=function(t){return Rr.current.useDeferredValue(t)};bt.useEffect=function(t,e){return Rr.current.useEffect(t,e)};bt.useId=function(){return Rr.current.useId()};bt.useImperativeHandle=function(t,e,n){return Rr.current.useImperativeHandle(t,e,n)};bt.useInsertionEffect=function(t,e){return Rr.current.useInsertionEffect(t,e)};bt.useLayoutEffect=function(t,e){return Rr.current.useLayoutEffect(t,e)};bt.useMemo=function(t,e){return Rr.current.useMemo(t,e)};bt.useReducer=function(t,e,n){return Rr.current.useReducer(t,e,n)};bt.useRef=function(t){return Rr.current.useRef(t)};bt.useState=function(t){return Rr.current.useState(t)};bt.useSyncExternalStore=function(t,e,n){return Rr.current.useSyncExternalStore(t,e,n)};bt.useTransition=function(){return Rr.current.useTransition()};bt.version="18.3.1";v_.exports=bt;var Ar=v_.exports;const bE=oE(Ar);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EE=Ar,SE=Symbol.for("react.element"),IE=Symbol.for("react.fragment"),TE=Object.prototype.hasOwnProperty,PE=EE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,NE={key:!0,ref:!0,__self:!0,__source:!0};function T_(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)TE.call(e,r)&&!NE.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:SE,type:t,key:s,ref:o,props:i,_owner:PE.current}}Tp.Fragment=IE;Tp.jsx=T_;Tp.jsxs=T_;g_.exports=Tp;var _t=g_.exports,_g={},P_={exports:{}},hi={},N_={exports:{}},x_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(Y,le){var ce=Y.length;Y.push(le);e:for(;0<ce;){var Ce=ce-1>>>1,L=Y[Ce];if(0<i(L,le))Y[Ce]=le,Y[ce]=L,ce=Ce;else break e}}function n(Y){return Y.length===0?null:Y[0]}function r(Y){if(Y.length===0)return null;var le=Y[0],ce=Y.pop();if(ce!==le){Y[0]=ce;e:for(var Ce=0,L=Y.length,q=L>>>1;Ce<q;){var G=2*(Ce+1)-1,J=Y[G],ne=G+1,ue=Y[ne];if(0>i(J,ce))ne<L&&0>i(ue,J)?(Y[Ce]=ue,Y[ne]=ce,Ce=ne):(Y[Ce]=J,Y[G]=ce,Ce=G);else if(ne<L&&0>i(ue,ce))Y[Ce]=ue,Y[ne]=ce,Ce=ne;else break e}}return le}function i(Y,le){var ce=Y.sortIndex-le.sortIndex;return ce!==0?ce:Y.id-le.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],h=[],p=1,g=null,_=3,v=!1,C=!1,P=!1,U=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function F(Y){for(var le=n(h);le!==null;){if(le.callback===null)r(h);else if(le.startTime<=Y)r(h),le.sortIndex=le.expirationTime,e(l,le);else break;le=n(h)}}function W(Y){if(P=!1,F(Y),!C)if(n(l)!==null)C=!0,me(Z);else{var le=n(h);le!==null&&ye(W,le.startTime-Y)}}function Z(Y,le){C=!1,P&&(P=!1,b(E),E=-1),v=!0;var ce=_;try{for(F(le),g=n(l);g!==null&&(!(g.expirationTime>le)||Y&&!I());){var Ce=g.callback;if(typeof Ce=="function"){g.callback=null,_=g.priorityLevel;var L=Ce(g.expirationTime<=le);le=t.unstable_now(),typeof L=="function"?g.callback=L:g===n(l)&&r(l),F(le)}else r(l);g=n(l)}if(g!==null)var q=!0;else{var G=n(h);G!==null&&ye(W,G.startTime-le),q=!1}return q}finally{g=null,_=ce,v=!1}}var ae=!1,R=null,E=-1,O=5,B=-1;function I(){return!(t.unstable_now()-B<O)}function T(){if(R!==null){var Y=t.unstable_now();B=Y;var le=!0;try{le=R(!0,Y)}finally{le?N():(ae=!1,R=null)}}else ae=!1}var N;if(typeof S=="function")N=function(){S(T)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,ve=Q.port2;Q.port1.onmessage=T,N=function(){ve.postMessage(null)}}else N=function(){U(T,0)};function me(Y){R=Y,ae||(ae=!0,N())}function ye(Y,le){E=U(function(){Y(t.unstable_now())},le)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Y){Y.callback=null},t.unstable_continueExecution=function(){C||v||(C=!0,me(Z))},t.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<Y?Math.floor(1e3/Y):5},t.unstable_getCurrentPriorityLevel=function(){return _},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(Y){switch(_){case 1:case 2:case 3:var le=3;break;default:le=_}var ce=_;_=le;try{return Y()}finally{_=ce}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Y,le){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var ce=_;_=Y;try{return le()}finally{_=ce}},t.unstable_scheduleCallback=function(Y,le,ce){var Ce=t.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?Ce+ce:Ce):ce=Ce,Y){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=ce+L,Y={id:p++,callback:le,priorityLevel:Y,startTime:ce,expirationTime:L,sortIndex:-1},ce>Ce?(Y.sortIndex=ce,e(h,Y),n(l)===null&&Y===n(h)&&(P?(b(E),E=-1):P=!0,ye(W,ce-Ce))):(Y.sortIndex=L,e(l,Y),C||v||(C=!0,me(Z))),Y},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(Y){var le=_;return function(){var ce=_;_=le;try{return Y.apply(this,arguments)}finally{_=ce}}}})(x_);N_.exports=x_;var xE=N_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kE=Ar,ci=xE;function Re(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var k_=new Set,Ah={};function Dl(t,e){Ju(t,e),Ju(t+"Capture",e)}function Ju(t,e){for(Ah[t]=e,t=0;t<e.length;t++)k_.add(e[t])}var co=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),wg=Object.prototype.hasOwnProperty,CE=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p5={},m5={};function LE(t){return wg.call(m5,t)?!0:wg.call(p5,t)?!1:CE.test(t)?m5[t]=!0:(p5[t]=!0,!1)}function RE(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function OE(t,e,n,r){if(e===null||typeof e>"u"||RE(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Or(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var ir={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ir[t]=new Or(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ir[e]=new Or(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ir[t]=new Or(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ir[t]=new Or(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ir[t]=new Or(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ir[t]=new Or(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ir[t]=new Or(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ir[t]=new Or(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ir[t]=new Or(t,5,!1,t.toLowerCase(),null,!1,!1)});var t2=/[\-:]([a-z])/g;function n2(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(t2,n2);ir[e]=new Or(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(t2,n2);ir[e]=new Or(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(t2,n2);ir[e]=new Or(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ir[t]=new Or(t,1,!1,t.toLowerCase(),null,!1,!1)});ir.xlinkHref=new Or("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ir[t]=new Or(t,1,!1,t.toLowerCase(),null,!0,!0)});function r2(t,e,n,r){var i=ir.hasOwnProperty(e)?ir[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(OE(e,n,i,r)&&(n=null),r||i===null?LE(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var _o=kE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ff=Symbol.for("react.element"),Au=Symbol.for("react.portal"),bu=Symbol.for("react.fragment"),i2=Symbol.for("react.strict_mode"),Ag=Symbol.for("react.profiler"),C_=Symbol.for("react.provider"),L_=Symbol.for("react.context"),s2=Symbol.for("react.forward_ref"),bg=Symbol.for("react.suspense"),Eg=Symbol.for("react.suspense_list"),o2=Symbol.for("react.memo"),ea=Symbol.for("react.lazy"),R_=Symbol.for("react.offscreen"),g5=Symbol.iterator;function jc(t){return t===null||typeof t!="object"?null:(t=g5&&t[g5]||t["@@iterator"],typeof t=="function"?t:null)}var hn=Object.assign,Nm;function Qc(t){if(Nm===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Nm=e&&e[1]||""}return`
`+Nm+t}var xm=!1;function km(t,e){if(!t||xm)return"";xm=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(h){var r=h}Reflect.construct(t,[],e)}else{try{e.call()}catch(h){r=h}t.call(e.prototype)}else{try{throw Error()}catch(h){r=h}t()}}catch(h){if(h&&r&&typeof h.stack=="string"){for(var i=h.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{xm=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Qc(t):""}function DE(t){switch(t.tag){case 5:return Qc(t.type);case 16:return Qc("Lazy");case 13:return Qc("Suspense");case 19:return Qc("SuspenseList");case 0:case 2:case 15:return t=km(t.type,!1),t;case 11:return t=km(t.type.render,!1),t;case 1:return t=km(t.type,!0),t;default:return""}}function Sg(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case bu:return"Fragment";case Au:return"Portal";case Ag:return"Profiler";case i2:return"StrictMode";case bg:return"Suspense";case Eg:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case L_:return(t.displayName||"Context")+".Consumer";case C_:return(t._context.displayName||"Context")+".Provider";case s2:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case o2:return e=t.displayName||null,e!==null?e:Sg(t.type)||"Memo";case ea:e=t._payload,t=t._init;try{return Sg(t(e))}catch{}}return null}function FE(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Sg(e);case 8:return e===i2?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ta(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function O_(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function ME(t){var e=O_(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Mf(t){t._valueTracker||(t._valueTracker=ME(t))}function D_(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=O_(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Od(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Ig(t,e){var n=e.checked;return hn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function v5(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ta(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function F_(t,e){e=e.checked,e!=null&&r2(t,"checked",e,!1)}function Tg(t,e){F_(t,e);var n=Ta(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Pg(t,e.type,n):e.hasOwnProperty("defaultValue")&&Pg(t,e.type,Ta(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function y5(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Pg(t,e,n){(e!=="number"||Od(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Yc=Array.isArray;function Ou(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ta(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Ng(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Re(91));return hn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function _5(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Re(92));if(Yc(n)){if(1<n.length)throw Error(Re(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ta(n)}}function M_(t,e){var n=Ta(e.value),r=Ta(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function w5(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function V_(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function xg(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?V_(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Vf,j_=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Vf=Vf||document.createElement("div"),Vf.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Vf.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function bh(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var sh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},VE=["Webkit","ms","Moz","O"];Object.keys(sh).forEach(function(t){VE.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),sh[e]=sh[t]})});function B_(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||sh.hasOwnProperty(t)&&sh[t]?(""+e).trim():e+"px"}function U_(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=B_(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var jE=hn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function kg(t,e){if(e){if(jE[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Re(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Re(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Re(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Re(62))}}function Cg(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Lg=null;function a2(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Rg=null,Du=null,Fu=null;function A5(t){if(t=Jh(t)){if(typeof Rg!="function")throw Error(Re(280));var e=t.stateNode;e&&(e=Cp(e),Rg(t.stateNode,t.type,e))}}function z_(t){Du?Fu?Fu.push(t):Fu=[t]:Du=t}function q_(){if(Du){var t=Du,e=Fu;if(Fu=Du=null,A5(t),e)for(t=0;t<e.length;t++)A5(e[t])}}function $_(t,e){return t(e)}function H_(){}var Cm=!1;function W_(t,e,n){if(Cm)return t(e,n);Cm=!0;try{return $_(t,e,n)}finally{Cm=!1,(Du!==null||Fu!==null)&&(H_(),q_())}}function Eh(t,e){var n=t.stateNode;if(n===null)return null;var r=Cp(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Re(231,e,typeof n));return n}var Og=!1;if(co)try{var Bc={};Object.defineProperty(Bc,"passive",{get:function(){Og=!0}}),window.addEventListener("test",Bc,Bc),window.removeEventListener("test",Bc,Bc)}catch{Og=!1}function BE(t,e,n,r,i,s,o,a,l){var h=Array.prototype.slice.call(arguments,3);try{e.apply(n,h)}catch(p){this.onError(p)}}var oh=!1,Dd=null,Fd=!1,Dg=null,UE={onError:function(t){oh=!0,Dd=t}};function zE(t,e,n,r,i,s,o,a,l){oh=!1,Dd=null,BE.apply(UE,arguments)}function qE(t,e,n,r,i,s,o,a,l){if(zE.apply(this,arguments),oh){if(oh){var h=Dd;oh=!1,Dd=null}else throw Error(Re(198));Fd||(Fd=!0,Dg=h)}}function Fl(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function G_(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function b5(t){if(Fl(t)!==t)throw Error(Re(188))}function $E(t){var e=t.alternate;if(!e){if(e=Fl(t),e===null)throw Error(Re(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return b5(i),t;if(s===r)return b5(i),e;s=s.sibling}throw Error(Re(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(Re(189))}}if(n.alternate!==r)throw Error(Re(190))}if(n.tag!==3)throw Error(Re(188));return n.stateNode.current===n?t:e}function K_(t){return t=$E(t),t!==null?Q_(t):null}function Q_(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Q_(t);if(e!==null)return e;t=t.sibling}return null}var Y_=ci.unstable_scheduleCallback,E5=ci.unstable_cancelCallback,HE=ci.unstable_shouldYield,WE=ci.unstable_requestPaint,Sn=ci.unstable_now,GE=ci.unstable_getCurrentPriorityLevel,l2=ci.unstable_ImmediatePriority,J_=ci.unstable_UserBlockingPriority,Md=ci.unstable_NormalPriority,KE=ci.unstable_LowPriority,X_=ci.unstable_IdlePriority,Pp=null,Is=null;function QE(t){if(Is&&typeof Is.onCommitFiberRoot=="function")try{Is.onCommitFiberRoot(Pp,t,void 0,(t.current.flags&128)===128)}catch{}}var Xi=Math.clz32?Math.clz32:XE,YE=Math.log,JE=Math.LN2;function XE(t){return t>>>=0,t===0?32:31-(YE(t)/JE|0)|0}var jf=64,Bf=4194304;function Jc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Vd(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Jc(a):(s&=o,s!==0&&(r=Jc(s)))}else o=n&~i,o!==0?r=Jc(o):s!==0&&(r=Jc(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Xi(e),i=1<<n,r|=t[n],e&=~i;return r}function ZE(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function eS(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Xi(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=ZE(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Fg(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Z_(){var t=jf;return jf<<=1,!(jf&4194240)&&(jf=64),t}function Lm(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Qh(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Xi(e),t[e]=n}function tS(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Xi(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function u2(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Xi(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var qt=0;function ew(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var tw,c2,nw,rw,iw,Mg=!1,Uf=[],fa=null,da=null,pa=null,Sh=new Map,Ih=new Map,na=[],nS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function S5(t,e){switch(t){case"focusin":case"focusout":fa=null;break;case"dragenter":case"dragleave":da=null;break;case"mouseover":case"mouseout":pa=null;break;case"pointerover":case"pointerout":Sh.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ih.delete(e.pointerId)}}function Uc(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Jh(e),e!==null&&c2(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function rS(t,e,n,r,i){switch(e){case"focusin":return fa=Uc(fa,t,e,n,r,i),!0;case"dragenter":return da=Uc(da,t,e,n,r,i),!0;case"mouseover":return pa=Uc(pa,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Sh.set(s,Uc(Sh.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Ih.set(s,Uc(Ih.get(s)||null,t,e,n,r,i)),!0}return!1}function sw(t){var e=pl(t.target);if(e!==null){var n=Fl(e);if(n!==null){if(e=n.tag,e===13){if(e=G_(n),e!==null){t.blockedOn=e,iw(t.priority,function(){nw(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function cd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Vg(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Lg=r,n.target.dispatchEvent(r),Lg=null}else return e=Jh(n),e!==null&&c2(e),t.blockedOn=n,!1;e.shift()}return!0}function I5(t,e,n){cd(t)&&n.delete(e)}function iS(){Mg=!1,fa!==null&&cd(fa)&&(fa=null),da!==null&&cd(da)&&(da=null),pa!==null&&cd(pa)&&(pa=null),Sh.forEach(I5),Ih.forEach(I5)}function zc(t,e){t.blockedOn===e&&(t.blockedOn=null,Mg||(Mg=!0,ci.unstable_scheduleCallback(ci.unstable_NormalPriority,iS)))}function Th(t){function e(i){return zc(i,t)}if(0<Uf.length){zc(Uf[0],t);for(var n=1;n<Uf.length;n++){var r=Uf[n];r.blockedOn===t&&(r.blockedOn=null)}}for(fa!==null&&zc(fa,t),da!==null&&zc(da,t),pa!==null&&zc(pa,t),Sh.forEach(e),Ih.forEach(e),n=0;n<na.length;n++)r=na[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<na.length&&(n=na[0],n.blockedOn===null);)sw(n),n.blockedOn===null&&na.shift()}var Mu=_o.ReactCurrentBatchConfig,jd=!0;function sS(t,e,n,r){var i=qt,s=Mu.transition;Mu.transition=null;try{qt=1,h2(t,e,n,r)}finally{qt=i,Mu.transition=s}}function oS(t,e,n,r){var i=qt,s=Mu.transition;Mu.transition=null;try{qt=4,h2(t,e,n,r)}finally{qt=i,Mu.transition=s}}function h2(t,e,n,r){if(jd){var i=Vg(t,e,n,r);if(i===null)zm(t,e,r,Bd,n),S5(t,r);else if(rS(i,t,e,n,r))r.stopPropagation();else if(S5(t,r),e&4&&-1<nS.indexOf(t)){for(;i!==null;){var s=Jh(i);if(s!==null&&tw(s),s=Vg(t,e,n,r),s===null&&zm(t,e,r,Bd,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else zm(t,e,r,null,n)}}var Bd=null;function Vg(t,e,n,r){if(Bd=null,t=a2(r),t=pl(t),t!==null)if(e=Fl(t),e===null)t=null;else if(n=e.tag,n===13){if(t=G_(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Bd=t,null}function ow(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(GE()){case l2:return 1;case J_:return 4;case Md:case KE:return 16;case X_:return 536870912;default:return 16}default:return 16}}var aa=null,f2=null,hd=null;function aw(){if(hd)return hd;var t,e=f2,n=e.length,r,i="value"in aa?aa.value:aa.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return hd=i.slice(t,1<r?1-r:void 0)}function fd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function zf(){return!0}function T5(){return!1}function fi(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?zf:T5,this.isPropagationStopped=T5,this}return hn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=zf)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=zf)},persist:function(){},isPersistent:zf}),e}var fc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},d2=fi(fc),Yh=hn({},fc,{view:0,detail:0}),aS=fi(Yh),Rm,Om,qc,Np=hn({},Yh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:p2,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==qc&&(qc&&t.type==="mousemove"?(Rm=t.screenX-qc.screenX,Om=t.screenY-qc.screenY):Om=Rm=0,qc=t),Rm)},movementY:function(t){return"movementY"in t?t.movementY:Om}}),P5=fi(Np),lS=hn({},Np,{dataTransfer:0}),uS=fi(lS),cS=hn({},Yh,{relatedTarget:0}),Dm=fi(cS),hS=hn({},fc,{animationName:0,elapsedTime:0,pseudoElement:0}),fS=fi(hS),dS=hn({},fc,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),pS=fi(dS),mS=hn({},fc,{data:0}),N5=fi(mS),gS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _S(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=yS[t])?!!e[t]:!1}function p2(){return _S}var wS=hn({},Yh,{key:function(t){if(t.key){var e=gS[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=fd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?vS[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:p2,charCode:function(t){return t.type==="keypress"?fd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?fd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),AS=fi(wS),bS=hn({},Np,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),x5=fi(bS),ES=hn({},Yh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:p2}),SS=fi(ES),IS=hn({},fc,{propertyName:0,elapsedTime:0,pseudoElement:0}),TS=fi(IS),PS=hn({},Np,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),NS=fi(PS),xS=[9,13,27,32],m2=co&&"CompositionEvent"in window,ah=null;co&&"documentMode"in document&&(ah=document.documentMode);var kS=co&&"TextEvent"in window&&!ah,lw=co&&(!m2||ah&&8<ah&&11>=ah),k5=" ",C5=!1;function uw(t,e){switch(t){case"keyup":return xS.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cw(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Eu=!1;function CS(t,e){switch(t){case"compositionend":return cw(e);case"keypress":return e.which!==32?null:(C5=!0,k5);case"textInput":return t=e.data,t===k5&&C5?null:t;default:return null}}function LS(t,e){if(Eu)return t==="compositionend"||!m2&&uw(t,e)?(t=aw(),hd=f2=aa=null,Eu=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return lw&&e.locale!=="ko"?null:e.data;default:return null}}var RS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function L5(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!RS[t.type]:e==="textarea"}function hw(t,e,n,r){z_(r),e=Ud(e,"onChange"),0<e.length&&(n=new d2("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var lh=null,Ph=null;function OS(t){bw(t,0)}function xp(t){var e=Tu(t);if(D_(e))return t}function DS(t,e){if(t==="change")return e}var fw=!1;if(co){var Fm;if(co){var Mm="oninput"in document;if(!Mm){var R5=document.createElement("div");R5.setAttribute("oninput","return;"),Mm=typeof R5.oninput=="function"}Fm=Mm}else Fm=!1;fw=Fm&&(!document.documentMode||9<document.documentMode)}function O5(){lh&&(lh.detachEvent("onpropertychange",dw),Ph=lh=null)}function dw(t){if(t.propertyName==="value"&&xp(Ph)){var e=[];hw(e,Ph,t,a2(t)),W_(OS,e)}}function FS(t,e,n){t==="focusin"?(O5(),lh=e,Ph=n,lh.attachEvent("onpropertychange",dw)):t==="focusout"&&O5()}function MS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return xp(Ph)}function VS(t,e){if(t==="click")return xp(e)}function jS(t,e){if(t==="input"||t==="change")return xp(e)}function BS(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ns=typeof Object.is=="function"?Object.is:BS;function Nh(t,e){if(ns(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!wg.call(e,i)||!ns(t[i],e[i]))return!1}return!0}function D5(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function F5(t,e){var n=D5(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=D5(n)}}function pw(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?pw(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function mw(){for(var t=window,e=Od();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Od(t.document)}return e}function g2(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function US(t){var e=mw(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&pw(n.ownerDocument.documentElement,n)){if(r!==null&&g2(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=F5(n,s);var o=F5(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var zS=co&&"documentMode"in document&&11>=document.documentMode,Su=null,jg=null,uh=null,Bg=!1;function M5(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Bg||Su==null||Su!==Od(r)||(r=Su,"selectionStart"in r&&g2(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),uh&&Nh(uh,r)||(uh=r,r=Ud(jg,"onSelect"),0<r.length&&(e=new d2("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Su)))}function qf(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Iu={animationend:qf("Animation","AnimationEnd"),animationiteration:qf("Animation","AnimationIteration"),animationstart:qf("Animation","AnimationStart"),transitionend:qf("Transition","TransitionEnd")},Vm={},gw={};co&&(gw=document.createElement("div").style,"AnimationEvent"in window||(delete Iu.animationend.animation,delete Iu.animationiteration.animation,delete Iu.animationstart.animation),"TransitionEvent"in window||delete Iu.transitionend.transition);function kp(t){if(Vm[t])return Vm[t];if(!Iu[t])return t;var e=Iu[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in gw)return Vm[t]=e[n];return t}var vw=kp("animationend"),yw=kp("animationiteration"),_w=kp("animationstart"),ww=kp("transitionend"),Aw=new Map,V5="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ma(t,e){Aw.set(t,e),Dl(e,[t])}for(var jm=0;jm<V5.length;jm++){var Bm=V5[jm],qS=Bm.toLowerCase(),$S=Bm[0].toUpperCase()+Bm.slice(1);Ma(qS,"on"+$S)}Ma(vw,"onAnimationEnd");Ma(yw,"onAnimationIteration");Ma(_w,"onAnimationStart");Ma("dblclick","onDoubleClick");Ma("focusin","onFocus");Ma("focusout","onBlur");Ma(ww,"onTransitionEnd");Ju("onMouseEnter",["mouseout","mouseover"]);Ju("onMouseLeave",["mouseout","mouseover"]);Ju("onPointerEnter",["pointerout","pointerover"]);Ju("onPointerLeave",["pointerout","pointerover"]);Dl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Dl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Dl("onBeforeInput",["compositionend","keypress","textInput","paste"]);Dl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Dl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Dl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),HS=new Set("cancel close invalid load scroll toggle".split(" ").concat(Xc));function j5(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,qE(r,e,void 0,t),t.currentTarget=null}function bw(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,h=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;j5(i,a,h),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,h=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;j5(i,a,h),s=l}}}if(Fd)throw t=Dg,Fd=!1,Dg=null,t}function nn(t,e){var n=e[Hg];n===void 0&&(n=e[Hg]=new Set);var r=t+"__bubble";n.has(r)||(Ew(e,t,2,!1),n.add(r))}function Um(t,e,n){var r=0;e&&(r|=4),Ew(n,t,r,e)}var $f="_reactListening"+Math.random().toString(36).slice(2);function xh(t){if(!t[$f]){t[$f]=!0,k_.forEach(function(n){n!=="selectionchange"&&(HS.has(n)||Um(n,!1,t),Um(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[$f]||(e[$f]=!0,Um("selectionchange",!1,e))}}function Ew(t,e,n,r){switch(ow(e)){case 1:var i=sS;break;case 4:i=oS;break;default:i=h2}n=i.bind(null,e,n,t),i=void 0,!Og||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function zm(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=pl(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}W_(function(){var h=s,p=a2(n),g=[];e:{var _=Aw.get(t);if(_!==void 0){var v=d2,C=t;switch(t){case"keypress":if(fd(n)===0)break e;case"keydown":case"keyup":v=AS;break;case"focusin":C="focus",v=Dm;break;case"focusout":C="blur",v=Dm;break;case"beforeblur":case"afterblur":v=Dm;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=P5;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=uS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=SS;break;case vw:case yw:case _w:v=fS;break;case ww:v=TS;break;case"scroll":v=aS;break;case"wheel":v=NS;break;case"copy":case"cut":case"paste":v=pS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=x5}var P=(e&4)!==0,U=!P&&t==="scroll",b=P?_!==null?_+"Capture":null:_;P=[];for(var S=h,F;S!==null;){F=S;var W=F.stateNode;if(F.tag===5&&W!==null&&(F=W,b!==null&&(W=Eh(S,b),W!=null&&P.push(kh(S,W,F)))),U)break;S=S.return}0<P.length&&(_=new v(_,C,null,n,p),g.push({event:_,listeners:P}))}}if(!(e&7)){e:{if(_=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",_&&n!==Lg&&(C=n.relatedTarget||n.fromElement)&&(pl(C)||C[ho]))break e;if((v||_)&&(_=p.window===p?p:(_=p.ownerDocument)?_.defaultView||_.parentWindow:window,v?(C=n.relatedTarget||n.toElement,v=h,C=C?pl(C):null,C!==null&&(U=Fl(C),C!==U||C.tag!==5&&C.tag!==6)&&(C=null)):(v=null,C=h),v!==C)){if(P=P5,W="onMouseLeave",b="onMouseEnter",S="mouse",(t==="pointerout"||t==="pointerover")&&(P=x5,W="onPointerLeave",b="onPointerEnter",S="pointer"),U=v==null?_:Tu(v),F=C==null?_:Tu(C),_=new P(W,S+"leave",v,n,p),_.target=U,_.relatedTarget=F,W=null,pl(p)===h&&(P=new P(b,S+"enter",C,n,p),P.target=F,P.relatedTarget=U,W=P),U=W,v&&C)t:{for(P=v,b=C,S=0,F=P;F;F=fu(F))S++;for(F=0,W=b;W;W=fu(W))F++;for(;0<S-F;)P=fu(P),S--;for(;0<F-S;)b=fu(b),F--;for(;S--;){if(P===b||b!==null&&P===b.alternate)break t;P=fu(P),b=fu(b)}P=null}else P=null;v!==null&&B5(g,_,v,P,!1),C!==null&&U!==null&&B5(g,U,C,P,!0)}}e:{if(_=h?Tu(h):window,v=_.nodeName&&_.nodeName.toLowerCase(),v==="select"||v==="input"&&_.type==="file")var Z=DS;else if(L5(_))if(fw)Z=jS;else{Z=MS;var ae=FS}else(v=_.nodeName)&&v.toLowerCase()==="input"&&(_.type==="checkbox"||_.type==="radio")&&(Z=VS);if(Z&&(Z=Z(t,h))){hw(g,Z,n,p);break e}ae&&ae(t,_,h),t==="focusout"&&(ae=_._wrapperState)&&ae.controlled&&_.type==="number"&&Pg(_,"number",_.value)}switch(ae=h?Tu(h):window,t){case"focusin":(L5(ae)||ae.contentEditable==="true")&&(Su=ae,jg=h,uh=null);break;case"focusout":uh=jg=Su=null;break;case"mousedown":Bg=!0;break;case"contextmenu":case"mouseup":case"dragend":Bg=!1,M5(g,n,p);break;case"selectionchange":if(zS)break;case"keydown":case"keyup":M5(g,n,p)}var R;if(m2)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Eu?uw(t,n)&&(E="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(lw&&n.locale!=="ko"&&(Eu||E!=="onCompositionStart"?E==="onCompositionEnd"&&Eu&&(R=aw()):(aa=p,f2="value"in aa?aa.value:aa.textContent,Eu=!0)),ae=Ud(h,E),0<ae.length&&(E=new N5(E,t,null,n,p),g.push({event:E,listeners:ae}),R?E.data=R:(R=cw(n),R!==null&&(E.data=R)))),(R=kS?CS(t,n):LS(t,n))&&(h=Ud(h,"onBeforeInput"),0<h.length&&(p=new N5("onBeforeInput","beforeinput",null,n,p),g.push({event:p,listeners:h}),p.data=R))}bw(g,e)})}function kh(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ud(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Eh(t,n),s!=null&&r.unshift(kh(t,s,i)),s=Eh(t,e),s!=null&&r.push(kh(t,s,i))),t=t.return}return r}function fu(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function B5(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,h=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&h!==null&&(a=h,i?(l=Eh(n,s),l!=null&&o.unshift(kh(n,l,a))):i||(l=Eh(n,s),l!=null&&o.push(kh(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var WS=/\r\n?/g,GS=/\u0000|\uFFFD/g;function U5(t){return(typeof t=="string"?t:""+t).replace(WS,`
`).replace(GS,"")}function Hf(t,e,n){if(e=U5(e),U5(t)!==e&&n)throw Error(Re(425))}function zd(){}var Ug=null,zg=null;function qg(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var $g=typeof setTimeout=="function"?setTimeout:void 0,KS=typeof clearTimeout=="function"?clearTimeout:void 0,z5=typeof Promise=="function"?Promise:void 0,QS=typeof queueMicrotask=="function"?queueMicrotask:typeof z5<"u"?function(t){return z5.resolve(null).then(t).catch(YS)}:$g;function YS(t){setTimeout(function(){throw t})}function qm(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Th(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Th(e)}function ma(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function q5(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var dc=Math.random().toString(36).slice(2),Es="__reactFiber$"+dc,Ch="__reactProps$"+dc,ho="__reactContainer$"+dc,Hg="__reactEvents$"+dc,JS="__reactListeners$"+dc,XS="__reactHandles$"+dc;function pl(t){var e=t[Es];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ho]||n[Es]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=q5(t);t!==null;){if(n=t[Es])return n;t=q5(t)}return e}t=n,n=t.parentNode}return null}function Jh(t){return t=t[Es]||t[ho],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Tu(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Re(33))}function Cp(t){return t[Ch]||null}var Wg=[],Pu=-1;function Va(t){return{current:t}}function an(t){0>Pu||(t.current=Wg[Pu],Wg[Pu]=null,Pu--)}function Xt(t,e){Pu++,Wg[Pu]=t.current,t.current=e}var Pa={},br=Va(Pa),Wr=Va(!1),Sl=Pa;function Xu(t,e){var n=t.type.contextTypes;if(!n)return Pa;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Gr(t){return t=t.childContextTypes,t!=null}function qd(){an(Wr),an(br)}function $5(t,e,n){if(br.current!==Pa)throw Error(Re(168));Xt(br,e),Xt(Wr,n)}function Sw(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Re(108,FE(t)||"Unknown",i));return hn({},n,r)}function $d(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Pa,Sl=br.current,Xt(br,t),Xt(Wr,Wr.current),!0}function H5(t,e,n){var r=t.stateNode;if(!r)throw Error(Re(169));n?(t=Sw(t,e,Sl),r.__reactInternalMemoizedMergedChildContext=t,an(Wr),an(br),Xt(br,t)):an(Wr),Xt(Wr,n)}var no=null,Lp=!1,$m=!1;function Iw(t){no===null?no=[t]:no.push(t)}function ZS(t){Lp=!0,Iw(t)}function ja(){if(!$m&&no!==null){$m=!0;var t=0,e=qt;try{var n=no;for(qt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}no=null,Lp=!1}catch(i){throw no!==null&&(no=no.slice(t+1)),Y_(l2,ja),i}finally{qt=e,$m=!1}}return null}var Nu=[],xu=0,Hd=null,Wd=0,Ei=[],Si=0,Il=null,io=1,so="";function ul(t,e){Nu[xu++]=Wd,Nu[xu++]=Hd,Hd=t,Wd=e}function Tw(t,e,n){Ei[Si++]=io,Ei[Si++]=so,Ei[Si++]=Il,Il=t;var r=io;t=so;var i=32-Xi(r)-1;r&=~(1<<i),n+=1;var s=32-Xi(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,io=1<<32-Xi(e)+i|n<<i|r,so=s+t}else io=1<<s|n<<i|r,so=t}function v2(t){t.return!==null&&(ul(t,1),Tw(t,1,0))}function y2(t){for(;t===Hd;)Hd=Nu[--xu],Nu[xu]=null,Wd=Nu[--xu],Nu[xu]=null;for(;t===Il;)Il=Ei[--Si],Ei[Si]=null,so=Ei[--Si],Ei[Si]=null,io=Ei[--Si],Ei[Si]=null}var ui=null,ai=null,ln=!1,Qi=null;function Pw(t,e){var n=Pi(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function W5(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ui=t,ai=ma(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ui=t,ai=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Il!==null?{id:io,overflow:so}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Pi(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,ui=t,ai=null,!0):!1;default:return!1}}function Gg(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Kg(t){if(ln){var e=ai;if(e){var n=e;if(!W5(t,e)){if(Gg(t))throw Error(Re(418));e=ma(n.nextSibling);var r=ui;e&&W5(t,e)?Pw(r,n):(t.flags=t.flags&-4097|2,ln=!1,ui=t)}}else{if(Gg(t))throw Error(Re(418));t.flags=t.flags&-4097|2,ln=!1,ui=t}}}function G5(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ui=t}function Wf(t){if(t!==ui)return!1;if(!ln)return G5(t),ln=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!qg(t.type,t.memoizedProps)),e&&(e=ai)){if(Gg(t))throw Nw(),Error(Re(418));for(;e;)Pw(t,e),e=ma(e.nextSibling)}if(G5(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Re(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){ai=ma(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}ai=null}}else ai=ui?ma(t.stateNode.nextSibling):null;return!0}function Nw(){for(var t=ai;t;)t=ma(t.nextSibling)}function Zu(){ai=ui=null,ln=!1}function _2(t){Qi===null?Qi=[t]:Qi.push(t)}var eI=_o.ReactCurrentBatchConfig;function $c(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Re(309));var r=n.stateNode}if(!r)throw Error(Re(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(Re(284));if(!n._owner)throw Error(Re(290,t))}return t}function Gf(t,e){throw t=Object.prototype.toString.call(e),Error(Re(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function K5(t){var e=t._init;return e(t._payload)}function xw(t){function e(b,S){if(t){var F=b.deletions;F===null?(b.deletions=[S],b.flags|=16):F.push(S)}}function n(b,S){if(!t)return null;for(;S!==null;)e(b,S),S=S.sibling;return null}function r(b,S){for(b=new Map;S!==null;)S.key!==null?b.set(S.key,S):b.set(S.index,S),S=S.sibling;return b}function i(b,S){return b=_a(b,S),b.index=0,b.sibling=null,b}function s(b,S,F){return b.index=F,t?(F=b.alternate,F!==null?(F=F.index,F<S?(b.flags|=2,S):F):(b.flags|=2,S)):(b.flags|=1048576,S)}function o(b){return t&&b.alternate===null&&(b.flags|=2),b}function a(b,S,F,W){return S===null||S.tag!==6?(S=Jm(F,b.mode,W),S.return=b,S):(S=i(S,F),S.return=b,S)}function l(b,S,F,W){var Z=F.type;return Z===bu?p(b,S,F.props.children,W,F.key):S!==null&&(S.elementType===Z||typeof Z=="object"&&Z!==null&&Z.$$typeof===ea&&K5(Z)===S.type)?(W=i(S,F.props),W.ref=$c(b,S,F),W.return=b,W):(W=_d(F.type,F.key,F.props,null,b.mode,W),W.ref=$c(b,S,F),W.return=b,W)}function h(b,S,F,W){return S===null||S.tag!==4||S.stateNode.containerInfo!==F.containerInfo||S.stateNode.implementation!==F.implementation?(S=Xm(F,b.mode,W),S.return=b,S):(S=i(S,F.children||[]),S.return=b,S)}function p(b,S,F,W,Z){return S===null||S.tag!==7?(S=wl(F,b.mode,W,Z),S.return=b,S):(S=i(S,F),S.return=b,S)}function g(b,S,F){if(typeof S=="string"&&S!==""||typeof S=="number")return S=Jm(""+S,b.mode,F),S.return=b,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Ff:return F=_d(S.type,S.key,S.props,null,b.mode,F),F.ref=$c(b,null,S),F.return=b,F;case Au:return S=Xm(S,b.mode,F),S.return=b,S;case ea:var W=S._init;return g(b,W(S._payload),F)}if(Yc(S)||jc(S))return S=wl(S,b.mode,F,null),S.return=b,S;Gf(b,S)}return null}function _(b,S,F,W){var Z=S!==null?S.key:null;if(typeof F=="string"&&F!==""||typeof F=="number")return Z!==null?null:a(b,S,""+F,W);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case Ff:return F.key===Z?l(b,S,F,W):null;case Au:return F.key===Z?h(b,S,F,W):null;case ea:return Z=F._init,_(b,S,Z(F._payload),W)}if(Yc(F)||jc(F))return Z!==null?null:p(b,S,F,W,null);Gf(b,F)}return null}function v(b,S,F,W,Z){if(typeof W=="string"&&W!==""||typeof W=="number")return b=b.get(F)||null,a(S,b,""+W,Z);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case Ff:return b=b.get(W.key===null?F:W.key)||null,l(S,b,W,Z);case Au:return b=b.get(W.key===null?F:W.key)||null,h(S,b,W,Z);case ea:var ae=W._init;return v(b,S,F,ae(W._payload),Z)}if(Yc(W)||jc(W))return b=b.get(F)||null,p(S,b,W,Z,null);Gf(S,W)}return null}function C(b,S,F,W){for(var Z=null,ae=null,R=S,E=S=0,O=null;R!==null&&E<F.length;E++){R.index>E?(O=R,R=null):O=R.sibling;var B=_(b,R,F[E],W);if(B===null){R===null&&(R=O);break}t&&R&&B.alternate===null&&e(b,R),S=s(B,S,E),ae===null?Z=B:ae.sibling=B,ae=B,R=O}if(E===F.length)return n(b,R),ln&&ul(b,E),Z;if(R===null){for(;E<F.length;E++)R=g(b,F[E],W),R!==null&&(S=s(R,S,E),ae===null?Z=R:ae.sibling=R,ae=R);return ln&&ul(b,E),Z}for(R=r(b,R);E<F.length;E++)O=v(R,b,E,F[E],W),O!==null&&(t&&O.alternate!==null&&R.delete(O.key===null?E:O.key),S=s(O,S,E),ae===null?Z=O:ae.sibling=O,ae=O);return t&&R.forEach(function(I){return e(b,I)}),ln&&ul(b,E),Z}function P(b,S,F,W){var Z=jc(F);if(typeof Z!="function")throw Error(Re(150));if(F=Z.call(F),F==null)throw Error(Re(151));for(var ae=Z=null,R=S,E=S=0,O=null,B=F.next();R!==null&&!B.done;E++,B=F.next()){R.index>E?(O=R,R=null):O=R.sibling;var I=_(b,R,B.value,W);if(I===null){R===null&&(R=O);break}t&&R&&I.alternate===null&&e(b,R),S=s(I,S,E),ae===null?Z=I:ae.sibling=I,ae=I,R=O}if(B.done)return n(b,R),ln&&ul(b,E),Z;if(R===null){for(;!B.done;E++,B=F.next())B=g(b,B.value,W),B!==null&&(S=s(B,S,E),ae===null?Z=B:ae.sibling=B,ae=B);return ln&&ul(b,E),Z}for(R=r(b,R);!B.done;E++,B=F.next())B=v(R,b,E,B.value,W),B!==null&&(t&&B.alternate!==null&&R.delete(B.key===null?E:B.key),S=s(B,S,E),ae===null?Z=B:ae.sibling=B,ae=B);return t&&R.forEach(function(T){return e(b,T)}),ln&&ul(b,E),Z}function U(b,S,F,W){if(typeof F=="object"&&F!==null&&F.type===bu&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case Ff:e:{for(var Z=F.key,ae=S;ae!==null;){if(ae.key===Z){if(Z=F.type,Z===bu){if(ae.tag===7){n(b,ae.sibling),S=i(ae,F.props.children),S.return=b,b=S;break e}}else if(ae.elementType===Z||typeof Z=="object"&&Z!==null&&Z.$$typeof===ea&&K5(Z)===ae.type){n(b,ae.sibling),S=i(ae,F.props),S.ref=$c(b,ae,F),S.return=b,b=S;break e}n(b,ae);break}else e(b,ae);ae=ae.sibling}F.type===bu?(S=wl(F.props.children,b.mode,W,F.key),S.return=b,b=S):(W=_d(F.type,F.key,F.props,null,b.mode,W),W.ref=$c(b,S,F),W.return=b,b=W)}return o(b);case Au:e:{for(ae=F.key;S!==null;){if(S.key===ae)if(S.tag===4&&S.stateNode.containerInfo===F.containerInfo&&S.stateNode.implementation===F.implementation){n(b,S.sibling),S=i(S,F.children||[]),S.return=b,b=S;break e}else{n(b,S);break}else e(b,S);S=S.sibling}S=Xm(F,b.mode,W),S.return=b,b=S}return o(b);case ea:return ae=F._init,U(b,S,ae(F._payload),W)}if(Yc(F))return C(b,S,F,W);if(jc(F))return P(b,S,F,W);Gf(b,F)}return typeof F=="string"&&F!==""||typeof F=="number"?(F=""+F,S!==null&&S.tag===6?(n(b,S.sibling),S=i(S,F),S.return=b,b=S):(n(b,S),S=Jm(F,b.mode,W),S.return=b,b=S),o(b)):n(b,S)}return U}var ec=xw(!0),kw=xw(!1),Gd=Va(null),Kd=null,ku=null,w2=null;function A2(){w2=ku=Kd=null}function b2(t){var e=Gd.current;an(Gd),t._currentValue=e}function Qg(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Vu(t,e){Kd=t,w2=ku=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Hr=!0),t.firstContext=null)}function xi(t){var e=t._currentValue;if(w2!==t)if(t={context:t,memoizedValue:e,next:null},ku===null){if(Kd===null)throw Error(Re(308));ku=t,Kd.dependencies={lanes:0,firstContext:t}}else ku=ku.next=t;return e}var ml=null;function E2(t){ml===null?ml=[t]:ml.push(t)}function Cw(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,E2(e)):(n.next=i.next,i.next=n),e.interleaved=n,fo(t,r)}function fo(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ta=!1;function S2(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Lw(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function lo(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ga(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Rt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,fo(t,n)}return i=r.interleaved,i===null?(e.next=e,E2(r)):(e.next=i.next,i.next=e),r.interleaved=e,fo(t,n)}function dd(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,u2(t,n)}}function Q5(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Qd(t,e,n,r){var i=t.updateQueue;ta=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,h=l.next;l.next=null,o===null?s=h:o.next=h,o=l;var p=t.alternate;p!==null&&(p=p.updateQueue,a=p.lastBaseUpdate,a!==o&&(a===null?p.firstBaseUpdate=h:a.next=h,p.lastBaseUpdate=l))}if(s!==null){var g=i.baseState;o=0,p=h=l=null,a=s;do{var _=a.lane,v=a.eventTime;if((r&_)===_){p!==null&&(p=p.next={eventTime:v,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var C=t,P=a;switch(_=e,v=n,P.tag){case 1:if(C=P.payload,typeof C=="function"){g=C.call(v,g,_);break e}g=C;break e;case 3:C.flags=C.flags&-65537|128;case 0:if(C=P.payload,_=typeof C=="function"?C.call(v,g,_):C,_==null)break e;g=hn({},g,_);break e;case 2:ta=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,_=i.effects,_===null?i.effects=[a]:_.push(a))}else v={eventTime:v,lane:_,tag:a.tag,payload:a.payload,callback:a.callback,next:null},p===null?(h=p=v,l=g):p=p.next=v,o|=_;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;_=a,a=_.next,_.next=null,i.lastBaseUpdate=_,i.shared.pending=null}}while(!0);if(p===null&&(l=g),i.baseState=l,i.firstBaseUpdate=h,i.lastBaseUpdate=p,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Pl|=o,t.lanes=o,t.memoizedState=g}}function Y5(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Re(191,i));i.call(r)}}}var Xh={},Ts=Va(Xh),Lh=Va(Xh),Rh=Va(Xh);function gl(t){if(t===Xh)throw Error(Re(174));return t}function I2(t,e){switch(Xt(Rh,e),Xt(Lh,t),Xt(Ts,Xh),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:xg(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=xg(e,t)}an(Ts),Xt(Ts,e)}function tc(){an(Ts),an(Lh),an(Rh)}function Rw(t){gl(Rh.current);var e=gl(Ts.current),n=xg(e,t.type);e!==n&&(Xt(Lh,t),Xt(Ts,n))}function T2(t){Lh.current===t&&(an(Ts),an(Lh))}var un=Va(0);function Yd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Hm=[];function P2(){for(var t=0;t<Hm.length;t++)Hm[t]._workInProgressVersionPrimary=null;Hm.length=0}var pd=_o.ReactCurrentDispatcher,Wm=_o.ReactCurrentBatchConfig,Tl=0,cn=null,Vn=null,Wn=null,Jd=!1,ch=!1,Oh=0,tI=0;function cr(){throw Error(Re(321))}function N2(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ns(t[n],e[n]))return!1;return!0}function x2(t,e,n,r,i,s){if(Tl=s,cn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,pd.current=t===null||t.memoizedState===null?sI:oI,t=n(r,i),ch){s=0;do{if(ch=!1,Oh=0,25<=s)throw Error(Re(301));s+=1,Wn=Vn=null,e.updateQueue=null,pd.current=aI,t=n(r,i)}while(ch)}if(pd.current=Xd,e=Vn!==null&&Vn.next!==null,Tl=0,Wn=Vn=cn=null,Jd=!1,e)throw Error(Re(300));return t}function k2(){var t=Oh!==0;return Oh=0,t}function As(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Wn===null?cn.memoizedState=Wn=t:Wn=Wn.next=t,Wn}function ki(){if(Vn===null){var t=cn.alternate;t=t!==null?t.memoizedState:null}else t=Vn.next;var e=Wn===null?cn.memoizedState:Wn.next;if(e!==null)Wn=e,Vn=t;else{if(t===null)throw Error(Re(310));Vn=t,t={memoizedState:Vn.memoizedState,baseState:Vn.baseState,baseQueue:Vn.baseQueue,queue:Vn.queue,next:null},Wn===null?cn.memoizedState=Wn=t:Wn=Wn.next=t}return Wn}function Dh(t,e){return typeof e=="function"?e(t):e}function Gm(t){var e=ki(),n=e.queue;if(n===null)throw Error(Re(311));n.lastRenderedReducer=t;var r=Vn,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,h=s;do{var p=h.lane;if((Tl&p)===p)l!==null&&(l=l.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),r=h.hasEagerState?h.eagerState:t(r,h.action);else{var g={lane:p,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};l===null?(a=l=g,o=r):l=l.next=g,cn.lanes|=p,Pl|=p}h=h.next}while(h!==null&&h!==s);l===null?o=r:l.next=a,ns(r,e.memoizedState)||(Hr=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,cn.lanes|=s,Pl|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Km(t){var e=ki(),n=e.queue;if(n===null)throw Error(Re(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);ns(s,e.memoizedState)||(Hr=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function Ow(){}function Dw(t,e){var n=cn,r=ki(),i=e(),s=!ns(r.memoizedState,i);if(s&&(r.memoizedState=i,Hr=!0),r=r.queue,C2(Vw.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Wn!==null&&Wn.memoizedState.tag&1){if(n.flags|=2048,Fh(9,Mw.bind(null,n,r,i,e),void 0,null),Kn===null)throw Error(Re(349));Tl&30||Fw(n,e,i)}return i}function Fw(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=cn.updateQueue,e===null?(e={lastEffect:null,stores:null},cn.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Mw(t,e,n,r){e.value=n,e.getSnapshot=r,jw(e)&&Bw(t)}function Vw(t,e,n){return n(function(){jw(e)&&Bw(t)})}function jw(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ns(t,n)}catch{return!0}}function Bw(t){var e=fo(t,1);e!==null&&Zi(e,t,1,-1)}function J5(t){var e=As();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Dh,lastRenderedState:t},e.queue=t,t=t.dispatch=iI.bind(null,cn,t),[e.memoizedState,t]}function Fh(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=cn.updateQueue,e===null?(e={lastEffect:null,stores:null},cn.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Uw(){return ki().memoizedState}function md(t,e,n,r){var i=As();cn.flags|=t,i.memoizedState=Fh(1|e,n,void 0,r===void 0?null:r)}function Rp(t,e,n,r){var i=ki();r=r===void 0?null:r;var s=void 0;if(Vn!==null){var o=Vn.memoizedState;if(s=o.destroy,r!==null&&N2(r,o.deps)){i.memoizedState=Fh(e,n,s,r);return}}cn.flags|=t,i.memoizedState=Fh(1|e,n,s,r)}function X5(t,e){return md(8390656,8,t,e)}function C2(t,e){return Rp(2048,8,t,e)}function zw(t,e){return Rp(4,2,t,e)}function qw(t,e){return Rp(4,4,t,e)}function $w(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Hw(t,e,n){return n=n!=null?n.concat([t]):null,Rp(4,4,$w.bind(null,e,t),n)}function L2(){}function Ww(t,e){var n=ki();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&N2(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Gw(t,e){var n=ki();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&N2(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Kw(t,e,n){return Tl&21?(ns(n,e)||(n=Z_(),cn.lanes|=n,Pl|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Hr=!0),t.memoizedState=n)}function nI(t,e){var n=qt;qt=n!==0&&4>n?n:4,t(!0);var r=Wm.transition;Wm.transition={};try{t(!1),e()}finally{qt=n,Wm.transition=r}}function Qw(){return ki().memoizedState}function rI(t,e,n){var r=ya(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Yw(t))Jw(e,n);else if(n=Cw(t,e,n,r),n!==null){var i=Cr();Zi(n,t,r,i),Xw(n,e,r)}}function iI(t,e,n){var r=ya(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Yw(t))Jw(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,ns(a,o)){var l=e.interleaved;l===null?(i.next=i,E2(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=Cw(t,e,i,r),n!==null&&(i=Cr(),Zi(n,t,r,i),Xw(n,e,r))}}function Yw(t){var e=t.alternate;return t===cn||e!==null&&e===cn}function Jw(t,e){ch=Jd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Xw(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,u2(t,n)}}var Xd={readContext:xi,useCallback:cr,useContext:cr,useEffect:cr,useImperativeHandle:cr,useInsertionEffect:cr,useLayoutEffect:cr,useMemo:cr,useReducer:cr,useRef:cr,useState:cr,useDebugValue:cr,useDeferredValue:cr,useTransition:cr,useMutableSource:cr,useSyncExternalStore:cr,useId:cr,unstable_isNewReconciler:!1},sI={readContext:xi,useCallback:function(t,e){return As().memoizedState=[t,e===void 0?null:e],t},useContext:xi,useEffect:X5,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,md(4194308,4,$w.bind(null,e,t),n)},useLayoutEffect:function(t,e){return md(4194308,4,t,e)},useInsertionEffect:function(t,e){return md(4,2,t,e)},useMemo:function(t,e){var n=As();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=As();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=rI.bind(null,cn,t),[r.memoizedState,t]},useRef:function(t){var e=As();return t={current:t},e.memoizedState=t},useState:J5,useDebugValue:L2,useDeferredValue:function(t){return As().memoizedState=t},useTransition:function(){var t=J5(!1),e=t[0];return t=nI.bind(null,t[1]),As().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=cn,i=As();if(ln){if(n===void 0)throw Error(Re(407));n=n()}else{if(n=e(),Kn===null)throw Error(Re(349));Tl&30||Fw(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,X5(Vw.bind(null,r,s,t),[t]),r.flags|=2048,Fh(9,Mw.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=As(),e=Kn.identifierPrefix;if(ln){var n=so,r=io;n=(r&~(1<<32-Xi(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Oh++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=tI++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},oI={readContext:xi,useCallback:Ww,useContext:xi,useEffect:C2,useImperativeHandle:Hw,useInsertionEffect:zw,useLayoutEffect:qw,useMemo:Gw,useReducer:Gm,useRef:Uw,useState:function(){return Gm(Dh)},useDebugValue:L2,useDeferredValue:function(t){var e=ki();return Kw(e,Vn.memoizedState,t)},useTransition:function(){var t=Gm(Dh)[0],e=ki().memoizedState;return[t,e]},useMutableSource:Ow,useSyncExternalStore:Dw,useId:Qw,unstable_isNewReconciler:!1},aI={readContext:xi,useCallback:Ww,useContext:xi,useEffect:C2,useImperativeHandle:Hw,useInsertionEffect:zw,useLayoutEffect:qw,useMemo:Gw,useReducer:Km,useRef:Uw,useState:function(){return Km(Dh)},useDebugValue:L2,useDeferredValue:function(t){var e=ki();return Vn===null?e.memoizedState=t:Kw(e,Vn.memoizedState,t)},useTransition:function(){var t=Km(Dh)[0],e=ki().memoizedState;return[t,e]},useMutableSource:Ow,useSyncExternalStore:Dw,useId:Qw,unstable_isNewReconciler:!1};function Wi(t,e){if(t&&t.defaultProps){e=hn({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Yg(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:hn({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Op={isMounted:function(t){return(t=t._reactInternals)?Fl(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Cr(),i=ya(t),s=lo(r,i);s.payload=e,n!=null&&(s.callback=n),e=ga(t,s,i),e!==null&&(Zi(e,t,i,r),dd(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Cr(),i=ya(t),s=lo(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=ga(t,s,i),e!==null&&(Zi(e,t,i,r),dd(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Cr(),r=ya(t),i=lo(n,r);i.tag=2,e!=null&&(i.callback=e),e=ga(t,i,r),e!==null&&(Zi(e,t,r,n),dd(e,t,r))}};function Z5(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Nh(n,r)||!Nh(i,s):!0}function Zw(t,e,n){var r=!1,i=Pa,s=e.contextType;return typeof s=="object"&&s!==null?s=xi(s):(i=Gr(e)?Sl:br.current,r=e.contextTypes,s=(r=r!=null)?Xu(t,i):Pa),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Op,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function ev(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Op.enqueueReplaceState(e,e.state,null)}function Jg(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},S2(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=xi(s):(s=Gr(e)?Sl:br.current,i.context=Xu(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Yg(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Op.enqueueReplaceState(i,i.state,null),Qd(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function nc(t,e){try{var n="",r=e;do n+=DE(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Qm(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Xg(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var lI=typeof WeakMap=="function"?WeakMap:Map;function e4(t,e,n){n=lo(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){ep||(ep=!0,l1=r),Xg(t,e)},n}function t4(t,e,n){n=lo(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Xg(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Xg(t,e),typeof r!="function"&&(va===null?va=new Set([this]):va.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function tv(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new lI;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=bI.bind(null,t,e,n),e.then(t,t))}function nv(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function rv(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=lo(-1,1),e.tag=2,ga(n,e,1))),n.lanes|=1),t)}var uI=_o.ReactCurrentOwner,Hr=!1;function kr(t,e,n,r){e.child=t===null?kw(e,null,n,r):ec(e,t.child,n,r)}function iv(t,e,n,r,i){n=n.render;var s=e.ref;return Vu(e,i),r=x2(t,e,n,r,s,i),n=k2(),t!==null&&!Hr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,po(t,e,i)):(ln&&n&&v2(e),e.flags|=1,kr(t,e,r,i),e.child)}function sv(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!B2(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,n4(t,e,s,r,i)):(t=_d(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Nh,n(o,r)&&t.ref===e.ref)return po(t,e,i)}return e.flags|=1,t=_a(s,r),t.ref=e.ref,t.return=e,e.child=t}function n4(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Nh(s,r)&&t.ref===e.ref)if(Hr=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Hr=!0);else return e.lanes=t.lanes,po(t,e,i)}return Zg(t,e,n,r,i)}function r4(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Xt(Lu,si),si|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Xt(Lu,si),si|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Xt(Lu,si),si|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Xt(Lu,si),si|=r;return kr(t,e,i,n),e.child}function i4(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Zg(t,e,n,r,i){var s=Gr(n)?Sl:br.current;return s=Xu(e,s),Vu(e,i),n=x2(t,e,n,r,s,i),r=k2(),t!==null&&!Hr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,po(t,e,i)):(ln&&r&&v2(e),e.flags|=1,kr(t,e,n,i),e.child)}function ov(t,e,n,r,i){if(Gr(n)){var s=!0;$d(e)}else s=!1;if(Vu(e,i),e.stateNode===null)gd(t,e),Zw(e,n,r),Jg(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,h=n.contextType;typeof h=="object"&&h!==null?h=xi(h):(h=Gr(n)?Sl:br.current,h=Xu(e,h));var p=n.getDerivedStateFromProps,g=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function";g||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==h)&&ev(e,o,r,h),ta=!1;var _=e.memoizedState;o.state=_,Qd(e,r,o,i),l=e.memoizedState,a!==r||_!==l||Wr.current||ta?(typeof p=="function"&&(Yg(e,n,p,r),l=e.memoizedState),(a=ta||Z5(e,n,a,r,_,l,h))?(g||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=h,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Lw(t,e),a=e.memoizedProps,h=e.type===e.elementType?a:Wi(e.type,a),o.props=h,g=e.pendingProps,_=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=xi(l):(l=Gr(n)?Sl:br.current,l=Xu(e,l));var v=n.getDerivedStateFromProps;(p=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==g||_!==l)&&ev(e,o,r,l),ta=!1,_=e.memoizedState,o.state=_,Qd(e,r,o,i);var C=e.memoizedState;a!==g||_!==C||Wr.current||ta?(typeof v=="function"&&(Yg(e,n,v,r),C=e.memoizedState),(h=ta||Z5(e,n,h,r,_,C,l)||!1)?(p||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,C,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,C,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&_===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&_===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=C),o.props=r,o.state=C,o.context=l,r=h):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&_===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&_===t.memoizedState||(e.flags|=1024),r=!1)}return e1(t,e,n,r,s,i)}function e1(t,e,n,r,i,s){i4(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&H5(e,n,!1),po(t,e,s);r=e.stateNode,uI.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=ec(e,t.child,null,s),e.child=ec(e,null,a,s)):kr(t,e,a,s),e.memoizedState=r.state,i&&H5(e,n,!0),e.child}function s4(t){var e=t.stateNode;e.pendingContext?$5(t,e.pendingContext,e.pendingContext!==e.context):e.context&&$5(t,e.context,!1),I2(t,e.containerInfo)}function av(t,e,n,r,i){return Zu(),_2(i),e.flags|=256,kr(t,e,n,r),e.child}var t1={dehydrated:null,treeContext:null,retryLane:0};function n1(t){return{baseLanes:t,cachePool:null,transitions:null}}function o4(t,e,n){var r=e.pendingProps,i=un.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Xt(un,i&1),t===null)return Kg(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Mp(o,r,0,null),t=wl(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=n1(n),e.memoizedState=t1,t):R2(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return cI(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=_a(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=_a(a,s):(s=wl(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?n1(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=t1,r}return s=t.child,t=s.sibling,r=_a(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function R2(t,e){return e=Mp({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Kf(t,e,n,r){return r!==null&&_2(r),ec(e,t.child,null,n),t=R2(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function cI(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Qm(Error(Re(422))),Kf(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Mp({mode:"visible",children:r.children},i,0,null),s=wl(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&ec(e,t.child,null,o),e.child.memoizedState=n1(o),e.memoizedState=t1,s);if(!(e.mode&1))return Kf(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(Re(419)),r=Qm(s,r,void 0),Kf(t,e,o,r)}if(a=(o&t.childLanes)!==0,Hr||a){if(r=Kn,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,fo(t,i),Zi(r,t,i,-1))}return j2(),r=Qm(Error(Re(421))),Kf(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=EI.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,ai=ma(i.nextSibling),ui=e,ln=!0,Qi=null,t!==null&&(Ei[Si++]=io,Ei[Si++]=so,Ei[Si++]=Il,io=t.id,so=t.overflow,Il=e),e=R2(e,r.children),e.flags|=4096,e)}function lv(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Qg(t.return,e,n)}function Ym(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function a4(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(kr(t,e,r.children,n),r=un.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&lv(t,n,e);else if(t.tag===19)lv(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Xt(un,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Yd(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Ym(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Yd(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Ym(e,!0,n,null,s);break;case"together":Ym(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function gd(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function po(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Pl|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Re(153));if(e.child!==null){for(t=e.child,n=_a(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=_a(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function hI(t,e,n){switch(e.tag){case 3:s4(e),Zu();break;case 5:Rw(e);break;case 1:Gr(e.type)&&$d(e);break;case 4:I2(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Xt(Gd,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Xt(un,un.current&1),e.flags|=128,null):n&e.child.childLanes?o4(t,e,n):(Xt(un,un.current&1),t=po(t,e,n),t!==null?t.sibling:null);Xt(un,un.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return a4(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Xt(un,un.current),r)break;return null;case 22:case 23:return e.lanes=0,r4(t,e,n)}return po(t,e,n)}var l4,r1,u4,c4;l4=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};r1=function(){};u4=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,gl(Ts.current);var s=null;switch(n){case"input":i=Ig(t,i),r=Ig(t,r),s=[];break;case"select":i=hn({},i,{value:void 0}),r=hn({},r,{value:void 0}),s=[];break;case"textarea":i=Ng(t,i),r=Ng(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=zd)}kg(n,r);var o;n=null;for(h in i)if(!r.hasOwnProperty(h)&&i.hasOwnProperty(h)&&i[h]!=null)if(h==="style"){var a=i[h];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(Ah.hasOwnProperty(h)?s||(s=[]):(s=s||[]).push(h,null));for(h in r){var l=r[h];if(a=i!=null?i[h]:void 0,r.hasOwnProperty(h)&&l!==a&&(l!=null||a!=null))if(h==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(h,n)),n=l;else h==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(h,l)):h==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(h,""+l):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(Ah.hasOwnProperty(h)?(l!=null&&h==="onScroll"&&nn("scroll",t),s||a===l||(s=[])):(s=s||[]).push(h,l))}n&&(s=s||[]).push("style",n);var h=s;(e.updateQueue=h)&&(e.flags|=4)}};c4=function(t,e,n,r){n!==r&&(e.flags|=4)};function Hc(t,e){if(!ln)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function hr(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function fI(t,e,n){var r=e.pendingProps;switch(y2(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return hr(e),null;case 1:return Gr(e.type)&&qd(),hr(e),null;case 3:return r=e.stateNode,tc(),an(Wr),an(br),P2(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Wf(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Qi!==null&&(h1(Qi),Qi=null))),r1(t,e),hr(e),null;case 5:T2(e);var i=gl(Rh.current);if(n=e.type,t!==null&&e.stateNode!=null)u4(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Re(166));return hr(e),null}if(t=gl(Ts.current),Wf(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Es]=e,r[Ch]=s,t=(e.mode&1)!==0,n){case"dialog":nn("cancel",r),nn("close",r);break;case"iframe":case"object":case"embed":nn("load",r);break;case"video":case"audio":for(i=0;i<Xc.length;i++)nn(Xc[i],r);break;case"source":nn("error",r);break;case"img":case"image":case"link":nn("error",r),nn("load",r);break;case"details":nn("toggle",r);break;case"input":v5(r,s),nn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},nn("invalid",r);break;case"textarea":_5(r,s),nn("invalid",r)}kg(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Hf(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Hf(r.textContent,a,t),i=["children",""+a]):Ah.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&nn("scroll",r)}switch(n){case"input":Mf(r),y5(r,s,!0);break;case"textarea":Mf(r),w5(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=zd)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=V_(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Es]=e,t[Ch]=r,l4(t,e,!1,!1),e.stateNode=t;e:{switch(o=Cg(n,r),n){case"dialog":nn("cancel",t),nn("close",t),i=r;break;case"iframe":case"object":case"embed":nn("load",t),i=r;break;case"video":case"audio":for(i=0;i<Xc.length;i++)nn(Xc[i],t);i=r;break;case"source":nn("error",t),i=r;break;case"img":case"image":case"link":nn("error",t),nn("load",t),i=r;break;case"details":nn("toggle",t),i=r;break;case"input":v5(t,r),i=Ig(t,r),nn("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=hn({},r,{value:void 0}),nn("invalid",t);break;case"textarea":_5(t,r),i=Ng(t,r),nn("invalid",t);break;default:i=r}kg(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?U_(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&j_(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&bh(t,l):typeof l=="number"&&bh(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ah.hasOwnProperty(s)?l!=null&&s==="onScroll"&&nn("scroll",t):l!=null&&r2(t,s,l,o))}switch(n){case"input":Mf(t),y5(t,r,!1);break;case"textarea":Mf(t),w5(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ta(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Ou(t,!!r.multiple,s,!1):r.defaultValue!=null&&Ou(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=zd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return hr(e),null;case 6:if(t&&e.stateNode!=null)c4(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Re(166));if(n=gl(Rh.current),gl(Ts.current),Wf(e)){if(r=e.stateNode,n=e.memoizedProps,r[Es]=e,(s=r.nodeValue!==n)&&(t=ui,t!==null))switch(t.tag){case 3:Hf(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Hf(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Es]=e,e.stateNode=r}return hr(e),null;case 13:if(an(un),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ln&&ai!==null&&e.mode&1&&!(e.flags&128))Nw(),Zu(),e.flags|=98560,s=!1;else if(s=Wf(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(Re(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Re(317));s[Es]=e}else Zu(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;hr(e),s=!1}else Qi!==null&&(h1(Qi),Qi=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||un.current&1?Bn===0&&(Bn=3):j2())),e.updateQueue!==null&&(e.flags|=4),hr(e),null);case 4:return tc(),r1(t,e),t===null&&xh(e.stateNode.containerInfo),hr(e),null;case 10:return b2(e.type._context),hr(e),null;case 17:return Gr(e.type)&&qd(),hr(e),null;case 19:if(an(un),s=e.memoizedState,s===null)return hr(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Hc(s,!1);else{if(Bn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Yd(t),o!==null){for(e.flags|=128,Hc(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Xt(un,un.current&1|2),e.child}t=t.sibling}s.tail!==null&&Sn()>rc&&(e.flags|=128,r=!0,Hc(s,!1),e.lanes=4194304)}else{if(!r)if(t=Yd(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Hc(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!ln)return hr(e),null}else 2*Sn()-s.renderingStartTime>rc&&n!==1073741824&&(e.flags|=128,r=!0,Hc(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Sn(),e.sibling=null,n=un.current,Xt(un,r?n&1|2:n&1),e):(hr(e),null);case 22:case 23:return V2(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?si&1073741824&&(hr(e),e.subtreeFlags&6&&(e.flags|=8192)):hr(e),null;case 24:return null;case 25:return null}throw Error(Re(156,e.tag))}function dI(t,e){switch(y2(e),e.tag){case 1:return Gr(e.type)&&qd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return tc(),an(Wr),an(br),P2(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return T2(e),null;case 13:if(an(un),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Re(340));Zu()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return an(un),null;case 4:return tc(),null;case 10:return b2(e.type._context),null;case 22:case 23:return V2(),null;case 24:return null;default:return null}}var Qf=!1,yr=!1,pI=typeof WeakSet=="function"?WeakSet:Set,Ge=null;function Cu(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){yn(t,e,r)}else n.current=null}function i1(t,e,n){try{n()}catch(r){yn(t,e,r)}}var uv=!1;function mI(t,e){if(Ug=jd,t=mw(),g2(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,h=0,p=0,g=t,_=null;t:for(;;){for(var v;g!==n||i!==0&&g.nodeType!==3||(a=o+i),g!==s||r!==0&&g.nodeType!==3||(l=o+r),g.nodeType===3&&(o+=g.nodeValue.length),(v=g.firstChild)!==null;)_=g,g=v;for(;;){if(g===t)break t;if(_===n&&++h===i&&(a=o),_===s&&++p===r&&(l=o),(v=g.nextSibling)!==null)break;g=_,_=g.parentNode}g=v}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(zg={focusedElem:t,selectionRange:n},jd=!1,Ge=e;Ge!==null;)if(e=Ge,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ge=t;else for(;Ge!==null;){e=Ge;try{var C=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(C!==null){var P=C.memoizedProps,U=C.memoizedState,b=e.stateNode,S=b.getSnapshotBeforeUpdate(e.elementType===e.type?P:Wi(e.type,P),U);b.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var F=e.stateNode.containerInfo;F.nodeType===1?F.textContent="":F.nodeType===9&&F.documentElement&&F.removeChild(F.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Re(163))}}catch(W){yn(e,e.return,W)}if(t=e.sibling,t!==null){t.return=e.return,Ge=t;break}Ge=e.return}return C=uv,uv=!1,C}function hh(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&i1(e,n,s)}i=i.next}while(i!==r)}}function Dp(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function s1(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function h4(t){var e=t.alternate;e!==null&&(t.alternate=null,h4(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Es],delete e[Ch],delete e[Hg],delete e[JS],delete e[XS])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function f4(t){return t.tag===5||t.tag===3||t.tag===4}function cv(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||f4(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function o1(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=zd));else if(r!==4&&(t=t.child,t!==null))for(o1(t,e,n),t=t.sibling;t!==null;)o1(t,e,n),t=t.sibling}function a1(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(a1(t,e,n),t=t.sibling;t!==null;)a1(t,e,n),t=t.sibling}var er=null,Ki=!1;function Yo(t,e,n){for(n=n.child;n!==null;)d4(t,e,n),n=n.sibling}function d4(t,e,n){if(Is&&typeof Is.onCommitFiberUnmount=="function")try{Is.onCommitFiberUnmount(Pp,n)}catch{}switch(n.tag){case 5:yr||Cu(n,e);case 6:var r=er,i=Ki;er=null,Yo(t,e,n),er=r,Ki=i,er!==null&&(Ki?(t=er,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):er.removeChild(n.stateNode));break;case 18:er!==null&&(Ki?(t=er,n=n.stateNode,t.nodeType===8?qm(t.parentNode,n):t.nodeType===1&&qm(t,n),Th(t)):qm(er,n.stateNode));break;case 4:r=er,i=Ki,er=n.stateNode.containerInfo,Ki=!0,Yo(t,e,n),er=r,Ki=i;break;case 0:case 11:case 14:case 15:if(!yr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&i1(n,e,o),i=i.next}while(i!==r)}Yo(t,e,n);break;case 1:if(!yr&&(Cu(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){yn(n,e,a)}Yo(t,e,n);break;case 21:Yo(t,e,n);break;case 22:n.mode&1?(yr=(r=yr)||n.memoizedState!==null,Yo(t,e,n),yr=r):Yo(t,e,n);break;default:Yo(t,e,n)}}function hv(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new pI),e.forEach(function(r){var i=SI.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function qi(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:er=a.stateNode,Ki=!1;break e;case 3:er=a.stateNode.containerInfo,Ki=!0;break e;case 4:er=a.stateNode.containerInfo,Ki=!0;break e}a=a.return}if(er===null)throw Error(Re(160));d4(s,o,i),er=null,Ki=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(h){yn(i,e,h)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)p4(e,t),e=e.sibling}function p4(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(qi(e,t),_s(t),r&4){try{hh(3,t,t.return),Dp(3,t)}catch(P){yn(t,t.return,P)}try{hh(5,t,t.return)}catch(P){yn(t,t.return,P)}}break;case 1:qi(e,t),_s(t),r&512&&n!==null&&Cu(n,n.return);break;case 5:if(qi(e,t),_s(t),r&512&&n!==null&&Cu(n,n.return),t.flags&32){var i=t.stateNode;try{bh(i,"")}catch(P){yn(t,t.return,P)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&F_(i,s),Cg(a,o);var h=Cg(a,s);for(o=0;o<l.length;o+=2){var p=l[o],g=l[o+1];p==="style"?U_(i,g):p==="dangerouslySetInnerHTML"?j_(i,g):p==="children"?bh(i,g):r2(i,p,g,h)}switch(a){case"input":Tg(i,s);break;case"textarea":M_(i,s);break;case"select":var _=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var v=s.value;v!=null?Ou(i,!!s.multiple,v,!1):_!==!!s.multiple&&(s.defaultValue!=null?Ou(i,!!s.multiple,s.defaultValue,!0):Ou(i,!!s.multiple,s.multiple?[]:"",!1))}i[Ch]=s}catch(P){yn(t,t.return,P)}}break;case 6:if(qi(e,t),_s(t),r&4){if(t.stateNode===null)throw Error(Re(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(P){yn(t,t.return,P)}}break;case 3:if(qi(e,t),_s(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Th(e.containerInfo)}catch(P){yn(t,t.return,P)}break;case 4:qi(e,t),_s(t);break;case 13:qi(e,t),_s(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(F2=Sn())),r&4&&hv(t);break;case 22:if(p=n!==null&&n.memoizedState!==null,t.mode&1?(yr=(h=yr)||p,qi(e,t),yr=h):qi(e,t),_s(t),r&8192){if(h=t.memoizedState!==null,(t.stateNode.isHidden=h)&&!p&&t.mode&1)for(Ge=t,p=t.child;p!==null;){for(g=Ge=p;Ge!==null;){switch(_=Ge,v=_.child,_.tag){case 0:case 11:case 14:case 15:hh(4,_,_.return);break;case 1:Cu(_,_.return);var C=_.stateNode;if(typeof C.componentWillUnmount=="function"){r=_,n=_.return;try{e=r,C.props=e.memoizedProps,C.state=e.memoizedState,C.componentWillUnmount()}catch(P){yn(r,n,P)}}break;case 5:Cu(_,_.return);break;case 22:if(_.memoizedState!==null){dv(g);continue}}v!==null?(v.return=_,Ge=v):dv(g)}p=p.sibling}e:for(p=null,g=t;;){if(g.tag===5){if(p===null){p=g;try{i=g.stateNode,h?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=g.stateNode,l=g.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=B_("display",o))}catch(P){yn(t,t.return,P)}}}else if(g.tag===6){if(p===null)try{g.stateNode.nodeValue=h?"":g.memoizedProps}catch(P){yn(t,t.return,P)}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===t)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===t)break e;for(;g.sibling===null;){if(g.return===null||g.return===t)break e;p===g&&(p=null),g=g.return}p===g&&(p=null),g.sibling.return=g.return,g=g.sibling}}break;case 19:qi(e,t),_s(t),r&4&&hv(t);break;case 21:break;default:qi(e,t),_s(t)}}function _s(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(f4(n)){var r=n;break e}n=n.return}throw Error(Re(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(bh(i,""),r.flags&=-33);var s=cv(t);a1(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=cv(t);o1(t,a,o);break;default:throw Error(Re(161))}}catch(l){yn(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function gI(t,e,n){Ge=t,m4(t)}function m4(t,e,n){for(var r=(t.mode&1)!==0;Ge!==null;){var i=Ge,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Qf;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||yr;a=Qf;var h=yr;if(Qf=o,(yr=l)&&!h)for(Ge=i;Ge!==null;)o=Ge,l=o.child,o.tag===22&&o.memoizedState!==null?pv(i):l!==null?(l.return=o,Ge=l):pv(i);for(;s!==null;)Ge=s,m4(s),s=s.sibling;Ge=i,Qf=a,yr=h}fv(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Ge=s):fv(t)}}function fv(t){for(;Ge!==null;){var e=Ge;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:yr||Dp(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!yr)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Wi(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Y5(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Y5(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var h=e.alternate;if(h!==null){var p=h.memoizedState;if(p!==null){var g=p.dehydrated;g!==null&&Th(g)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Re(163))}yr||e.flags&512&&s1(e)}catch(_){yn(e,e.return,_)}}if(e===t){Ge=null;break}if(n=e.sibling,n!==null){n.return=e.return,Ge=n;break}Ge=e.return}}function dv(t){for(;Ge!==null;){var e=Ge;if(e===t){Ge=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Ge=n;break}Ge=e.return}}function pv(t){for(;Ge!==null;){var e=Ge;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Dp(4,e)}catch(l){yn(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){yn(e,i,l)}}var s=e.return;try{s1(e)}catch(l){yn(e,s,l)}break;case 5:var o=e.return;try{s1(e)}catch(l){yn(e,o,l)}}}catch(l){yn(e,e.return,l)}if(e===t){Ge=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Ge=a;break}Ge=e.return}}var vI=Math.ceil,Zd=_o.ReactCurrentDispatcher,O2=_o.ReactCurrentOwner,Ni=_o.ReactCurrentBatchConfig,Rt=0,Kn=null,On=null,rr=0,si=0,Lu=Va(0),Bn=0,Mh=null,Pl=0,Fp=0,D2=0,fh=null,$r=null,F2=0,rc=1/0,to=null,ep=!1,l1=null,va=null,Yf=!1,la=null,tp=0,dh=0,u1=null,vd=-1,yd=0;function Cr(){return Rt&6?Sn():vd!==-1?vd:vd=Sn()}function ya(t){return t.mode&1?Rt&2&&rr!==0?rr&-rr:eI.transition!==null?(yd===0&&(yd=Z_()),yd):(t=qt,t!==0||(t=window.event,t=t===void 0?16:ow(t.type)),t):1}function Zi(t,e,n,r){if(50<dh)throw dh=0,u1=null,Error(Re(185));Qh(t,n,r),(!(Rt&2)||t!==Kn)&&(t===Kn&&(!(Rt&2)&&(Fp|=n),Bn===4&&ra(t,rr)),Kr(t,r),n===1&&Rt===0&&!(e.mode&1)&&(rc=Sn()+500,Lp&&ja()))}function Kr(t,e){var n=t.callbackNode;eS(t,e);var r=Vd(t,t===Kn?rr:0);if(r===0)n!==null&&E5(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&E5(n),e===1)t.tag===0?ZS(mv.bind(null,t)):Iw(mv.bind(null,t)),QS(function(){!(Rt&6)&&ja()}),n=null;else{switch(ew(r)){case 1:n=l2;break;case 4:n=J_;break;case 16:n=Md;break;case 536870912:n=X_;break;default:n=Md}n=E4(n,g4.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function g4(t,e){if(vd=-1,yd=0,Rt&6)throw Error(Re(327));var n=t.callbackNode;if(ju()&&t.callbackNode!==n)return null;var r=Vd(t,t===Kn?rr:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=np(t,r);else{e=r;var i=Rt;Rt|=2;var s=y4();(Kn!==t||rr!==e)&&(to=null,rc=Sn()+500,_l(t,e));do try{wI();break}catch(a){v4(t,a)}while(!0);A2(),Zd.current=s,Rt=i,On!==null?e=0:(Kn=null,rr=0,e=Bn)}if(e!==0){if(e===2&&(i=Fg(t),i!==0&&(r=i,e=c1(t,i))),e===1)throw n=Mh,_l(t,0),ra(t,r),Kr(t,Sn()),n;if(e===6)ra(t,r);else{if(i=t.current.alternate,!(r&30)&&!yI(i)&&(e=np(t,r),e===2&&(s=Fg(t),s!==0&&(r=s,e=c1(t,s))),e===1))throw n=Mh,_l(t,0),ra(t,r),Kr(t,Sn()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Re(345));case 2:cl(t,$r,to);break;case 3:if(ra(t,r),(r&130023424)===r&&(e=F2+500-Sn(),10<e)){if(Vd(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Cr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=$g(cl.bind(null,t,$r,to),e);break}cl(t,$r,to);break;case 4:if(ra(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Xi(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Sn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*vI(r/1960))-r,10<r){t.timeoutHandle=$g(cl.bind(null,t,$r,to),r);break}cl(t,$r,to);break;case 5:cl(t,$r,to);break;default:throw Error(Re(329))}}}return Kr(t,Sn()),t.callbackNode===n?g4.bind(null,t):null}function c1(t,e){var n=fh;return t.current.memoizedState.isDehydrated&&(_l(t,e).flags|=256),t=np(t,e),t!==2&&(e=$r,$r=n,e!==null&&h1(e)),t}function h1(t){$r===null?$r=t:$r.push.apply($r,t)}function yI(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!ns(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ra(t,e){for(e&=~D2,e&=~Fp,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Xi(e),r=1<<n;t[n]=-1,e&=~r}}function mv(t){if(Rt&6)throw Error(Re(327));ju();var e=Vd(t,0);if(!(e&1))return Kr(t,Sn()),null;var n=np(t,e);if(t.tag!==0&&n===2){var r=Fg(t);r!==0&&(e=r,n=c1(t,r))}if(n===1)throw n=Mh,_l(t,0),ra(t,e),Kr(t,Sn()),n;if(n===6)throw Error(Re(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,cl(t,$r,to),Kr(t,Sn()),null}function M2(t,e){var n=Rt;Rt|=1;try{return t(e)}finally{Rt=n,Rt===0&&(rc=Sn()+500,Lp&&ja())}}function Nl(t){la!==null&&la.tag===0&&!(Rt&6)&&ju();var e=Rt;Rt|=1;var n=Ni.transition,r=qt;try{if(Ni.transition=null,qt=1,t)return t()}finally{qt=r,Ni.transition=n,Rt=e,!(Rt&6)&&ja()}}function V2(){si=Lu.current,an(Lu)}function _l(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,KS(n)),On!==null)for(n=On.return;n!==null;){var r=n;switch(y2(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&qd();break;case 3:tc(),an(Wr),an(br),P2();break;case 5:T2(r);break;case 4:tc();break;case 13:an(un);break;case 19:an(un);break;case 10:b2(r.type._context);break;case 22:case 23:V2()}n=n.return}if(Kn=t,On=t=_a(t.current,null),rr=si=e,Bn=0,Mh=null,D2=Fp=Pl=0,$r=fh=null,ml!==null){for(e=0;e<ml.length;e++)if(n=ml[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}ml=null}return t}function v4(t,e){do{var n=On;try{if(A2(),pd.current=Xd,Jd){for(var r=cn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Jd=!1}if(Tl=0,Wn=Vn=cn=null,ch=!1,Oh=0,O2.current=null,n===null||n.return===null){Bn=1,Mh=e,On=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=rr,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var h=l,p=a,g=p.tag;if(!(p.mode&1)&&(g===0||g===11||g===15)){var _=p.alternate;_?(p.updateQueue=_.updateQueue,p.memoizedState=_.memoizedState,p.lanes=_.lanes):(p.updateQueue=null,p.memoizedState=null)}var v=nv(o);if(v!==null){v.flags&=-257,rv(v,o,a,s,e),v.mode&1&&tv(s,h,e),e=v,l=h;var C=e.updateQueue;if(C===null){var P=new Set;P.add(l),e.updateQueue=P}else C.add(l);break e}else{if(!(e&1)){tv(s,h,e),j2();break e}l=Error(Re(426))}}else if(ln&&a.mode&1){var U=nv(o);if(U!==null){!(U.flags&65536)&&(U.flags|=256),rv(U,o,a,s,e),_2(nc(l,a));break e}}s=l=nc(l,a),Bn!==4&&(Bn=2),fh===null?fh=[s]:fh.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var b=e4(s,l,e);Q5(s,b);break e;case 1:a=l;var S=s.type,F=s.stateNode;if(!(s.flags&128)&&(typeof S.getDerivedStateFromError=="function"||F!==null&&typeof F.componentDidCatch=="function"&&(va===null||!va.has(F)))){s.flags|=65536,e&=-e,s.lanes|=e;var W=t4(s,a,e);Q5(s,W);break e}}s=s.return}while(s!==null)}w4(n)}catch(Z){e=Z,On===n&&n!==null&&(On=n=n.return);continue}break}while(!0)}function y4(){var t=Zd.current;return Zd.current=Xd,t===null?Xd:t}function j2(){(Bn===0||Bn===3||Bn===2)&&(Bn=4),Kn===null||!(Pl&268435455)&&!(Fp&268435455)||ra(Kn,rr)}function np(t,e){var n=Rt;Rt|=2;var r=y4();(Kn!==t||rr!==e)&&(to=null,_l(t,e));do try{_I();break}catch(i){v4(t,i)}while(!0);if(A2(),Rt=n,Zd.current=r,On!==null)throw Error(Re(261));return Kn=null,rr=0,Bn}function _I(){for(;On!==null;)_4(On)}function wI(){for(;On!==null&&!HE();)_4(On)}function _4(t){var e=b4(t.alternate,t,si);t.memoizedProps=t.pendingProps,e===null?w4(t):On=e,O2.current=null}function w4(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=dI(n,e),n!==null){n.flags&=32767,On=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Bn=6,On=null;return}}else if(n=fI(n,e,si),n!==null){On=n;return}if(e=e.sibling,e!==null){On=e;return}On=e=t}while(e!==null);Bn===0&&(Bn=5)}function cl(t,e,n){var r=qt,i=Ni.transition;try{Ni.transition=null,qt=1,AI(t,e,n,r)}finally{Ni.transition=i,qt=r}return null}function AI(t,e,n,r){do ju();while(la!==null);if(Rt&6)throw Error(Re(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Re(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(tS(t,s),t===Kn&&(On=Kn=null,rr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Yf||(Yf=!0,E4(Md,function(){return ju(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Ni.transition,Ni.transition=null;var o=qt;qt=1;var a=Rt;Rt|=4,O2.current=null,mI(t,n),p4(n,t),US(zg),jd=!!Ug,zg=Ug=null,t.current=n,gI(n),WE(),Rt=a,qt=o,Ni.transition=s}else t.current=n;if(Yf&&(Yf=!1,la=t,tp=i),s=t.pendingLanes,s===0&&(va=null),QE(n.stateNode),Kr(t,Sn()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(ep)throw ep=!1,t=l1,l1=null,t;return tp&1&&t.tag!==0&&ju(),s=t.pendingLanes,s&1?t===u1?dh++:(dh=0,u1=t):dh=0,ja(),null}function ju(){if(la!==null){var t=ew(tp),e=Ni.transition,n=qt;try{if(Ni.transition=null,qt=16>t?16:t,la===null)var r=!1;else{if(t=la,la=null,tp=0,Rt&6)throw Error(Re(331));var i=Rt;for(Rt|=4,Ge=t.current;Ge!==null;){var s=Ge,o=s.child;if(Ge.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var h=a[l];for(Ge=h;Ge!==null;){var p=Ge;switch(p.tag){case 0:case 11:case 15:hh(8,p,s)}var g=p.child;if(g!==null)g.return=p,Ge=g;else for(;Ge!==null;){p=Ge;var _=p.sibling,v=p.return;if(h4(p),p===h){Ge=null;break}if(_!==null){_.return=v,Ge=_;break}Ge=v}}}var C=s.alternate;if(C!==null){var P=C.child;if(P!==null){C.child=null;do{var U=P.sibling;P.sibling=null,P=U}while(P!==null)}}Ge=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Ge=o;else e:for(;Ge!==null;){if(s=Ge,s.flags&2048)switch(s.tag){case 0:case 11:case 15:hh(9,s,s.return)}var b=s.sibling;if(b!==null){b.return=s.return,Ge=b;break e}Ge=s.return}}var S=t.current;for(Ge=S;Ge!==null;){o=Ge;var F=o.child;if(o.subtreeFlags&2064&&F!==null)F.return=o,Ge=F;else e:for(o=S;Ge!==null;){if(a=Ge,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Dp(9,a)}}catch(Z){yn(a,a.return,Z)}if(a===o){Ge=null;break e}var W=a.sibling;if(W!==null){W.return=a.return,Ge=W;break e}Ge=a.return}}if(Rt=i,ja(),Is&&typeof Is.onPostCommitFiberRoot=="function")try{Is.onPostCommitFiberRoot(Pp,t)}catch{}r=!0}return r}finally{qt=n,Ni.transition=e}}return!1}function gv(t,e,n){e=nc(n,e),e=e4(t,e,1),t=ga(t,e,1),e=Cr(),t!==null&&(Qh(t,1,e),Kr(t,e))}function yn(t,e,n){if(t.tag===3)gv(t,t,n);else for(;e!==null;){if(e.tag===3){gv(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(va===null||!va.has(r))){t=nc(n,t),t=t4(e,t,1),e=ga(e,t,1),t=Cr(),e!==null&&(Qh(e,1,t),Kr(e,t));break}}e=e.return}}function bI(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Cr(),t.pingedLanes|=t.suspendedLanes&n,Kn===t&&(rr&n)===n&&(Bn===4||Bn===3&&(rr&130023424)===rr&&500>Sn()-F2?_l(t,0):D2|=n),Kr(t,e)}function A4(t,e){e===0&&(t.mode&1?(e=Bf,Bf<<=1,!(Bf&130023424)&&(Bf=4194304)):e=1);var n=Cr();t=fo(t,e),t!==null&&(Qh(t,e,n),Kr(t,n))}function EI(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),A4(t,n)}function SI(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Re(314))}r!==null&&r.delete(e),A4(t,n)}var b4;b4=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Wr.current)Hr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Hr=!1,hI(t,e,n);Hr=!!(t.flags&131072)}else Hr=!1,ln&&e.flags&1048576&&Tw(e,Wd,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;gd(t,e),t=e.pendingProps;var i=Xu(e,br.current);Vu(e,n),i=x2(null,e,r,t,i,n);var s=k2();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Gr(r)?(s=!0,$d(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,S2(e),i.updater=Op,e.stateNode=i,i._reactInternals=e,Jg(e,r,t,n),e=e1(null,e,r,!0,s,n)):(e.tag=0,ln&&s&&v2(e),kr(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(gd(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=TI(r),t=Wi(r,t),i){case 0:e=Zg(null,e,r,t,n);break e;case 1:e=ov(null,e,r,t,n);break e;case 11:e=iv(null,e,r,t,n);break e;case 14:e=sv(null,e,r,Wi(r.type,t),n);break e}throw Error(Re(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Wi(r,i),Zg(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Wi(r,i),ov(t,e,r,i,n);case 3:e:{if(s4(e),t===null)throw Error(Re(387));r=e.pendingProps,s=e.memoizedState,i=s.element,Lw(t,e),Qd(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=nc(Error(Re(423)),e),e=av(t,e,r,n,i);break e}else if(r!==i){i=nc(Error(Re(424)),e),e=av(t,e,r,n,i);break e}else for(ai=ma(e.stateNode.containerInfo.firstChild),ui=e,ln=!0,Qi=null,n=kw(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Zu(),r===i){e=po(t,e,n);break e}kr(t,e,r,n)}e=e.child}return e;case 5:return Rw(e),t===null&&Kg(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,qg(r,i)?o=null:s!==null&&qg(r,s)&&(e.flags|=32),i4(t,e),kr(t,e,o,n),e.child;case 6:return t===null&&Kg(e),null;case 13:return o4(t,e,n);case 4:return I2(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ec(e,null,r,n):kr(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Wi(r,i),iv(t,e,r,i,n);case 7:return kr(t,e,e.pendingProps,n),e.child;case 8:return kr(t,e,e.pendingProps.children,n),e.child;case 12:return kr(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Xt(Gd,r._currentValue),r._currentValue=o,s!==null)if(ns(s.value,o)){if(s.children===i.children&&!Wr.current){e=po(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=lo(-1,n&-n),l.tag=2;var h=s.updateQueue;if(h!==null){h=h.shared;var p=h.pending;p===null?l.next=l:(l.next=p.next,p.next=l),h.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Qg(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Re(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Qg(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}kr(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Vu(e,n),i=xi(i),r=r(i),e.flags|=1,kr(t,e,r,n),e.child;case 14:return r=e.type,i=Wi(r,e.pendingProps),i=Wi(r.type,i),sv(t,e,r,i,n);case 15:return n4(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Wi(r,i),gd(t,e),e.tag=1,Gr(r)?(t=!0,$d(e)):t=!1,Vu(e,n),Zw(e,r,i),Jg(e,r,i,n),e1(null,e,r,!0,t,n);case 19:return a4(t,e,n);case 22:return r4(t,e,n)}throw Error(Re(156,e.tag))};function E4(t,e){return Y_(t,e)}function II(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pi(t,e,n,r){return new II(t,e,n,r)}function B2(t){return t=t.prototype,!(!t||!t.isReactComponent)}function TI(t){if(typeof t=="function")return B2(t)?1:0;if(t!=null){if(t=t.$$typeof,t===s2)return 11;if(t===o2)return 14}return 2}function _a(t,e){var n=t.alternate;return n===null?(n=Pi(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function _d(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")B2(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case bu:return wl(n.children,i,s,e);case i2:o=8,i|=8;break;case Ag:return t=Pi(12,n,e,i|2),t.elementType=Ag,t.lanes=s,t;case bg:return t=Pi(13,n,e,i),t.elementType=bg,t.lanes=s,t;case Eg:return t=Pi(19,n,e,i),t.elementType=Eg,t.lanes=s,t;case R_:return Mp(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case C_:o=10;break e;case L_:o=9;break e;case s2:o=11;break e;case o2:o=14;break e;case ea:o=16,r=null;break e}throw Error(Re(130,t==null?t:typeof t,""))}return e=Pi(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function wl(t,e,n,r){return t=Pi(7,t,r,e),t.lanes=n,t}function Mp(t,e,n,r){return t=Pi(22,t,r,e),t.elementType=R_,t.lanes=n,t.stateNode={isHidden:!1},t}function Jm(t,e,n){return t=Pi(6,t,null,e),t.lanes=n,t}function Xm(t,e,n){return e=Pi(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function PI(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Lm(0),this.expirationTimes=Lm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Lm(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function U2(t,e,n,r,i,s,o,a,l){return t=new PI(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Pi(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},S2(s),t}function NI(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Au,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function S4(t){if(!t)return Pa;t=t._reactInternals;e:{if(Fl(t)!==t||t.tag!==1)throw Error(Re(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Gr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Re(171))}if(t.tag===1){var n=t.type;if(Gr(n))return Sw(t,n,e)}return e}function I4(t,e,n,r,i,s,o,a,l){return t=U2(n,r,!0,t,i,s,o,a,l),t.context=S4(null),n=t.current,r=Cr(),i=ya(n),s=lo(r,i),s.callback=e??null,ga(n,s,i),t.current.lanes=i,Qh(t,i,r),Kr(t,r),t}function Vp(t,e,n,r){var i=e.current,s=Cr(),o=ya(i);return n=S4(n),e.context===null?e.context=n:e.pendingContext=n,e=lo(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ga(i,e,o),t!==null&&(Zi(t,i,o,s),dd(t,i,o)),o}function rp(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function vv(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function z2(t,e){vv(t,e),(t=t.alternate)&&vv(t,e)}function xI(){return null}var T4=typeof reportError=="function"?reportError:function(t){console.error(t)};function q2(t){this._internalRoot=t}jp.prototype.render=q2.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Re(409));Vp(t,e,null,null)};jp.prototype.unmount=q2.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Nl(function(){Vp(null,t,null,null)}),e[ho]=null}};function jp(t){this._internalRoot=t}jp.prototype.unstable_scheduleHydration=function(t){if(t){var e=rw();t={blockedOn:null,target:t,priority:e};for(var n=0;n<na.length&&e!==0&&e<na[n].priority;n++);na.splice(n,0,t),n===0&&sw(t)}};function $2(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Bp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function yv(){}function kI(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var h=rp(o);s.call(h)}}var o=I4(e,r,t,0,null,!1,!1,"",yv);return t._reactRootContainer=o,t[ho]=o.current,xh(t.nodeType===8?t.parentNode:t),Nl(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var h=rp(l);a.call(h)}}var l=U2(t,0,!1,null,null,!1,!1,"",yv);return t._reactRootContainer=l,t[ho]=l.current,xh(t.nodeType===8?t.parentNode:t),Nl(function(){Vp(e,l,n,r)}),l}function Up(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=rp(o);a.call(l)}}Vp(e,o,t,i)}else o=kI(n,e,t,i,r);return rp(o)}tw=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Jc(e.pendingLanes);n!==0&&(u2(e,n|1),Kr(e,Sn()),!(Rt&6)&&(rc=Sn()+500,ja()))}break;case 13:Nl(function(){var r=fo(t,1);if(r!==null){var i=Cr();Zi(r,t,1,i)}}),z2(t,1)}};c2=function(t){if(t.tag===13){var e=fo(t,134217728);if(e!==null){var n=Cr();Zi(e,t,134217728,n)}z2(t,134217728)}};nw=function(t){if(t.tag===13){var e=ya(t),n=fo(t,e);if(n!==null){var r=Cr();Zi(n,t,e,r)}z2(t,e)}};rw=function(){return qt};iw=function(t,e){var n=qt;try{return qt=t,e()}finally{qt=n}};Rg=function(t,e,n){switch(e){case"input":if(Tg(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Cp(r);if(!i)throw Error(Re(90));D_(r),Tg(r,i)}}}break;case"textarea":M_(t,n);break;case"select":e=n.value,e!=null&&Ou(t,!!n.multiple,e,!1)}};$_=M2;H_=Nl;var CI={usingClientEntryPoint:!1,Events:[Jh,Tu,Cp,z_,q_,M2]},Wc={findFiberByHostInstance:pl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},LI={bundleType:Wc.bundleType,version:Wc.version,rendererPackageName:Wc.rendererPackageName,rendererConfig:Wc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_o.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=K_(t),t===null?null:t.stateNode},findFiberByHostInstance:Wc.findFiberByHostInstance||xI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jf.isDisabled&&Jf.supportsFiber)try{Pp=Jf.inject(LI),Is=Jf}catch{}}hi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=CI;hi.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!$2(e))throw Error(Re(200));return NI(t,e,null,n)};hi.createRoot=function(t,e){if(!$2(t))throw Error(Re(299));var n=!1,r="",i=T4;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=U2(t,1,!1,null,null,n,!1,r,i),t[ho]=e.current,xh(t.nodeType===8?t.parentNode:t),new q2(e)};hi.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Re(188)):(t=Object.keys(t).join(","),Error(Re(268,t)));return t=K_(e),t=t===null?null:t.stateNode,t};hi.flushSync=function(t){return Nl(t)};hi.hydrate=function(t,e,n){if(!Bp(e))throw Error(Re(200));return Up(null,t,e,!0,n)};hi.hydrateRoot=function(t,e,n){if(!$2(t))throw Error(Re(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=T4;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=I4(e,null,t,1,n??null,i,!1,s,o),t[ho]=e.current,xh(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new jp(e)};hi.render=function(t,e,n){if(!Bp(e))throw Error(Re(200));return Up(null,t,e,!1,n)};hi.unmountComponentAtNode=function(t){if(!Bp(t))throw Error(Re(40));return t._reactRootContainer?(Nl(function(){Up(null,null,t,!1,function(){t._reactRootContainer=null,t[ho]=null})}),!0):!1};hi.unstable_batchedUpdates=M2;hi.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Bp(n))throw Error(Re(200));if(t==null||t._reactInternals===void 0)throw Error(Re(38));return Up(t,e,n,!1,r)};hi.version="18.3.1-next-f1338f8080-20240426";function P4(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(P4)}catch(t){console.error(t)}}P4(),P_.exports=hi;var RI=P_.exports,_v=RI;_g.createRoot=_v.createRoot,_g.hydrateRoot=_v.hydrateRoot;const OI=()=>{};var wv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N4=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},DI=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},x4={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,h=l?t[i+2]:0,p=s>>2,g=(s&3)<<4|a>>4;let _=(a&15)<<2|h>>6,v=h&63;l||(v=64,o||(_=64)),r.push(n[p],n[g],n[_],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(N4(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):DI(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const h=i<t.length?n[t.charAt(i)]:64;++i;const g=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||h==null||g==null)throw new FI;const _=s<<2|a>>4;if(r.push(_),h!==64){const v=a<<4&240|h>>2;if(r.push(v),g!==64){const C=h<<6&192|g;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class FI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const MI=function(t){const e=N4(t);return x4.encodeByteArray(e,!0)},ip=function(t){return MI(t).replace(/\./g,"")},k4=function(t){try{return x4.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jI=()=>VI().__FIREBASE_DEFAULTS__,BI=()=>{if(typeof process>"u"||typeof wv>"u")return;const t=wv.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},UI=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&k4(t[1]);return e&&JSON.parse(e)},zp=()=>{try{return OI()||jI()||BI()||UI()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},C4=t=>{var e,n;return(n=(e=zp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},zI=t=>{const e=C4(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},L4=()=>{var t;return(t=zp())===null||t===void 0?void 0:t.config},R4=t=>{var e;return(e=zp())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pc(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function O4(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $I(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[ip(JSON.stringify(n)),ip(JSON.stringify(o)),""].join(".")}const ph={};function HI(){const t={prod:[],emulator:[]};for(const e of Object.keys(ph))ph[e]?t.emulator.push(e):t.prod.push(e);return t}function WI(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Av=!1;function D4(t,e){if(typeof window>"u"||typeof document>"u"||!pc(window.location.host)||ph[t]===e||ph[t]||Av)return;ph[t]=e;function n(_){return`__firebase__banner__${_}`}const r="__firebase__banner",s=HI().prod.length>0;function o(){const _=document.getElementById(r);_&&_.remove()}function a(_){_.style.display="flex",_.style.background="#7faaf0",_.style.position="fixed",_.style.bottom="5px",_.style.left="5px",_.style.padding=".5em",_.style.borderRadius="5px",_.style.alignItems="center"}function l(_,v){_.setAttribute("width","24"),_.setAttribute("id",v),_.setAttribute("height","24"),_.setAttribute("viewBox","0 0 24 24"),_.setAttribute("fill","none"),_.style.marginLeft="-6px"}function h(){const _=document.createElement("span");return _.style.cursor="pointer",_.style.marginLeft="16px",_.style.fontSize="24px",_.innerHTML=" &times;",_.onclick=()=>{Av=!0,o()},_}function p(_,v){_.setAttribute("id",v),_.innerText="Learn more",_.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",_.setAttribute("target","__blank"),_.style.paddingLeft="5px",_.style.textDecoration="underline"}function g(){const _=WI(r),v=n("text"),C=document.getElementById(v)||document.createElement("span"),P=n("learnmore"),U=document.getElementById(P)||document.createElement("a"),b=n("preprendIcon"),S=document.getElementById(b)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(_.created){const F=_.element;a(F),p(U,P);const W=h();l(S,b),F.append(S,C,U,W),document.body.appendChild(F)}s?(C.innerText="Preview backend disconnected.",S.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(S.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",v)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Er(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function GI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Er())}function KI(){var t;const e=(t=zp())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function QI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function YI(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function JI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function XI(){const t=Er();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function ZI(){return!KI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function e6(){try{return typeof indexedDB=="object"}catch{return!1}}function t6(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n6="FirebaseError";class wo extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=n6,Object.setPrototypeOf(this,wo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Zh.prototype.create)}}class Zh{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?r6(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new wo(i,a,r)}}function r6(t,e){return t.replace(i6,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const i6=/\{\$([^}]+)}/g;function s6(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function xl(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(bv(s)&&bv(o)){if(!xl(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function bv(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ef(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Zc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function eh(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function o6(t,e){const n=new a6(t,e);return n.subscribe.bind(n)}class a6{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");l6(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Zm),i.error===void 0&&(i.error=Zm),i.complete===void 0&&(i.complete=Zm);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function l6(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Zm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lr(t){return t&&t._delegate?t._delegate:t}class kl{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u6{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new qI;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(h6(e))try{this.getOrInitializeService({instanceIdentifier:hl})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=hl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=hl){return this.instances.has(e)}getOptions(e=hl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:c6(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=hl){return this.component?this.component.multipleInstances?e:hl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function c6(t){return t===hl?void 0:t}function h6(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f6{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new u6(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var It;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(It||(It={}));const d6={debug:It.DEBUG,verbose:It.VERBOSE,info:It.INFO,warn:It.WARN,error:It.ERROR,silent:It.SILENT},p6=It.INFO,m6={[It.DEBUG]:"log",[It.VERBOSE]:"log",[It.INFO]:"info",[It.WARN]:"warn",[It.ERROR]:"error"},g6=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=m6[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class H2{constructor(e){this.name=e,this._logLevel=p6,this._logHandler=g6,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in It))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?d6[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,It.DEBUG,...e),this._logHandler(this,It.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,It.VERBOSE,...e),this._logHandler(this,It.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,It.INFO,...e),this._logHandler(this,It.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,It.WARN,...e),this._logHandler(this,It.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,It.ERROR,...e),this._logHandler(this,It.ERROR,...e)}}const v6=(t,e)=>e.some(n=>t instanceof n);let Ev,Sv;function y6(){return Ev||(Ev=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function _6(){return Sv||(Sv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const F4=new WeakMap,f1=new WeakMap,M4=new WeakMap,eg=new WeakMap,W2=new WeakMap;function w6(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(wa(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&F4.set(n,t)}).catch(()=>{}),W2.set(e,t),e}function A6(t){if(f1.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});f1.set(t,e)}let d1={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return f1.get(t);if(e==="objectStoreNames")return t.objectStoreNames||M4.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return wa(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function b6(t){d1=t(d1)}function E6(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(tg(this),e,...n);return M4.set(r,e.sort?e.sort():[e]),wa(r)}:_6().includes(t)?function(...e){return t.apply(tg(this),e),wa(F4.get(this))}:function(...e){return wa(t.apply(tg(this),e))}}function S6(t){return typeof t=="function"?E6(t):(t instanceof IDBTransaction&&A6(t),v6(t,y6())?new Proxy(t,d1):t)}function wa(t){if(t instanceof IDBRequest)return w6(t);if(eg.has(t))return eg.get(t);const e=S6(t);return e!==t&&(eg.set(t,e),W2.set(e,t)),e}const tg=t=>W2.get(t);function I6(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=wa(o);return r&&o.addEventListener("upgradeneeded",l=>{r(wa(o.result),l.oldVersion,l.newVersion,wa(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),a}const T6=["get","getKey","getAll","getAllKeys","count"],P6=["put","add","delete","clear"],ng=new Map;function Iv(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ng.get(e))return ng.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=P6.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||T6.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let h=l.store;return r&&(h=h.index(a.shift())),(await Promise.all([h[n](...a),i&&l.done]))[0]};return ng.set(e,s),s}b6(t=>({...t,get:(e,n,r)=>Iv(e,n)||t.get(e,n,r),has:(e,n)=>!!Iv(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N6{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(x6(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function x6(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const p1="@firebase/app",Tv="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mo=new H2("@firebase/app"),k6="@firebase/app-compat",C6="@firebase/analytics-compat",L6="@firebase/analytics",R6="@firebase/app-check-compat",O6="@firebase/app-check",D6="@firebase/auth",F6="@firebase/auth-compat",M6="@firebase/database",V6="@firebase/data-connect",j6="@firebase/database-compat",B6="@firebase/functions",U6="@firebase/functions-compat",z6="@firebase/installations",q6="@firebase/installations-compat",$6="@firebase/messaging",H6="@firebase/messaging-compat",W6="@firebase/performance",G6="@firebase/performance-compat",K6="@firebase/remote-config",Q6="@firebase/remote-config-compat",Y6="@firebase/storage",J6="@firebase/storage-compat",X6="@firebase/firestore",Z6="@firebase/ai",eT="@firebase/firestore-compat",tT="firebase",nT="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m1="[DEFAULT]",rT={[p1]:"fire-core",[k6]:"fire-core-compat",[L6]:"fire-analytics",[C6]:"fire-analytics-compat",[O6]:"fire-app-check",[R6]:"fire-app-check-compat",[D6]:"fire-auth",[F6]:"fire-auth-compat",[M6]:"fire-rtdb",[V6]:"fire-data-connect",[j6]:"fire-rtdb-compat",[B6]:"fire-fn",[U6]:"fire-fn-compat",[z6]:"fire-iid",[q6]:"fire-iid-compat",[$6]:"fire-fcm",[H6]:"fire-fcm-compat",[W6]:"fire-perf",[G6]:"fire-perf-compat",[K6]:"fire-rc",[Q6]:"fire-rc-compat",[Y6]:"fire-gcs",[J6]:"fire-gcs-compat",[X6]:"fire-fst",[eT]:"fire-fst-compat",[Z6]:"fire-vertex","fire-js":"fire-js",[tT]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sp=new Map,iT=new Map,g1=new Map;function Pv(t,e){try{t.container.addComponent(e)}catch(n){mo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ic(t){const e=t.name;if(g1.has(e))return mo.debug(`There were multiple attempts to register component ${e}.`),!1;g1.set(e,t);for(const n of sp.values())Pv(n,t);for(const n of iT.values())Pv(n,t);return!0}function G2(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function oi(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sT={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Aa=new Zh("app","Firebase",sT);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oT{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new kl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Aa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mc=nT;function V4(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:m1,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Aa.create("bad-app-name",{appName:String(i)});if(n||(n=L4()),!n)throw Aa.create("no-options");const s=sp.get(i);if(s){if(xl(n,s.options)&&xl(r,s.config))return s;throw Aa.create("duplicate-app",{appName:i})}const o=new f6(i);for(const l of g1.values())o.addComponent(l);const a=new oT(n,r,o);return sp.set(i,a),a}function j4(t=m1){const e=sp.get(t);if(!e&&t===m1&&L4())return V4();if(!e)throw Aa.create("no-app",{appName:t});return e}function ba(t,e,n){var r;let i=(r=rT[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),mo.warn(a.join(" "));return}ic(new kl(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aT="firebase-heartbeat-database",lT=1,Vh="firebase-heartbeat-store";let rg=null;function B4(){return rg||(rg=I6(aT,lT,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Vh)}catch(n){console.warn(n)}}}}).catch(t=>{throw Aa.create("idb-open",{originalErrorMessage:t.message})})),rg}async function uT(t){try{const n=(await B4()).transaction(Vh),r=await n.objectStore(Vh).get(U4(t));return await n.done,r}catch(e){if(e instanceof wo)mo.warn(e.message);else{const n=Aa.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});mo.warn(n.message)}}}async function Nv(t,e){try{const r=(await B4()).transaction(Vh,"readwrite");await r.objectStore(Vh).put(e,U4(t)),await r.done}catch(n){if(n instanceof wo)mo.warn(n.message);else{const r=Aa.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});mo.warn(r.message)}}}function U4(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cT=1024,hT=30;class fT{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new pT(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=xv();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>hT){const o=mT(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){mo.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=xv(),{heartbeatsToSend:r,unsentEntries:i}=dT(this._heartbeatsCache.heartbeats),s=ip(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return mo.warn(n),""}}}function xv(){return new Date().toISOString().substring(0,10)}function dT(t,e=cT){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),kv(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),kv(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class pT{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return e6()?t6().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await uT(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Nv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Nv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function kv(t){return ip(JSON.stringify({version:2,heartbeats:t})).length}function mT(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gT(t){ic(new kl("platform-logger",e=>new N6(e),"PRIVATE")),ic(new kl("heartbeat",e=>new fT(e),"PRIVATE")),ba(p1,Tv,t),ba(p1,Tv,"esm2017"),ba("fire-js","")}gT("");var vT="firebase",yT="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ba(vT,yT,"app");function K2(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function z4(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const _T=z4,q4=new Zh("auth","Firebase",z4());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const op=new H2("@firebase/auth");function wT(t,...e){op.logLevel<=It.WARN&&op.warn(`Auth (${mc}): ${t}`,...e)}function wd(t,...e){op.logLevel<=It.ERROR&&op.error(`Auth (${mc}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ci(t,...e){throw Y2(t,...e)}function es(t,...e){return Y2(t,...e)}function Q2(t,e,n){const r=Object.assign(Object.assign({},_T()),{[e]:n});return new Zh("auth","Firebase",r).create(e,{appName:t.name})}function uo(t){return Q2(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function AT(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Ci(t,"argument-error"),Q2(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Y2(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return q4.create(t,...e)}function at(t,e,...n){if(!t)throw Y2(e,...n)}function oo(t){const e="INTERNAL ASSERTION FAILED: "+t;throw wd(e),new Error(e)}function go(t,e){t||oo(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v1(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function bT(){return Cv()==="http:"||Cv()==="https:"}function Cv(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ET(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(bT()||YI()||"connection"in navigator)?navigator.onLine:!0}function ST(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf{constructor(e,n){this.shortDelay=e,this.longDelay=n,go(n>e,"Short delay should be less than long delay!"),this.isMobile=GI()||JI()}get(){return ET()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J2(t,e){go(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $4{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;oo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;oo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;oo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IT={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TT=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],PT=new tf(3e4,6e4);function Ba(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Ua(t,e,n,r,i={}){return H4(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=ef(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const h=Object.assign({method:e,headers:l},s);return QI()||(h.referrerPolicy="no-referrer"),t.emulatorConfig&&pc(t.emulatorConfig.host)&&(h.credentials="include"),$4.fetch()(await W4(t,t.config.apiHost,n,a),h)})}async function H4(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},IT),e);try{const i=new xT(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Xf(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,h]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Xf(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Xf(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Xf(t,"user-disabled",o);const p=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw Q2(t,p,h);Ci(t,p)}}catch(i){if(i instanceof wo)throw i;Ci(t,"network-request-failed",{message:String(i)})}}async function nf(t,e,n,r,i={}){const s=await Ua(t,e,n,r,i);return"mfaPendingCredential"in s&&Ci(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function W4(t,e,n,r){const i=`${e}${n}?${r}`,s=t,o=s.config.emulator?J2(t.config,i):`${t.config.apiScheme}://${i}`;return TT.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}function NT(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class xT{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(es(this.auth,"network-request-failed")),PT.get())})}}function Xf(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=es(t,e,r);return i.customData._tokenResponse=n,i}function Lv(t){return t!==void 0&&t.enterprise!==void 0}class kT{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return NT(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function CT(t,e){return Ua(t,"GET","/v2/recaptchaConfig",Ba(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LT(t,e){return Ua(t,"POST","/v1/accounts:delete",e)}async function ap(t,e){return Ua(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mh(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function RT(t,e=!1){const n=Lr(t),r=await n.getIdToken(e),i=X2(r);at(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:mh(ig(i.auth_time)),issuedAtTime:mh(ig(i.iat)),expirationTime:mh(ig(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function ig(t){return Number(t)*1e3}function X2(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return wd("JWT malformed, contained fewer than 3 sections"),null;try{const i=k4(n);return i?JSON.parse(i):(wd("Failed to decode base64 JWT payload"),null)}catch(i){return wd("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Rv(t){const e=X2(t);return at(e,"internal-error"),at(typeof e.exp<"u","internal-error"),at(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jh(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof wo&&OT(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function OT({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DT{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=mh(this.lastLoginAt),this.creationTime=mh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lp(t){var e;const n=t.auth,r=await t.getIdToken(),i=await jh(t,ap(n,{idToken:r}));at(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?G4(s.providerUserInfo):[],a=MT(t.providerData,o),l=t.isAnonymous,h=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),p=l?h:!1,g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new y1(s.createdAt,s.lastLoginAt),isAnonymous:p};Object.assign(t,g)}async function FT(t){const e=Lr(t);await lp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function MT(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function G4(t){return t.map(e=>{var{providerId:n}=e,r=K2(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VT(t,e){const n=await H4(t,{},async()=>{const r=ef({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=await W4(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return t.emulatorConfig&&pc(t.emulatorConfig.host)&&(l.credentials="include"),$4.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function jT(t,e){return Ua(t,"POST","/v2/accounts:revokeToken",Ba(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){at(e.idToken,"internal-error"),at(typeof e.idToken<"u","internal-error"),at(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Rv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){at(e.length!==0,"internal-error");const n=Rv(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(at(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await VT(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Bu;return r&&(at(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(at(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(at(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Bu,this.toJSON())}_performRefresh(){return oo("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jo(t,e){at(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Yi{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=K2(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new DT(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new y1(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await jh(this,this.stsTokenManager.getToken(this.auth,e));return at(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return RT(this,e)}reload(){return FT(this)}_assign(e){this!==e&&(at(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Yi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){at(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await lp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(oi(this.auth.app))return Promise.reject(uo(this.auth));const e=await this.getIdToken();return await jh(this,LT(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,h,p;const g=(r=n.displayName)!==null&&r!==void 0?r:void 0,_=(i=n.email)!==null&&i!==void 0?i:void 0,v=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,C=(o=n.photoURL)!==null&&o!==void 0?o:void 0,P=(a=n.tenantId)!==null&&a!==void 0?a:void 0,U=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,b=(h=n.createdAt)!==null&&h!==void 0?h:void 0,S=(p=n.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:F,emailVerified:W,isAnonymous:Z,providerData:ae,stsTokenManager:R}=n;at(F&&R,e,"internal-error");const E=Bu.fromJSON(this.name,R);at(typeof F=="string",e,"internal-error"),Jo(g,e.name),Jo(_,e.name),at(typeof W=="boolean",e,"internal-error"),at(typeof Z=="boolean",e,"internal-error"),Jo(v,e.name),Jo(C,e.name),Jo(P,e.name),Jo(U,e.name),Jo(b,e.name),Jo(S,e.name);const O=new Yi({uid:F,auth:e,email:_,emailVerified:W,displayName:g,isAnonymous:Z,photoURL:C,phoneNumber:v,tenantId:P,stsTokenManager:E,createdAt:b,lastLoginAt:S});return ae&&Array.isArray(ae)&&(O.providerData=ae.map(B=>Object.assign({},B))),U&&(O._redirectEventId=U),O}static async _fromIdTokenResponse(e,n,r=!1){const i=new Bu;i.updateFromServerResponse(n);const s=new Yi({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await lp(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];at(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?G4(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new Bu;a.updateFromIdToken(r);const l=new Yi({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new y1(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,h),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ov=new Map;function ao(t){go(t instanceof Function,"Expected a class definition");let e=Ov.get(t);return e?(go(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Ov.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K4{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}K4.type="NONE";const Dv=K4;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ad(t,e,n){return`firebase:${t}:${e}:${n}`}class Uu{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Ad(this.userKey,i.apiKey,s),this.fullPersistenceKey=Ad("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await ap(this.auth,{idToken:e}).catch(()=>{});return n?Yi._fromGetAccountInfoResponse(this.auth,n,e):null}return Yi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Uu(ao(Dv),e,r);const i=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let s=i[0]||ao(Dv);const o=Ad(r,e.config.apiKey,e.name);let a=null;for(const h of n)try{const p=await h._get(o);if(p){let g;if(typeof p=="string"){const _=await ap(e,{idToken:p}).catch(()=>{});if(!_)break;g=await Yi._fromGetAccountInfoResponse(e,_,p)}else g=Yi._fromJSON(e,p);h!==s&&(a=g),s=h;break}}catch{}const l=i.filter(h=>h._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Uu(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async h=>{if(h!==s)try{await h._remove(o)}catch{}})),new Uu(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fv(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(X4(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Q4(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(e3(e))return"Blackberry";if(t3(e))return"Webos";if(Y4(e))return"Safari";if((e.includes("chrome/")||J4(e))&&!e.includes("edge/"))return"Chrome";if(Z4(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Q4(t=Er()){return/firefox\//i.test(t)}function Y4(t=Er()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function J4(t=Er()){return/crios\//i.test(t)}function X4(t=Er()){return/iemobile/i.test(t)}function Z4(t=Er()){return/android/i.test(t)}function e3(t=Er()){return/blackberry/i.test(t)}function t3(t=Er()){return/webos/i.test(t)}function Z2(t=Er()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function BT(t=Er()){var e;return Z2(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function UT(){return XI()&&document.documentMode===10}function n3(t=Er()){return Z2(t)||Z4(t)||t3(t)||e3(t)||/windows phone/i.test(t)||X4(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r3(t,e=[]){let n;switch(t){case"Browser":n=Fv(Er());break;case"Worker":n=`${Fv(Er())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${mc}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qT(t,e={}){return Ua(t,"GET","/v2/passwordPolicy",Ba(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $T=6;class HT{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:$T,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Mv(this),this.idTokenSubscription=new Mv(this),this.beforeStateQueue=new zT(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=q4,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ao(n)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await Uu.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await ap(this,{idToken:e}),r=await Yi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(oi(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return at(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await lp(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=ST()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(oi(this.app))return Promise.reject(uo(this));const n=e?Lr(e):null;return n&&at(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&at(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return oi(this.app)?Promise.reject(uo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return oi(this.app)?Promise.reject(uo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ao(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await qT(this),n=new HT(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Zh("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await jT(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ao(e)||this._popupRedirectResolver;at(n,this,"argument-error"),this.redirectPersistenceManager=await Uu.create(this,[ao(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(at(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return at(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=r3(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(oi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&wT(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function za(t){return Lr(t)}class Mv{constructor(e){this.auth=e,this.observer=null,this.addObserver=o6(n=>this.observer=n)}get next(){return at(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function GT(t){qp=t}function i3(t){return qp.loadJS(t)}function KT(){return qp.recaptchaEnterpriseScript}function QT(){return qp.gapiScript}function YT(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class JT{constructor(){this.enterprise=new XT}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class XT{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const ZT="recaptcha-enterprise",s3="NO_RECAPTCHA";class eP{constructor(e){this.type=ZT,this.auth=za(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{CT(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const h=new kT(l);return s.tenantId==null?s._agentRecaptchaConfig=h:s._tenantRecaptchaConfigs[s.tenantId]=h,o(h.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;Lv(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(h=>{o(h)}).catch(()=>{o(s3)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new JT().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&Lv(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=KT();l.length!==0&&(l+=a),i3(l).then(()=>{i(a,s,o)}).catch(h=>{o(h)})}}).catch(a=>{o(a)})})}}async function Vv(t,e,n,r=!1,i=!1){const s=new eP(t);let o;if(i)o=s3;else try{o=await s.verify(n)}catch{o=await s.verify(n,!0)}const a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,h=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:h,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function _1(t,e,n,r,i){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await Vv(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await Vv(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tP(t,e){const n=G2(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(xl(s,e??{}))return i;Ci(i,"already-initialized")}return n.initialize({options:e})}function nP(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ao);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function rP(t,e,n){const r=za(t);at(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=o3(e),{host:o,port:a}=iP(e),l=a===null?"":`:${a}`,h={url:`${s}//${o}${l}/`},p=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){at(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),at(xl(h,r.config.emulator)&&xl(p,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=h,r.emulatorConfig=p,r.settings.appVerificationDisabledForTesting=!0,pc(o)?(O4(`${s}//${o}${l}`),D4("Auth",!0)):sP()}function o3(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function iP(t){const e=o3(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:jv(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:jv(o)}}}function jv(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function sP(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e0{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return oo("not implemented")}_getIdTokenResponse(e){return oo("not implemented")}_linkToIdToken(e,n){return oo("not implemented")}_getReauthenticationResolver(e){return oo("not implemented")}}async function oP(t,e){return Ua(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aP(t,e){return nf(t,"POST","/v1/accounts:signInWithPassword",Ba(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lP(t,e){return nf(t,"POST","/v1/accounts:signInWithEmailLink",Ba(t,e))}async function uP(t,e){return nf(t,"POST","/v1/accounts:signInWithEmailLink",Ba(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh extends e0{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Bh(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Bh(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return _1(e,n,"signInWithPassword",aP);case"emailLink":return lP(e,{email:this._email,oobCode:this._password});default:Ci(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return _1(e,r,"signUpPassword",oP);case"emailLink":return uP(e,{idToken:n,email:this._email,oobCode:this._password});default:Ci(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zu(t,e){return nf(t,"POST","/v1/accounts:signInWithIdp",Ba(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cP="http://localhost";class Cl extends e0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Cl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ci("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=K2(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Cl(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return zu(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,zu(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,zu(e,n)}buildRequest(){const e={requestUri:cP,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ef(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hP(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function fP(t){const e=Zc(eh(t)).link,n=e?Zc(eh(e)).deep_link_id:null,r=Zc(eh(t)).deep_link_id;return(r?Zc(eh(r)).link:null)||r||n||e||t}class t0{constructor(e){var n,r,i,s,o,a;const l=Zc(eh(e)),h=(n=l.apiKey)!==null&&n!==void 0?n:null,p=(r=l.oobCode)!==null&&r!==void 0?r:null,g=hP((i=l.mode)!==null&&i!==void 0?i:null);at(h&&p&&g,"argument-error"),this.apiKey=h,this.operation=g,this.code=p,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.lang)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=fP(e);try{return new t0(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(){this.providerId=gc.PROVIDER_ID}static credential(e,n){return Bh._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=t0.parseLink(n);return at(r,"argument-error"),Bh._fromEmailAndCode(e,r.code,r.tenantId)}}gc.PROVIDER_ID="password";gc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";gc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf extends n0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia extends rf{constructor(){super("facebook.com")}static credential(e){return Cl._fromParams({providerId:ia.PROVIDER_ID,signInMethod:ia.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ia.credentialFromTaggedObject(e)}static credentialFromError(e){return ia.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ia.credential(e.oauthAccessToken)}catch{return null}}}ia.FACEBOOK_SIGN_IN_METHOD="facebook.com";ia.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro extends rf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Cl._fromParams({providerId:ro.PROVIDER_ID,signInMethod:ro.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ro.credentialFromTaggedObject(e)}static credentialFromError(e){return ro.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ro.credential(n,r)}catch{return null}}}ro.GOOGLE_SIGN_IN_METHOD="google.com";ro.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa extends rf{constructor(){super("github.com")}static credential(e){return Cl._fromParams({providerId:sa.PROVIDER_ID,signInMethod:sa.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return sa.credentialFromTaggedObject(e)}static credentialFromError(e){return sa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return sa.credential(e.oauthAccessToken)}catch{return null}}}sa.GITHUB_SIGN_IN_METHOD="github.com";sa.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa extends rf{constructor(){super("twitter.com")}static credential(e,n){return Cl._fromParams({providerId:oa.PROVIDER_ID,signInMethod:oa.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return oa.credentialFromTaggedObject(e)}static credentialFromError(e){return oa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return oa.credential(n,r)}catch{return null}}}oa.TWITTER_SIGN_IN_METHOD="twitter.com";oa.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dP(t,e){return nf(t,"POST","/v1/accounts:signUp",Ba(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Yi._fromIdTokenResponse(e,r,i),o=Bv(r);return new Ll({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=Bv(r);return new Ll({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function Bv(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class up extends wo{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,up.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new up(e,n,r,i)}}function a3(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?up._fromErrorAndOperation(t,s,e,r):s})}async function pP(t,e,n=!1){const r=await jh(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ll._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mP(t,e,n=!1){const{auth:r}=t;if(oi(r.app))return Promise.reject(uo(r));const i="reauthenticate";try{const s=await jh(t,a3(r,i,e,t),n);at(s.idToken,r,"internal-error");const o=X2(s.idToken);at(o,r,"internal-error");const{sub:a}=o;return at(t.uid===a,r,"user-mismatch"),Ll._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Ci(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l3(t,e,n=!1){if(oi(t.app))return Promise.reject(uo(t));const r="signIn",i=await a3(t,r,e),s=await Ll._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function gP(t,e){return l3(za(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u3(t){const e=za(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function vP(t,e,n){if(oi(t.app))return Promise.reject(uo(t));const r=za(t),o=await _1(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",dP).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&u3(t),l}),a=await Ll._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function yP(t,e,n){return oi(t.app)?Promise.reject(uo(t)):gP(Lr(t),gc.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&u3(t),r})}function _P(t,e,n,r){return Lr(t).onIdTokenChanged(e,n,r)}function wP(t,e,n){return Lr(t).beforeAuthStateChanged(e,n)}function AP(t,e,n,r){return Lr(t).onAuthStateChanged(e,n,r)}function bP(t){return Lr(t).signOut()}const cp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c3{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(cp,"1"),this.storage.removeItem(cp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EP=1e3,SP=10;class h3 extends c3{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=n3(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);UT()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,SP):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},EP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}h3.type="LOCAL";const IP=h3;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f3 extends c3{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}f3.type="SESSION";const d3=f3;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TP(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $p{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new $p(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async h=>h(n.origin,s)),l=await TP(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}$p.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r0(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PP{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const h=r0("",20);i.port1.start();const p=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(g){const _=g;if(_.data.eventId===h)switch(_.data.status){case"ack":clearTimeout(p),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(_.data.response);break;default:clearTimeout(p),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ps(){return window}function NP(t){Ps().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p3(){return typeof Ps().WorkerGlobalScope<"u"&&typeof Ps().importScripts=="function"}async function xP(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function kP(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function CP(){return p3()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m3="firebaseLocalStorageDb",LP=1,hp="firebaseLocalStorage",g3="fbase_key";class sf{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Hp(t,e){return t.transaction([hp],e?"readwrite":"readonly").objectStore(hp)}function RP(){const t=indexedDB.deleteDatabase(m3);return new sf(t).toPromise()}function w1(){const t=indexedDB.open(m3,LP);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(hp,{keyPath:g3})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(hp)?e(r):(r.close(),await RP(),e(await w1()))})})}async function Uv(t,e,n){const r=Hp(t,!0).put({[g3]:e,value:n});return new sf(r).toPromise()}async function OP(t,e){const n=Hp(t,!1).get(e),r=await new sf(n).toPromise();return r===void 0?null:r.value}function zv(t,e){const n=Hp(t,!0).delete(e);return new sf(n).toPromise()}const DP=800,FP=3;class v3{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await w1(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>FP)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return p3()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=$p._getInstance(CP()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await xP(),!this.activeServiceWorker)return;this.sender=new PP(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||kP()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await w1();return await Uv(e,cp,"1"),await zv(e,cp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Uv(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>OP(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>zv(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Hp(i,!1).getAll();return new sf(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),DP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}v3.type="LOCAL";const MP=v3;new tf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y3(t,e){return e?ao(e):(at(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i0 extends e0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return zu(e,this._buildIdpRequest())}_linkToIdToken(e,n){return zu(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return zu(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function VP(t){return l3(t.auth,new i0(t),t.bypassAuthState)}function jP(t){const{auth:e,user:n}=t;return at(n,e,"internal-error"),mP(n,new i0(t),t.bypassAuthState)}async function BP(t){const{auth:e,user:n}=t;return at(n,e,"internal-error"),pP(n,new i0(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _3{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return VP;case"linkViaPopup":case"linkViaRedirect":return BP;case"reauthViaPopup":case"reauthViaRedirect":return jP;default:Ci(this.auth,"internal-error")}}resolve(e){go(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){go(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UP=new tf(2e3,1e4);async function zP(t,e,n){if(oi(t.app))return Promise.reject(es(t,"operation-not-supported-in-this-environment"));const r=za(t);AT(t,e,n0);const i=y3(r,n);return new vl(r,"signInViaPopup",e,i).executeNotNull()}class vl extends _3{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,vl.currentPopupAction&&vl.currentPopupAction.cancel(),vl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return at(e,this.auth,"internal-error"),e}async onExecution(){go(this.filter.length===1,"Popup operations only handle one event");const e=r0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(es(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(es(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,vl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(es(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,UP.get())};e()}}vl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qP="pendingRedirect",bd=new Map;class $P extends _3{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=bd.get(this.auth._key());if(!e){try{const r=await HP(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}bd.set(this.auth._key(),e)}return this.bypassAuthState||bd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function HP(t,e){const n=KP(e),r=GP(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function WP(t,e){bd.set(t._key(),e)}function GP(t){return ao(t._redirectPersistence)}function KP(t){return Ad(qP,t.config.apiKey,t.name)}async function QP(t,e,n=!1){if(oi(t.app))return Promise.reject(uo(t));const r=za(t),i=y3(r,e),o=await new $P(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YP=10*60*1e3;class JP{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!XP(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!w3(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(es(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=YP&&this.cachedEventUids.clear(),this.cachedEventUids.has(qv(e))}saveEventToCache(e){this.cachedEventUids.add(qv(e)),this.lastProcessedEventTime=Date.now()}}function qv(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function w3({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function XP(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return w3(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZP(t,e={}){return Ua(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,tN=/^https?/;async function nN(t){if(t.config.emulator)return;const{authorizedDomains:e}=await ZP(t);for(const n of e)try{if(rN(n))return}catch{}Ci(t,"unauthorized-domain")}function rN(t){const e=v1(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!tN.test(n))return!1;if(eN.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iN=new tf(3e4,6e4);function $v(){const t=Ps().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function sN(t){return new Promise((e,n)=>{var r,i,s;function o(){$v(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{$v(),n(es(t,"network-request-failed"))},timeout:iN.get()})}if(!((i=(r=Ps().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Ps().gapi)===null||s===void 0)&&s.load)o();else{const a=YT("iframefcb");return Ps()[a]=()=>{gapi.load?o():n(es(t,"network-request-failed"))},i3(`${QT()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Ed=null,e})}let Ed=null;function oN(t){return Ed=Ed||sN(t),Ed}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aN=new tf(5e3,15e3),lN="__/auth/iframe",uN="emulator/auth/iframe",cN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},hN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function fN(t){const e=t.config;at(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?J2(e,uN):`https://${t.config.authDomain}/${lN}`,r={apiKey:e.apiKey,appName:t.name,v:mc},i=hN.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${ef(r).slice(1)}`}async function dN(t){const e=await oN(t),n=Ps().gapi;return at(n,t,"internal-error"),e.open({where:document.body,url:fN(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:cN,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=es(t,"network-request-failed"),a=Ps().setTimeout(()=>{s(o)},aN.get());function l(){Ps().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},mN=500,gN=600,vN="_blank",yN="http://localhost";class Hv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function _N(t,e,n,r=mN,i=gN){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},pN),{width:r.toString(),height:i.toString(),top:s,left:o}),h=Er().toLowerCase();n&&(a=J4(h)?vN:n),Q4(h)&&(e=e||yN,l.scrollbars="yes");const p=Object.entries(l).reduce((_,[v,C])=>`${_}${v}=${C},`,"");if(BT(h)&&a!=="_self")return wN(e||"",a),new Hv(null);const g=window.open(e||"",a,p);at(g,t,"popup-blocked");try{g.focus()}catch{}return new Hv(g)}function wN(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AN="__/auth/handler",bN="emulator/auth/handler",EN=encodeURIComponent("fac");async function Wv(t,e,n,r,i,s){at(t.config.authDomain,t,"auth-domain-config-required"),at(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:mc,eventId:i};if(e instanceof n0){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",s6(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,g]of Object.entries({}))o[p]=g}if(e instanceof rf){const p=e.getScopes().filter(g=>g!=="");p.length>0&&(o.scopes=p.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const p of Object.keys(a))a[p]===void 0&&delete a[p];const l=await t._getAppCheckToken(),h=l?`#${EN}=${encodeURIComponent(l)}`:"";return`${SN(t)}?${ef(a).slice(1)}${h}`}function SN({config:t}){return t.emulator?J2(t,bN):`https://${t.authDomain}/${AN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sg="webStorageSupport";class IN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=d3,this._completeRedirectFn=QP,this._overrideRedirectResult=WP}async _openPopup(e,n,r,i){var s;go((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await Wv(e,n,r,v1(),i);return _N(e,o,r0())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await Wv(e,n,r,v1(),i);return NP(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(go(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await dN(e),r=new JP(e);return n.register("authEvent",i=>(at(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(sg,{type:sg},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[sg];o!==void 0&&n(!!o),Ci(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=nN(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return n3()||Y4()||Z2()}}const TN=IN;var Gv="@firebase/auth",Kv="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){at(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NN(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function xN(t){ic(new kl("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;at(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:r3(t)},h=new WT(r,i,s,l);return nP(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ic(new kl("auth-internal",e=>{const n=za(e.getProvider("auth").getImmediate());return(r=>new PN(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ba(Gv,Kv,NN(t)),ba(Gv,Kv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kN=5*60,CN=R4("authIdTokenMaxAge")||kN;let Qv=null;const LN=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>CN)return;const i=n==null?void 0:n.token;Qv!==i&&(Qv=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function RN(t=j4()){const e=G2(t,"auth");if(e.isInitialized())return e.getImmediate();const n=tP(t,{popupRedirectResolver:TN,persistence:[MP,IP,d3]}),r=R4("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=LN(s.toString());wP(n,o,()=>o(n.currentUser)),_P(n,a=>o(a))}}const i=C4("auth");return i&&rP(n,`http://${i}`),n}function ON(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}GT({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=es("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",ON().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});xN("Browser");var Yv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ea,A3;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(R,E){function O(){}O.prototype=E.prototype,R.D=E.prototype,R.prototype=new O,R.prototype.constructor=R,R.C=function(B,I,T){for(var N=Array(arguments.length-2),Q=2;Q<arguments.length;Q++)N[Q-2]=arguments[Q];return E.prototype[I].apply(B,N)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(R,E,O){O||(O=0);var B=Array(16);if(typeof E=="string")for(var I=0;16>I;++I)B[I]=E.charCodeAt(O++)|E.charCodeAt(O++)<<8|E.charCodeAt(O++)<<16|E.charCodeAt(O++)<<24;else for(I=0;16>I;++I)B[I]=E[O++]|E[O++]<<8|E[O++]<<16|E[O++]<<24;E=R.g[0],O=R.g[1],I=R.g[2];var T=R.g[3],N=E+(T^O&(I^T))+B[0]+3614090360&4294967295;E=O+(N<<7&4294967295|N>>>25),N=T+(I^E&(O^I))+B[1]+3905402710&4294967295,T=E+(N<<12&4294967295|N>>>20),N=I+(O^T&(E^O))+B[2]+606105819&4294967295,I=T+(N<<17&4294967295|N>>>15),N=O+(E^I&(T^E))+B[3]+3250441966&4294967295,O=I+(N<<22&4294967295|N>>>10),N=E+(T^O&(I^T))+B[4]+4118548399&4294967295,E=O+(N<<7&4294967295|N>>>25),N=T+(I^E&(O^I))+B[5]+1200080426&4294967295,T=E+(N<<12&4294967295|N>>>20),N=I+(O^T&(E^O))+B[6]+2821735955&4294967295,I=T+(N<<17&4294967295|N>>>15),N=O+(E^I&(T^E))+B[7]+4249261313&4294967295,O=I+(N<<22&4294967295|N>>>10),N=E+(T^O&(I^T))+B[8]+1770035416&4294967295,E=O+(N<<7&4294967295|N>>>25),N=T+(I^E&(O^I))+B[9]+2336552879&4294967295,T=E+(N<<12&4294967295|N>>>20),N=I+(O^T&(E^O))+B[10]+4294925233&4294967295,I=T+(N<<17&4294967295|N>>>15),N=O+(E^I&(T^E))+B[11]+2304563134&4294967295,O=I+(N<<22&4294967295|N>>>10),N=E+(T^O&(I^T))+B[12]+1804603682&4294967295,E=O+(N<<7&4294967295|N>>>25),N=T+(I^E&(O^I))+B[13]+4254626195&4294967295,T=E+(N<<12&4294967295|N>>>20),N=I+(O^T&(E^O))+B[14]+2792965006&4294967295,I=T+(N<<17&4294967295|N>>>15),N=O+(E^I&(T^E))+B[15]+1236535329&4294967295,O=I+(N<<22&4294967295|N>>>10),N=E+(I^T&(O^I))+B[1]+4129170786&4294967295,E=O+(N<<5&4294967295|N>>>27),N=T+(O^I&(E^O))+B[6]+3225465664&4294967295,T=E+(N<<9&4294967295|N>>>23),N=I+(E^O&(T^E))+B[11]+643717713&4294967295,I=T+(N<<14&4294967295|N>>>18),N=O+(T^E&(I^T))+B[0]+3921069994&4294967295,O=I+(N<<20&4294967295|N>>>12),N=E+(I^T&(O^I))+B[5]+3593408605&4294967295,E=O+(N<<5&4294967295|N>>>27),N=T+(O^I&(E^O))+B[10]+38016083&4294967295,T=E+(N<<9&4294967295|N>>>23),N=I+(E^O&(T^E))+B[15]+3634488961&4294967295,I=T+(N<<14&4294967295|N>>>18),N=O+(T^E&(I^T))+B[4]+3889429448&4294967295,O=I+(N<<20&4294967295|N>>>12),N=E+(I^T&(O^I))+B[9]+568446438&4294967295,E=O+(N<<5&4294967295|N>>>27),N=T+(O^I&(E^O))+B[14]+3275163606&4294967295,T=E+(N<<9&4294967295|N>>>23),N=I+(E^O&(T^E))+B[3]+4107603335&4294967295,I=T+(N<<14&4294967295|N>>>18),N=O+(T^E&(I^T))+B[8]+1163531501&4294967295,O=I+(N<<20&4294967295|N>>>12),N=E+(I^T&(O^I))+B[13]+2850285829&4294967295,E=O+(N<<5&4294967295|N>>>27),N=T+(O^I&(E^O))+B[2]+4243563512&4294967295,T=E+(N<<9&4294967295|N>>>23),N=I+(E^O&(T^E))+B[7]+1735328473&4294967295,I=T+(N<<14&4294967295|N>>>18),N=O+(T^E&(I^T))+B[12]+2368359562&4294967295,O=I+(N<<20&4294967295|N>>>12),N=E+(O^I^T)+B[5]+4294588738&4294967295,E=O+(N<<4&4294967295|N>>>28),N=T+(E^O^I)+B[8]+2272392833&4294967295,T=E+(N<<11&4294967295|N>>>21),N=I+(T^E^O)+B[11]+1839030562&4294967295,I=T+(N<<16&4294967295|N>>>16),N=O+(I^T^E)+B[14]+4259657740&4294967295,O=I+(N<<23&4294967295|N>>>9),N=E+(O^I^T)+B[1]+2763975236&4294967295,E=O+(N<<4&4294967295|N>>>28),N=T+(E^O^I)+B[4]+1272893353&4294967295,T=E+(N<<11&4294967295|N>>>21),N=I+(T^E^O)+B[7]+4139469664&4294967295,I=T+(N<<16&4294967295|N>>>16),N=O+(I^T^E)+B[10]+3200236656&4294967295,O=I+(N<<23&4294967295|N>>>9),N=E+(O^I^T)+B[13]+681279174&4294967295,E=O+(N<<4&4294967295|N>>>28),N=T+(E^O^I)+B[0]+3936430074&4294967295,T=E+(N<<11&4294967295|N>>>21),N=I+(T^E^O)+B[3]+3572445317&4294967295,I=T+(N<<16&4294967295|N>>>16),N=O+(I^T^E)+B[6]+76029189&4294967295,O=I+(N<<23&4294967295|N>>>9),N=E+(O^I^T)+B[9]+3654602809&4294967295,E=O+(N<<4&4294967295|N>>>28),N=T+(E^O^I)+B[12]+3873151461&4294967295,T=E+(N<<11&4294967295|N>>>21),N=I+(T^E^O)+B[15]+530742520&4294967295,I=T+(N<<16&4294967295|N>>>16),N=O+(I^T^E)+B[2]+3299628645&4294967295,O=I+(N<<23&4294967295|N>>>9),N=E+(I^(O|~T))+B[0]+4096336452&4294967295,E=O+(N<<6&4294967295|N>>>26),N=T+(O^(E|~I))+B[7]+1126891415&4294967295,T=E+(N<<10&4294967295|N>>>22),N=I+(E^(T|~O))+B[14]+2878612391&4294967295,I=T+(N<<15&4294967295|N>>>17),N=O+(T^(I|~E))+B[5]+4237533241&4294967295,O=I+(N<<21&4294967295|N>>>11),N=E+(I^(O|~T))+B[12]+1700485571&4294967295,E=O+(N<<6&4294967295|N>>>26),N=T+(O^(E|~I))+B[3]+2399980690&4294967295,T=E+(N<<10&4294967295|N>>>22),N=I+(E^(T|~O))+B[10]+4293915773&4294967295,I=T+(N<<15&4294967295|N>>>17),N=O+(T^(I|~E))+B[1]+2240044497&4294967295,O=I+(N<<21&4294967295|N>>>11),N=E+(I^(O|~T))+B[8]+1873313359&4294967295,E=O+(N<<6&4294967295|N>>>26),N=T+(O^(E|~I))+B[15]+4264355552&4294967295,T=E+(N<<10&4294967295|N>>>22),N=I+(E^(T|~O))+B[6]+2734768916&4294967295,I=T+(N<<15&4294967295|N>>>17),N=O+(T^(I|~E))+B[13]+1309151649&4294967295,O=I+(N<<21&4294967295|N>>>11),N=E+(I^(O|~T))+B[4]+4149444226&4294967295,E=O+(N<<6&4294967295|N>>>26),N=T+(O^(E|~I))+B[11]+3174756917&4294967295,T=E+(N<<10&4294967295|N>>>22),N=I+(E^(T|~O))+B[2]+718787259&4294967295,I=T+(N<<15&4294967295|N>>>17),N=O+(T^(I|~E))+B[9]+3951481745&4294967295,R.g[0]=R.g[0]+E&4294967295,R.g[1]=R.g[1]+(I+(N<<21&4294967295|N>>>11))&4294967295,R.g[2]=R.g[2]+I&4294967295,R.g[3]=R.g[3]+T&4294967295}r.prototype.u=function(R,E){E===void 0&&(E=R.length);for(var O=E-this.blockSize,B=this.B,I=this.h,T=0;T<E;){if(I==0)for(;T<=O;)i(this,R,T),T+=this.blockSize;if(typeof R=="string"){for(;T<E;)if(B[I++]=R.charCodeAt(T++),I==this.blockSize){i(this,B),I=0;break}}else for(;T<E;)if(B[I++]=R[T++],I==this.blockSize){i(this,B),I=0;break}}this.h=I,this.o+=E},r.prototype.v=function(){var R=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);R[0]=128;for(var E=1;E<R.length-8;++E)R[E]=0;var O=8*this.o;for(E=R.length-8;E<R.length;++E)R[E]=O&255,O/=256;for(this.u(R),R=Array(16),E=O=0;4>E;++E)for(var B=0;32>B;B+=8)R[O++]=this.g[E]>>>B&255;return R};function s(R,E){var O=a;return Object.prototype.hasOwnProperty.call(O,R)?O[R]:O[R]=E(R)}function o(R,E){this.h=E;for(var O=[],B=!0,I=R.length-1;0<=I;I--){var T=R[I]|0;B&&T==E||(O[I]=T,B=!1)}this.g=O}var a={};function l(R){return-128<=R&&128>R?s(R,function(E){return new o([E|0],0>E?-1:0)}):new o([R|0],0>R?-1:0)}function h(R){if(isNaN(R)||!isFinite(R))return g;if(0>R)return U(h(-R));for(var E=[],O=1,B=0;R>=O;B++)E[B]=R/O|0,O*=4294967296;return new o(E,0)}function p(R,E){if(R.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(R.charAt(0)=="-")return U(p(R.substring(1),E));if(0<=R.indexOf("-"))throw Error('number format error: interior "-" character');for(var O=h(Math.pow(E,8)),B=g,I=0;I<R.length;I+=8){var T=Math.min(8,R.length-I),N=parseInt(R.substring(I,I+T),E);8>T?(T=h(Math.pow(E,T)),B=B.j(T).add(h(N))):(B=B.j(O),B=B.add(h(N)))}return B}var g=l(0),_=l(1),v=l(16777216);t=o.prototype,t.m=function(){if(P(this))return-U(this).m();for(var R=0,E=1,O=0;O<this.g.length;O++){var B=this.i(O);R+=(0<=B?B:4294967296+B)*E,E*=4294967296}return R},t.toString=function(R){if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(C(this))return"0";if(P(this))return"-"+U(this).toString(R);for(var E=h(Math.pow(R,6)),O=this,B="";;){var I=W(O,E).g;O=b(O,I.j(E));var T=((0<O.g.length?O.g[0]:O.h)>>>0).toString(R);if(O=I,C(O))return T+B;for(;6>T.length;)T="0"+T;B=T+B}},t.i=function(R){return 0>R?0:R<this.g.length?this.g[R]:this.h};function C(R){if(R.h!=0)return!1;for(var E=0;E<R.g.length;E++)if(R.g[E]!=0)return!1;return!0}function P(R){return R.h==-1}t.l=function(R){return R=b(this,R),P(R)?-1:C(R)?0:1};function U(R){for(var E=R.g.length,O=[],B=0;B<E;B++)O[B]=~R.g[B];return new o(O,~R.h).add(_)}t.abs=function(){return P(this)?U(this):this},t.add=function(R){for(var E=Math.max(this.g.length,R.g.length),O=[],B=0,I=0;I<=E;I++){var T=B+(this.i(I)&65535)+(R.i(I)&65535),N=(T>>>16)+(this.i(I)>>>16)+(R.i(I)>>>16);B=N>>>16,T&=65535,N&=65535,O[I]=N<<16|T}return new o(O,O[O.length-1]&-2147483648?-1:0)};function b(R,E){return R.add(U(E))}t.j=function(R){if(C(this)||C(R))return g;if(P(this))return P(R)?U(this).j(U(R)):U(U(this).j(R));if(P(R))return U(this.j(U(R)));if(0>this.l(v)&&0>R.l(v))return h(this.m()*R.m());for(var E=this.g.length+R.g.length,O=[],B=0;B<2*E;B++)O[B]=0;for(B=0;B<this.g.length;B++)for(var I=0;I<R.g.length;I++){var T=this.i(B)>>>16,N=this.i(B)&65535,Q=R.i(I)>>>16,ve=R.i(I)&65535;O[2*B+2*I]+=N*ve,S(O,2*B+2*I),O[2*B+2*I+1]+=T*ve,S(O,2*B+2*I+1),O[2*B+2*I+1]+=N*Q,S(O,2*B+2*I+1),O[2*B+2*I+2]+=T*Q,S(O,2*B+2*I+2)}for(B=0;B<E;B++)O[B]=O[2*B+1]<<16|O[2*B];for(B=E;B<2*E;B++)O[B]=0;return new o(O,0)};function S(R,E){for(;(R[E]&65535)!=R[E];)R[E+1]+=R[E]>>>16,R[E]&=65535,E++}function F(R,E){this.g=R,this.h=E}function W(R,E){if(C(E))throw Error("division by zero");if(C(R))return new F(g,g);if(P(R))return E=W(U(R),E),new F(U(E.g),U(E.h));if(P(E))return E=W(R,U(E)),new F(U(E.g),E.h);if(30<R.g.length){if(P(R)||P(E))throw Error("slowDivide_ only works with positive integers.");for(var O=_,B=E;0>=B.l(R);)O=Z(O),B=Z(B);var I=ae(O,1),T=ae(B,1);for(B=ae(B,2),O=ae(O,2);!C(B);){var N=T.add(B);0>=N.l(R)&&(I=I.add(O),T=N),B=ae(B,1),O=ae(O,1)}return E=b(R,I.j(E)),new F(I,E)}for(I=g;0<=R.l(E);){for(O=Math.max(1,Math.floor(R.m()/E.m())),B=Math.ceil(Math.log(O)/Math.LN2),B=48>=B?1:Math.pow(2,B-48),T=h(O),N=T.j(E);P(N)||0<N.l(R);)O-=B,T=h(O),N=T.j(E);C(T)&&(T=_),I=I.add(T),R=b(R,N)}return new F(I,R)}t.A=function(R){return W(this,R).h},t.and=function(R){for(var E=Math.max(this.g.length,R.g.length),O=[],B=0;B<E;B++)O[B]=this.i(B)&R.i(B);return new o(O,this.h&R.h)},t.or=function(R){for(var E=Math.max(this.g.length,R.g.length),O=[],B=0;B<E;B++)O[B]=this.i(B)|R.i(B);return new o(O,this.h|R.h)},t.xor=function(R){for(var E=Math.max(this.g.length,R.g.length),O=[],B=0;B<E;B++)O[B]=this.i(B)^R.i(B);return new o(O,this.h^R.h)};function Z(R){for(var E=R.g.length+1,O=[],B=0;B<E;B++)O[B]=R.i(B)<<1|R.i(B-1)>>>31;return new o(O,R.h)}function ae(R,E){var O=E>>5;E%=32;for(var B=R.g.length-O,I=[],T=0;T<B;T++)I[T]=0<E?R.i(T+O)>>>E|R.i(T+O+1)<<32-E:R.i(T+O);return new o(I,R.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,A3=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=h,o.fromString=p,Ea=o}).apply(typeof Yv<"u"?Yv:typeof self<"u"?self:typeof window<"u"?window:{});var Zf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var b3,th,E3,Sd,A1,S3,I3,T3;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,A){return c==Array.prototype||c==Object.prototype||(c[y]=A.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Zf=="object"&&Zf];for(var y=0;y<c.length;++y){var A=c[y];if(A&&A.Math==Math)return A}throw Error("Cannot find global object")}var r=n(this);function i(c,y){if(y)e:{var A=r;c=c.split(".");for(var V=0;V<c.length-1;V++){var ie=c[V];if(!(ie in A))break e;A=A[ie]}c=c[c.length-1],V=A[c],y=y(V),y!=V&&y!=null&&e(A,c,{configurable:!0,writable:!0,value:y})}}function s(c,y){c instanceof String&&(c+="");var A=0,V=!1,ie={next:function(){if(!V&&A<c.length){var de=A++;return{value:y(de,c[de]),done:!1}}return V=!0,{done:!0,value:void 0}}};return ie[Symbol.iterator]=function(){return ie},ie}i("Array.prototype.values",function(c){return c||function(){return s(this,function(y,A){return A})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function h(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function p(c,y,A){return c.call.apply(c.bind,arguments)}function g(c,y,A){if(!c)throw Error();if(2<arguments.length){var V=Array.prototype.slice.call(arguments,2);return function(){var ie=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ie,V),c.apply(y,ie)}}return function(){return c.apply(y,arguments)}}function _(c,y,A){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:g,_.apply(null,arguments)}function v(c,y){var A=Array.prototype.slice.call(arguments,1);return function(){var V=A.slice();return V.push.apply(V,arguments),c.apply(this,V)}}function C(c,y){function A(){}A.prototype=y.prototype,c.aa=y.prototype,c.prototype=new A,c.prototype.constructor=c,c.Qb=function(V,ie,de){for(var Ne=Array(arguments.length-2),pt=2;pt<arguments.length;pt++)Ne[pt-2]=arguments[pt];return y.prototype[ie].apply(V,Ne)}}function P(c){const y=c.length;if(0<y){const A=Array(y);for(let V=0;V<y;V++)A[V]=c[V];return A}return[]}function U(c,y){for(let A=1;A<arguments.length;A++){const V=arguments[A];if(l(V)){const ie=c.length||0,de=V.length||0;c.length=ie+de;for(let Ne=0;Ne<de;Ne++)c[ie+Ne]=V[Ne]}else c.push(V)}}class b{constructor(y,A){this.i=y,this.j=A,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function S(c){return/^[\s\xa0]*$/.test(c)}function F(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function W(c){return W[" "](c),c}W[" "]=function(){};var Z=F().indexOf("Gecko")!=-1&&!(F().toLowerCase().indexOf("webkit")!=-1&&F().indexOf("Edge")==-1)&&!(F().indexOf("Trident")!=-1||F().indexOf("MSIE")!=-1)&&F().indexOf("Edge")==-1;function ae(c,y,A){for(const V in c)y.call(A,c[V],V,c)}function R(c,y){for(const A in c)y.call(void 0,c[A],A,c)}function E(c){const y={};for(const A in c)y[A]=c[A];return y}const O="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function B(c,y){let A,V;for(let ie=1;ie<arguments.length;ie++){V=arguments[ie];for(A in V)c[A]=V[A];for(let de=0;de<O.length;de++)A=O[de],Object.prototype.hasOwnProperty.call(V,A)&&(c[A]=V[A])}}function I(c){var y=1;c=c.split(":");const A=[];for(;0<y&&c.length;)A.push(c.shift()),y--;return c.length&&A.push(c.join(":")),A}function T(c){a.setTimeout(()=>{throw c},0)}function N(){var c=le;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class Q{constructor(){this.h=this.g=null}add(y,A){const V=ve.get();V.set(y,A),this.h?this.h.next=V:this.g=V,this.h=V}}var ve=new b(()=>new me,c=>c.reset());class me{constructor(){this.next=this.g=this.h=null}set(y,A){this.h=y,this.g=A,this.next=null}reset(){this.next=this.g=this.h=null}}let ye,Y=!1,le=new Q,ce=()=>{const c=a.Promise.resolve(void 0);ye=()=>{c.then(Ce)}};var Ce=()=>{for(var c;c=N();){try{c.h.call(c.g)}catch(A){T(A)}var y=ve;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}Y=!1};function L(){this.s=this.s,this.C=this.C}L.prototype.s=!1,L.prototype.ma=function(){this.s||(this.s=!0,this.N())},L.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function q(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}q.prototype.h=function(){this.defaultPrevented=!0};var G=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const A=()=>{};a.addEventListener("test",A,y),a.removeEventListener("test",A,y)}catch{}return c}();function J(c,y){if(q.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var A=this.type=c.type,V=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(Z){e:{try{W(y.nodeName);var ie=!0;break e}catch{}ie=!1}ie||(y=null)}}else A=="mouseover"?y=c.fromElement:A=="mouseout"&&(y=c.toElement);this.relatedTarget=y,V?(this.clientX=V.clientX!==void 0?V.clientX:V.pageX,this.clientY=V.clientY!==void 0?V.clientY:V.pageY,this.screenX=V.screenX||0,this.screenY=V.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:ne[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&J.aa.h.call(this)}}C(J,q);var ne={2:"touch",3:"pen",4:"mouse"};J.prototype.h=function(){J.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ue="closure_listenable_"+(1e6*Math.random()|0),pe=0;function ge(c,y,A,V,ie){this.listener=c,this.proxy=null,this.src=y,this.type=A,this.capture=!!V,this.ha=ie,this.key=++pe,this.da=this.fa=!1}function Oe(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function ke(c){this.src=c,this.g={},this.h=0}ke.prototype.add=function(c,y,A,V,ie){var de=c.toString();c=this.g[de],c||(c=this.g[de]=[],this.h++);var Ne=Fe(c,y,V,ie);return-1<Ne?(y=c[Ne],A||(y.fa=!1)):(y=new ge(y,this.src,de,!!V,ie),y.fa=A,c.push(y)),y};function Ve(c,y){var A=y.type;if(A in c.g){var V=c.g[A],ie=Array.prototype.indexOf.call(V,y,void 0),de;(de=0<=ie)&&Array.prototype.splice.call(V,ie,1),de&&(Oe(y),c.g[A].length==0&&(delete c.g[A],c.h--))}}function Fe(c,y,A,V){for(var ie=0;ie<c.length;++ie){var de=c[ie];if(!de.da&&de.listener==y&&de.capture==!!A&&de.ha==V)return ie}return-1}var Ze="closure_lm_"+(1e6*Math.random()|0),Ae={};function K(c,y,A,V,ie){if(Array.isArray(y)){for(var de=0;de<y.length;de++)K(c,y[de],A,V,ie);return null}return A=dt(A),c&&c[ue]?c.K(y,A,h(V)?!!V.capture:!1,ie):ht(c,y,A,!1,V,ie)}function ht(c,y,A,V,ie,de){if(!y)throw Error("Invalid event type");var Ne=h(ie)?!!ie.capture:!!ie,pt=Ye(c);if(pt||(c[Ze]=pt=new ke(c)),A=pt.add(y,A,V,Ne,de),A.proxy)return A;if(V=Qe(),A.proxy=V,V.src=c,V.listener=A,c.addEventListener)G||(ie=Ne),ie===void 0&&(ie=!1),c.addEventListener(y.toString(),V,ie);else if(c.attachEvent)c.attachEvent(ze(y.toString()),V);else if(c.addListener&&c.removeListener)c.addListener(V);else throw Error("addEventListener and attachEvent are unavailable.");return A}function Qe(){function c(A){return y.call(c.src,c.listener,A)}const y=Be;return c}function Le(c,y,A,V,ie){if(Array.isArray(y))for(var de=0;de<y.length;de++)Le(c,y[de],A,V,ie);else V=h(V)?!!V.capture:!!V,A=dt(A),c&&c[ue]?(c=c.i,y=String(y).toString(),y in c.g&&(de=c.g[y],A=Fe(de,A,V,ie),-1<A&&(Oe(de[A]),Array.prototype.splice.call(de,A,1),de.length==0&&(delete c.g[y],c.h--)))):c&&(c=Ye(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Fe(y,A,V,ie)),(A=-1<c?y[c]:null)&&De(A))}function De(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[ue])Ve(y.i,c);else{var A=c.type,V=c.proxy;y.removeEventListener?y.removeEventListener(A,V,c.capture):y.detachEvent?y.detachEvent(ze(A),V):y.addListener&&y.removeListener&&y.removeListener(V),(A=Ye(y))?(Ve(A,c),A.h==0&&(A.src=null,y[Ze]=null)):Oe(c)}}}function ze(c){return c in Ae?Ae[c]:Ae[c]="on"+c}function Be(c,y){if(c.da)c=!0;else{y=new J(y,this);var A=c.listener,V=c.ha||c.src;c.fa&&De(c),c=A.call(V,y)}return c}function Ye(c){return c=c[Ze],c instanceof ke?c:null}var ut="__closure_events_fn_"+(1e9*Math.random()>>>0);function dt(c){return typeof c=="function"?c:(c[ut]||(c[ut]=function(y){return c.handleEvent(y)}),c[ut])}function Xe(){L.call(this),this.i=new ke(this),this.M=this,this.F=null}C(Xe,L),Xe.prototype[ue]=!0,Xe.prototype.removeEventListener=function(c,y,A,V){Le(this,c,y,A,V)};function st(c,y){var A,V=c.F;if(V)for(A=[];V;V=V.F)A.push(V);if(c=c.M,V=y.type||y,typeof y=="string")y=new q(y,c);else if(y instanceof q)y.target=y.target||c;else{var ie=y;y=new q(V,c),B(y,ie)}if(ie=!0,A)for(var de=A.length-1;0<=de;de--){var Ne=y.g=A[de];ie=kt(Ne,V,!0,y)&&ie}if(Ne=y.g=c,ie=kt(Ne,V,!0,y)&&ie,ie=kt(Ne,V,!1,y)&&ie,A)for(de=0;de<A.length;de++)Ne=y.g=A[de],ie=kt(Ne,V,!1,y)&&ie}Xe.prototype.N=function(){if(Xe.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var A=c.g[y],V=0;V<A.length;V++)Oe(A[V]);delete c.g[y],c.h--}}this.F=null},Xe.prototype.K=function(c,y,A,V){return this.i.add(String(c),y,!1,A,V)},Xe.prototype.L=function(c,y,A,V){return this.i.add(String(c),y,!0,A,V)};function kt(c,y,A,V){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var ie=!0,de=0;de<y.length;++de){var Ne=y[de];if(Ne&&!Ne.da&&Ne.capture==A){var pt=Ne.listener,Et=Ne.ha||Ne.src;Ne.fa&&Ve(c.i,Ne),ie=pt.call(Et,V)!==!1&&ie}}return ie&&!V.defaultPrevented}function rt(c,y,A){if(typeof c=="function")A&&(c=_(c,A));else if(c&&typeof c.handleEvent=="function")c=_(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:a.setTimeout(c,y||0)}function wt(c){c.g=rt(()=>{c.g=null,c.i&&(c.i=!1,wt(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class qe extends L{constructor(y,A){super(),this.m=y,this.l=A,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:wt(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function dn(c){L.call(this),this.h=c,this.g={}}C(dn,L);var Pt=[];function Dr(c){ae(c.g,function(y,A){this.g.hasOwnProperty(A)&&De(y)},c),c.g={}}dn.prototype.N=function(){dn.aa.N.call(this),Dr(this)},dn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ot=a.JSON.stringify,Kt=a.JSON.parse,di=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function Nt(){}Nt.prototype.h=null;function ss(c){return c.h||(c.h=c.i())}function Zt(){}var Qn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Yr(){q.call(this,"d")}C(Yr,q);function Qt(){q.call(this,"c")}C(Qt,q);var tt={},Ct=null;function pi(){return Ct=Ct||new Xe}tt.La="serverreachability";function Nn(c){q.call(this,tt.La,c)}C(Nn,q);function or(c){const y=pi();st(y,new Nn(y))}tt.STAT_EVENT="statevent";function Jr(c,y){q.call(this,tt.STAT_EVENT,c),this.stat=y}C(Jr,q);function We(c){const y=pi();st(y,new Jr(y,c))}tt.Ma="timingevent";function Fr(c,y){q.call(this,tt.Ma,c),this.size=y}C(Fr,q);function ar(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},y)}function xn(){this.g=!0}xn.prototype.xa=function(){this.g=!1};function _n(c,y,A,V,ie,de){c.info(function(){if(c.g)if(de)for(var Ne="",pt=de.split("&"),Et=0;Et<pt.length;Et++){var mt=pt[Et].split("=");if(1<mt.length){var Mt=mt[0];mt=mt[1];var Ht=Mt.split("_");Ne=2<=Ht.length&&Ht[1]=="type"?Ne+(Mt+"="+mt+"&"):Ne+(Mt+"=redacted&")}}else Ne=null;else Ne=de;return"XMLHTTP REQ ("+V+") [attempt "+ie+"]: "+y+`
`+A+`
`+Ne})}function pn(c,y,A,V,ie,de,Ne){c.info(function(){return"XMLHTTP RESP ("+V+") [ attempt "+ie+"]: "+y+`
`+A+`
`+de+" "+Ne})}function kn(c,y,A,V){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Li(c,A)+(V?" "+V:"")})}function Ao(c,y){c.info(function(){return"TIMEOUT: "+y})}xn.prototype.info=function(){};function Li(c,y){if(!c.g)return y;if(!y)return null;try{var A=JSON.parse(y);if(A){for(c=0;c<A.length;c++)if(Array.isArray(A[c])){var V=A[c];if(!(2>V.length)){var ie=V[1];if(Array.isArray(ie)&&!(1>ie.length)){var de=ie[0];if(de!="noop"&&de!="stop"&&de!="close")for(var Ne=1;Ne<ie.length;Ne++)ie[Ne]=""}}}}return Ot(A)}catch{return y}}var lr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Mr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Sr;function Ir(){}C(Ir,Nt),Ir.prototype.g=function(){return new XMLHttpRequest},Ir.prototype.i=function(){return{}},Sr=new Ir;function wn(c,y,A,V){this.j=c,this.i=y,this.l=A,this.R=V||1,this.U=new dn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Xr}function Xr(){this.i=null,this.g="",this.h=!1}var os={},as={};function ls(c,y,A){c.L=1,c.v=Us(Tr(y)),c.m=A,c.P=!0,Fs(c,null)}function Fs(c,y){c.F=Date.now(),bo(c),c.A=Tr(c.v);var A=c.A,V=c.R;Array.isArray(V)||(V=[String(V)]),ct(A.i,"t",V),c.C=0,A=c.j.J,c.h=new Xr,c.g=x(c.j,A?y:null,!c.m),0<c.O&&(c.M=new qe(_(c.Y,c,c.g),c.O)),y=c.U,A=c.g,V=c.ca;var ie="readystatechange";Array.isArray(ie)||(ie&&(Pt[0]=ie.toString()),ie=Pt);for(var de=0;de<ie.length;de++){var Ne=K(A,ie[de],V||y.handleEvent,!1,y.h||y);if(!Ne)break;y.g[Ne.key]=Ne}y=c.H?E(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),or(),_n(c.i,c.u,c.A,c.l,c.R,c.m)}wn.prototype.ca=function(c){c=c.target;const y=this.M;y&&Fn(c)==3?y.j():this.Y(c)},wn.prototype.Y=function(c){try{if(c==this.g)e:{const Ht=Fn(this.g);var y=this.g.Ba();const Bi=this.g.Z();if(!(3>Ht)&&(Ht!=3||this.g&&(this.h.h||this.g.oa()||Jl(this.g)))){this.J||Ht!=4||y==7||(y==8||0>=Bi?or(3):or(2)),us(this);var A=this.g.Z();this.X=A;t:if(Ms(this)){var V=Jl(this.g);c="";var ie=V.length,de=Fn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ri(this),cs(this);var Ne="";break t}this.h.i=new a.TextDecoder}for(y=0;y<ie;y++)this.h.h=!0,c+=this.h.i.decode(V[y],{stream:!(de&&y==ie-1)});V.length=0,this.h.g+=c,this.C=0,Ne=this.h.g}else Ne=this.g.oa();if(this.o=A==200,pn(this.i,this.u,this.A,this.l,this.R,Ht,A),this.o){if(this.T&&!this.K){t:{if(this.g){var pt,Et=this.g;if((pt=Et.g?Et.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!S(pt)){var mt=pt;break t}}mt=null}if(A=mt)kn(this.i,this.l,A,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Vs(this,A);else{this.o=!1,this.s=3,We(12),Ri(this),cs(this);break e}}if(this.P){A=!0;let Jn;for(;!this.J&&this.C<Ne.length;)if(Jn=zl(this,Ne),Jn==as){Ht==4&&(this.s=4,We(14),A=!1),kn(this.i,this.l,null,"[Incomplete Response]");break}else if(Jn==os){this.s=4,We(15),kn(this.i,this.l,Ne,"[Invalid Chunk]"),A=!1;break}else kn(this.i,this.l,Jn,null),Vs(this,Jn);if(Ms(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ht!=4||Ne.length!=0||this.h.h||(this.s=1,We(16),A=!1),this.o=this.o&&A,!A)kn(this.i,this.l,Ne,"[Invalid Chunked Response]"),Ri(this),cs(this);else if(0<Ne.length&&!this.W){this.W=!0;var Mt=this.j;Mt.g==this&&Mt.ba&&!Mt.M&&(Mt.j.info("Great, no buffering proxy detected. Bytes received: "+Ne.length),Fo(Mt),Mt.M=!0,We(11))}}else kn(this.i,this.l,Ne,null),Vs(this,Ne);Ht==4&&Ri(this),this.o&&!this.J&&(Ht==4?ms(this.j,this):(this.o=!1,bo(this)))}else ds(this.g),A==400&&0<Ne.indexOf("Unknown SID")?(this.s=3,We(12)):(this.s=0,We(13)),Ri(this),cs(this)}}}catch{}finally{}};function Ms(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function zl(c,y){var A=c.C,V=y.indexOf(`
`,A);return V==-1?as:(A=Number(y.substring(A,V)),isNaN(A)?os:(V+=1,V+A>y.length?as:(y=y.slice(V,V+A),c.C=V+A,y)))}wn.prototype.cancel=function(){this.J=!0,Ri(this)};function bo(c){c.S=Date.now()+c.I,ql(c,c.I)}function ql(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=ar(_(c.ba,c),y)}function us(c){c.B&&(a.clearTimeout(c.B),c.B=null)}wn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Ao(this.i,this.A),this.L!=2&&(or(),We(17)),Ri(this),this.s=2,cs(this)):ql(this,this.S-c)};function cs(c){c.j.G==0||c.J||ms(c.j,c)}function Ri(c){us(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,Dr(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function Vs(c,y){try{var A=c.j;if(A.G!=0&&(A.g==c||$a(A.h,c))){if(!c.K&&$a(A.h,c)&&A.G==3){try{var V=A.Da.g.parse(y)}catch{V=null}if(Array.isArray(V)&&V.length==3){var ie=V;if(ie[0]==0){e:if(!A.u){if(A.g)if(A.g.F+3e3<c.F)ji(A),Lo(A);else break e;Ws(A),We(18)}}else A.za=ie[1],0<A.za-A.T&&37500>ie[2]&&A.F&&A.v==0&&!A.C&&(A.C=ar(_(A.Za,A),6e3));if(1>=js(A.h)&&A.ca){try{A.ca()}catch{}A.ca=void 0}}else ur(A,11)}else if((c.K||A.g==c)&&ji(A),!S(y))for(ie=A.Da.g.parse(y),y=0;y<ie.length;y++){let mt=ie[y];if(A.T=mt[0],mt=mt[1],A.G==2)if(mt[0]=="c"){A.K=mt[1],A.ia=mt[2];const Mt=mt[3];Mt!=null&&(A.la=Mt,A.j.info("VER="+A.la));const Ht=mt[4];Ht!=null&&(A.Aa=Ht,A.j.info("SVER="+A.Aa));const Bi=mt[5];Bi!=null&&typeof Bi=="number"&&0<Bi&&(V=1.5*Bi,A.L=V,A.j.info("backChannelRequestTimeoutMs_="+V)),V=A;const Jn=c.g;if(Jn){const gs=Jn.g?Jn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(gs){var de=V.h;de.g||gs.indexOf("spdy")==-1&&gs.indexOf("quic")==-1&&gs.indexOf("h2")==-1||(de.j=de.l,de.g=new Set,de.h&&(en(de,de.h),de.h=null))}if(V.D){const vs=Jn.g?Jn.g.getResponseHeader("X-HTTP-Session-Id"):null;vs&&(V.ya=vs,jt(V.I,V.D,vs))}}A.G=3,A.l&&A.l.ua(),A.ba&&(A.R=Date.now()-c.F,A.j.info("Handshake RTT: "+A.R+"ms")),V=A;var Ne=c;if(V.qa=d(V,V.J?V.ia:null,V.W),Ne.K){Ha(V.h,Ne);var pt=Ne,Et=V.L;Et&&(pt.I=Et),pt.B&&(us(pt),bo(pt)),V.g=Ne}else Do(V);0<A.i.length&&Ro(A)}else mt[0]!="stop"&&mt[0]!="close"||ur(A,7);else A.G==3&&(mt[0]=="stop"||mt[0]=="close"?mt[0]=="stop"?ur(A,7):Vi(A):mt[0]!="noop"&&A.l&&A.l.ta(mt),A.v=0)}}or(4)}catch{}}var Ac=class{constructor(c,y){this.g=c,this.map=y}};function qa(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function $l(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function js(c){return c.h?1:c.g?c.g.size:0}function $a(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function en(c,y){c.g?c.g.add(y):c.h=y}function Ha(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}qa.prototype.cancel=function(){if(this.i=Wa(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Wa(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const A of c.g.values())y=y.concat(A.D);return y}return P(c.i)}function Hl(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(l(c)){for(var y=[],A=c.length,V=0;V<A;V++)y.push(c[V]);return y}y=[],A=0;for(V in c)y[A++]=c[V];return y}function Ga(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(l(c)||typeof c=="string"){var y=[];c=c.length;for(var A=0;A<c;A++)y.push(A);return y}y=[],A=0;for(const V in c)y[A++]=V;return y}}}function Wl(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(l(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var A=Ga(c),V=Hl(c),ie=V.length,de=0;de<ie;de++)y.call(void 0,V[de],A&&A[de],c)}var Vr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Eo(c,y){if(c){c=c.split("&");for(var A=0;A<c.length;A++){var V=c[A].indexOf("="),ie=null;if(0<=V){var de=c[A].substring(0,V);ie=c[A].substring(V+1)}else de=c[A];y(de,ie?decodeURIComponent(ie.replace(/\+/g," ")):"")}}}function mn(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof mn){this.h=c.h,Bs(this,c.j),this.o=c.o,this.g=c.g,So(this,c.s),this.l=c.l;var y=c.i,A=new hs;A.i=y.i,y.g&&(A.g=new Map(y.g),A.h=y.h),Ka(this,A),this.m=c.m}else c&&(y=String(c).match(Vr))?(this.h=!1,Bs(this,y[1]||"",!0),this.o=zs(y[2]||""),this.g=zs(y[3]||"",!0),So(this,y[4]),this.l=zs(y[5]||"",!0),Ka(this,y[6]||"",!0),this.m=zs(y[7]||"")):(this.h=!1,this.i=new hs(null,this.h))}mn.prototype.toString=function(){var c=[],y=this.j;y&&c.push(Oi(y,Gl,!0),":");var A=this.g;return(A||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Oi(y,Gl,!0),"@"),c.push(encodeURIComponent(String(A)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A=this.s,A!=null&&c.push(":",String(A))),(A=this.l)&&(this.g&&A.charAt(0)!="/"&&c.push("/"),c.push(Oi(A,A.charAt(0)=="/"?Di:Ec,!0))),(A=this.i.toString())&&c.push("?",A),(A=this.m)&&c.push("#",Oi(A,To)),c.join("")};function Tr(c){return new mn(c)}function Bs(c,y,A){c.j=A?zs(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function So(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function Ka(c,y,A){y instanceof hs?(c.i=y,Sc(c.i,c.h)):(A||(y=Oi(y,Io)),c.i=new hs(y,c.h))}function jt(c,y,A){c.i.set(y,A)}function Us(c){return jt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function zs(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Oi(c,y,A){return typeof c=="string"?(c=encodeURI(c).replace(y,bc),A&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function bc(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Gl=/[#\/\?@]/g,Ec=/[#\?:]/g,Di=/[#\?]/g,Io=/[#\?@]/g,To=/#/g;function hs(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function tn(c){c.g||(c.g=new Map,c.h=0,c.i&&Eo(c.i,function(y,A){c.add(decodeURIComponent(y.replace(/\+/g," ")),A)}))}t=hs.prototype,t.add=function(c,y){tn(this),this.i=null,c=fs(this,c);var A=this.g.get(c);return A||this.g.set(c,A=[]),A.push(y),this.h+=1,this};function Kl(c,y){tn(c),y=fs(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Qa(c,y){return tn(c),y=fs(c,y),c.g.has(y)}t.forEach=function(c,y){tn(this),this.g.forEach(function(A,V){A.forEach(function(ie){c.call(y,ie,V,this)},this)},this)},t.na=function(){tn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),A=[];for(let V=0;V<y.length;V++){const ie=c[V];for(let de=0;de<ie.length;de++)A.push(y[V])}return A},t.V=function(c){tn(this);let y=[];if(typeof c=="string")Qa(this,c)&&(y=y.concat(this.g.get(fs(this,c))));else{c=Array.from(this.g.values());for(let A=0;A<c.length;A++)y=y.concat(c[A])}return y},t.set=function(c,y){return tn(this),this.i=null,c=fs(this,c),Qa(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},t.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function ct(c,y,A){Kl(c,y),0<A.length&&(c.i=null,c.g.set(fs(c,y),P(A)),c.h+=A.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var A=0;A<y.length;A++){var V=y[A];const de=encodeURIComponent(String(V)),Ne=this.V(V);for(V=0;V<Ne.length;V++){var ie=de;Ne[V]!==""&&(ie+="="+encodeURIComponent(String(Ne[V]))),c.push(ie)}}return this.i=c.join("&")};function fs(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Sc(c,y){y&&!c.j&&(tn(c),c.i=null,c.g.forEach(function(A,V){var ie=V.toLowerCase();V!=ie&&(Kl(this,V),ct(this,ie,A))},c)),c.j=y}function mi(c,y){const A=new xn;if(a.Image){const V=new Image;V.onload=v(Zr,A,"TestLoadImage: loaded",!0,y,V),V.onerror=v(Zr,A,"TestLoadImage: error",!1,y,V),V.onabort=v(Zr,A,"TestLoadImage: abort",!1,y,V),V.ontimeout=v(Zr,A,"TestLoadImage: timeout",!1,y,V),a.setTimeout(function(){V.ontimeout&&V.ontimeout()},1e4),V.src=c}else y(!1)}function Ql(c,y){const A=new xn,V=new AbortController,ie=setTimeout(()=>{V.abort(),Zr(A,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:V.signal}).then(de=>{clearTimeout(ie),de.ok?Zr(A,"TestPingServer: ok",!0,y):Zr(A,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(ie),Zr(A,"TestPingServer: error",!1,y)})}function Zr(c,y,A,V,ie){try{ie&&(ie.onload=null,ie.onerror=null,ie.onabort=null,ie.ontimeout=null),V(A)}catch{}}function Po(){this.g=new di}function Ya(c,y,A){const V=A||"";try{Wl(c,function(ie,de){let Ne=ie;h(ie)&&(Ne=Ot(ie)),y.push(V+de+"="+encodeURIComponent(Ne))})}catch(ie){throw y.push(V+"type="+encodeURIComponent("_badmap")),ie}}function No(c){this.l=c.Ub||null,this.j=c.eb||!1}C(No,Nt),No.prototype.g=function(){return new xo(this.l,this.j)},No.prototype.i=function(c){return function(){return c}}({});function xo(c,y){Xe.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(xo,Xe),t=xo.prototype,t.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,ei(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||a).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Fi(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ei(this)),this.g&&(this.readyState=3,ei(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Yl(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Yl(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Fi(this):ei(this),this.readyState==3&&Yl(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,Fi(this))},t.Qa=function(c){this.g&&(this.response=c,Fi(this))},t.ga=function(){this.g&&Fi(this)};function Fi(c){c.readyState=4,c.l=null,c.j=null,c.v=null,ei(c)}t.setRequestHeader=function(c,y){this.u.append(c,y)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var A=y.next();!A.done;)A=A.value,c.push(A[0]+": "+A[1]),A=y.next();return c.join(`\r
`)};function ei(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(xo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Mi(c){let y="";return ae(c,function(A,V){y+=V,y+=":",y+=A,y+=`\r
`}),y}function Ja(c,y,A){e:{for(V in A){var V=!1;break e}V=!0}V||(A=Mi(A),typeof c=="string"?A!=null&&encodeURIComponent(String(A)):jt(c,y,A))}function Ft(c){Xe.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(Ft,Xe);var Xa=/^https?$/i,ko=["POST","PUT"];t=Ft.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,y,A,V){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Sr.g(),this.v=this.o?ss(this.o):ss(Sr),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(de){Za(this,de);return}if(c=A||"",A=new Map(this.headers),V)if(Object.getPrototypeOf(V)===Object.prototype)for(var ie in V)A.set(ie,V[ie]);else if(typeof V.keys=="function"&&typeof V.get=="function")for(const de of V.keys())A.set(de,V.get(de));else throw Error("Unknown input type for opt_headers: "+String(V));V=Array.from(A.keys()).find(de=>de.toLowerCase()=="content-type"),ie=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(ko,y,void 0))||V||ie||A.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[de,Ne]of A)this.g.setRequestHeader(de,Ne);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ti(this),this.u=!0,this.g.send(c),this.u=!1}catch(de){Za(this,de)}};function Za(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,el(c),qs(c)}function el(c){c.A||(c.A=!0,st(c,"complete"),st(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,st(this,"complete"),st(this,"abort"),qs(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),qs(this,!0)),Ft.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?tl(this):this.bb())},t.bb=function(){tl(this)};function tl(c){if(c.h&&typeof o<"u"&&(!c.v[1]||Fn(c)!=4||c.Z()!=2)){if(c.u&&Fn(c)==4)rt(c.Ea,0,c);else if(st(c,"readystatechange"),Fn(c)==4){c.h=!1;try{const Ne=c.Z();e:switch(Ne){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var A;if(!(A=y)){var V;if(V=Ne===0){var ie=String(c.D).match(Vr)[1]||null;!ie&&a.self&&a.self.location&&(ie=a.self.location.protocol.slice(0,-1)),V=!Xa.test(ie?ie.toLowerCase():"")}A=V}if(A)st(c,"complete"),st(c,"success");else{c.m=6;try{var de=2<Fn(c)?c.g.statusText:""}catch{de=""}c.l=de+" ["+c.Z()+"]",el(c)}}finally{qs(c)}}}}function qs(c,y){if(c.g){ti(c);const A=c.g,V=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||st(c,"ready");try{A.onreadystatechange=V}catch{}}}function ti(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function Fn(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<Fn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),Kt(y)}};function Jl(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function ds(c){const y={};c=(c.g&&2<=Fn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let V=0;V<c.length;V++){if(S(c[V]))continue;var A=I(c[V]);const ie=A[0];if(A=A[1],typeof A!="string")continue;A=A.trim();const de=y[ie]||[];y[ie]=de,de.push(A)}R(y,function(V){return V.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Yn(c,y,A){return A&&A.internalChannelParams&&A.internalChannelParams[c]||y}function Co(c){this.Aa=0,this.i=[],this.j=new xn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Yn("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Yn("baseRetryDelayMs",5e3,c),this.cb=Yn("retryDelaySeedMs",1e4,c),this.Wa=Yn("forwardChannelMaxRetries",2,c),this.wa=Yn("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new qa(c&&c.concurrentRequestLimit),this.Da=new Po,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Co.prototype,t.la=8,t.G=1,t.connect=function(c,y,A,V){We(0),this.W=c,this.H=y||{},A&&V!==void 0&&(this.H.OSID=A,this.H.OAID=V),this.F=this.X,this.I=d(this,null,this.W),Ro(this)};function Vi(c){if($s(c),c.G==3){var y=c.U++,A=Tr(c.I);if(jt(A,"SID",c.K),jt(A,"RID",y),jt(A,"TYPE","terminate"),ps(c,A),y=new wn(c,c.j,y),y.L=2,y.v=Us(Tr(A)),A=!1,a.navigator&&a.navigator.sendBeacon)try{A=a.navigator.sendBeacon(y.v.toString(),"")}catch{}!A&&a.Image&&(new Image().src=y.v,A=!0),A||(y.g=x(y.j,null),y.g.ea(y.v)),y.F=Date.now(),bo(y)}Vo(c)}function Lo(c){c.g&&(Fo(c),c.g.cancel(),c.g=null)}function $s(c){Lo(c),c.u&&(a.clearTimeout(c.u),c.u=null),ji(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Ro(c){if(!$l(c.h)&&!c.s){c.s=!0;var y=c.Ga;ye||ce(),Y||(ye(),Y=!0),le.add(y,c),c.B=0}}function nl(c,y){return js(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=ar(_(c.Ga,c,y),Mo(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const ie=new wn(this,this.j,c);let de=this.o;if(this.S&&(de?(de=E(de),B(de,this.S)):de=this.S),this.m!==null||this.O||(ie.H=de,de=null),this.P)e:{for(var y=0,A=0;A<this.i.length;A++){t:{var V=this.i[A];if("__data__"in V.map&&(V=V.map.__data__,typeof V=="string")){V=V.length;break t}V=void 0}if(V===void 0)break;if(y+=V,4096<y){y=A;break e}if(y===4096||A===this.i.length-1){y=A+1;break e}}y=1e3}else y=1e3;y=Hs(this,ie,y),A=Tr(this.I),jt(A,"RID",c),jt(A,"CVER",22),this.D&&jt(A,"X-HTTP-Session-Id",this.D),ps(this,A),de&&(this.O?y="headers="+encodeURIComponent(String(Mi(de)))+"&"+y:this.m&&Ja(A,this.m,de)),en(this.h,ie),this.Ua&&jt(A,"TYPE","init"),this.P?(jt(A,"$req",y),jt(A,"SID","null"),ie.T=!0,ls(ie,A,null)):ls(ie,A,y),this.G=2}}else this.G==3&&(c?Oo(this,c):this.i.length==0||$l(this.h)||Oo(this))};function Oo(c,y){var A;y?A=y.l:A=c.U++;const V=Tr(c.I);jt(V,"SID",c.K),jt(V,"RID",A),jt(V,"AID",c.T),ps(c,V),c.m&&c.o&&Ja(V,c.m,c.o),A=new wn(c,c.j,A,c.B+1),c.m===null&&(A.H=c.o),y&&(c.i=y.D.concat(c.i)),y=Hs(c,A,1e3),A.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),en(c.h,A),ls(A,V,y)}function ps(c,y){c.H&&ae(c.H,function(A,V){jt(y,V,A)}),c.l&&Wl({},function(A,V){jt(y,V,A)})}function Hs(c,y,A){A=Math.min(c.i.length,A);var V=c.l?_(c.l.Na,c.l,c):null;e:{var ie=c.i;let de=-1;for(;;){const Ne=["count="+A];de==-1?0<A?(de=ie[0].g,Ne.push("ofs="+de)):de=0:Ne.push("ofs="+de);let pt=!0;for(let Et=0;Et<A;Et++){let mt=ie[Et].g;const Mt=ie[Et].map;if(mt-=de,0>mt)de=Math.max(0,ie[Et].g-100),pt=!1;else try{Ya(Mt,Ne,"req"+mt+"_")}catch{V&&V(Mt)}}if(pt){V=Ne.join("&");break e}}}return c=c.i.splice(0,A),y.D=c,V}function Do(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;ye||ce(),Y||(ye(),Y=!0),le.add(y,c),c.v=0}}function Ws(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=ar(_(c.Fa,c),Mo(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,Xl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=ar(_(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,We(10),Lo(this),Xl(this))};function Fo(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function Xl(c){c.g=new wn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=Tr(c.qa);jt(y,"RID","rpc"),jt(y,"SID",c.K),jt(y,"AID",c.T),jt(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&jt(y,"TO",c.ja),jt(y,"TYPE","xmlhttp"),ps(c,y),c.m&&c.o&&Ja(y,c.m,c.o),c.L&&(c.g.I=c.L);var A=c.g;c=c.ia,A.L=1,A.v=Us(Tr(y)),A.m=null,A.P=!0,Fs(A,c)}t.Za=function(){this.C!=null&&(this.C=null,Lo(this),Ws(this),We(19))};function ji(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function ms(c,y){var A=null;if(c.g==y){ji(c),Fo(c),c.g=null;var V=2}else if($a(c.h,y))A=y.D,Ha(c.h,y),V=1;else return;if(c.G!=0){if(y.o)if(V==1){A=y.m?y.m.length:0,y=Date.now()-y.F;var ie=c.B;V=pi(),st(V,new Fr(V,A)),Ro(c)}else Do(c);else if(ie=y.s,ie==3||ie==0&&0<y.X||!(V==1&&nl(c,y)||V==2&&Ws(c)))switch(A&&0<A.length&&(y=c.h,y.i=y.i.concat(A)),ie){case 1:ur(c,5);break;case 4:ur(c,10);break;case 3:ur(c,6);break;default:ur(c,2)}}}function Mo(c,y){let A=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(A*=2),A*y}function ur(c,y){if(c.j.info("Error code "+y),y==2){var A=_(c.fb,c),V=c.Xa;const ie=!V;V=new mn(V||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Bs(V,"https"),Us(V),ie?mi(V.toString(),A):Ql(V.toString(),A)}else We(2);c.G=0,c.l&&c.l.sa(y),Vo(c),$s(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),We(2)):(this.j.info("Failed to ping google.com"),We(1))};function Vo(c){if(c.G=0,c.ka=[],c.l){const y=Wa(c.h);(y.length!=0||c.i.length!=0)&&(U(c.ka,y),U(c.ka,c.i),c.h.i.length=0,P(c.i),c.i.length=0),c.l.ra()}}function d(c,y,A){var V=A instanceof mn?Tr(A):new mn(A);if(V.g!="")y&&(V.g=y+"."+V.g),So(V,V.s);else{var ie=a.location;V=ie.protocol,y=y?y+"."+ie.hostname:ie.hostname,ie=+ie.port;var de=new mn(null);V&&Bs(de,V),y&&(de.g=y),ie&&So(de,ie),A&&(de.l=A),V=de}return A=c.D,y=c.ya,A&&y&&jt(V,A,y),jt(V,"VER",c.la),ps(c,V),V}function x(c,y,A){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new Ft(new No({eb:A})):new Ft(c.pa),y.Ha(c.J),y}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function H(){}t=H.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function X(){}X.prototype.g=function(c,y){return new se(c,y)};function se(c,y){Xe.call(this),this.g=new Co(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!S(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!S(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new je(this)}C(se,Xe),se.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},se.prototype.close=function(){Vi(this.g)},se.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var A={};A.__data__=c,c=A}else this.u&&(A={},A.__data__=Ot(c),c=A);y.i.push(new Ac(y.Ya++,c)),y.G==3&&Ro(y)},se.prototype.N=function(){this.g.l=null,delete this.j,Vi(this.g),delete this.g,se.aa.N.call(this)};function we(c){Yr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const A in y){c=A;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}C(we,Yr);function Pe(){Qt.call(this),this.status=1}C(Pe,Qt);function je(c){this.g=c}C(je,H),je.prototype.ua=function(){st(this.g,"a")},je.prototype.ta=function(c){st(this.g,new we(c))},je.prototype.sa=function(c){st(this.g,new Pe)},je.prototype.ra=function(){st(this.g,"b")},X.prototype.createWebChannel=X.prototype.g,se.prototype.send=se.prototype.o,se.prototype.open=se.prototype.m,se.prototype.close=se.prototype.close,T3=function(){return new X},I3=function(){return pi()},S3=tt,A1={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},lr.NO_ERROR=0,lr.TIMEOUT=8,lr.HTTP_ERROR=6,Sd=lr,Mr.COMPLETE="complete",E3=Mr,Zt.EventType=Qn,Qn.OPEN="a",Qn.CLOSE="b",Qn.ERROR="c",Qn.MESSAGE="d",Xe.prototype.listen=Xe.prototype.K,th=Zt,Ft.prototype.listenOnce=Ft.prototype.L,Ft.prototype.getLastError=Ft.prototype.Ka,Ft.prototype.getLastErrorCode=Ft.prototype.Ba,Ft.prototype.getStatus=Ft.prototype.Z,Ft.prototype.getResponseJson=Ft.prototype.Oa,Ft.prototype.getResponseText=Ft.prototype.oa,Ft.prototype.send=Ft.prototype.ea,Ft.prototype.setWithCredentials=Ft.prototype.Ha,b3=Ft}).apply(typeof Zf<"u"?Zf:typeof self<"u"?self:typeof window<"u"?window:{});const Jv="@firebase/firestore",Xv="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}vr.UNAUTHENTICATED=new vr(null),vr.GOOGLE_CREDENTIALS=new vr("google-credentials-uid"),vr.FIRST_PARTY=new vr("first-party-uid"),vr.MOCK_USER=new vr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vc="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rl=new H2("@firebase/firestore");function mu(){return Rl.logLevel}function He(t,...e){if(Rl.logLevel<=It.DEBUG){const n=e.map(s0);Rl.debug(`Firestore (${vc}): ${t}`,...n)}}function vo(t,...e){if(Rl.logLevel<=It.ERROR){const n=e.map(s0);Rl.error(`Firestore (${vc}): ${t}`,...n)}}function Na(t,...e){if(Rl.logLevel<=It.WARN){const n=e.map(s0);Rl.warn(`Firestore (${vc}): ${t}`,...n)}}function s0(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lt(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,P3(t,r,n)}function P3(t,e,n){let r=`FIRESTORE (${vc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw vo(r),new Error(r)}function Vt(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||P3(e,i,r)}function vt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Je extends wo{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N3{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class DN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(vr.UNAUTHENTICATED))}shutdown(){}}class FN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class MN{constructor(e){this.t=e,this.currentUser=vr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Vt(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Al;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Al,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{He("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(He("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Al)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(He("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Vt(typeof r.accessToken=="string",31837,{l:r}),new N3(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Vt(e===null||typeof e=="string",2055,{h:e}),new vr(e)}}class VN{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=vr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class jN{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new VN(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(vr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Zv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class BN{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,oi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Vt(this.o===void 0,3512);const r=s=>{s.error!=null&&He("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,He("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{He("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):He("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Zv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Vt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Zv(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UN(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x3(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=UN(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function At(t,e){return t<e?-1:t>e?1:0}function b1(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return At(r,i);{const s=x3(),o=zN(s.encode(ey(t,n)),s.encode(ey(e,n)));return o!==0?o:At(r,i)}}n+=r>65535?2:1}return At(t.length,e.length)}function ey(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function zN(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return At(t[n],e[n]);return At(t.length,e.length)}function sc(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ty="__name__";class bs{constructor(e,n,r){n===void 0?n=0:n>e.length&&lt(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&lt(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return bs.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof bs?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=bs.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return At(e.length,n.length)}static compareSegments(e,n){const r=bs.isNumericId(e),i=bs.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?bs.extractNumericId(e).compare(bs.extractNumericId(n)):b1(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ea.fromString(e.substring(4,e.length-2))}}class rn extends bs{construct(e,n,r){return new rn(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Je(xe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new rn(n)}static emptyPath(){return new rn([])}}const qN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class nr extends bs{construct(e,n,r){return new nr(e,n,r)}static isValidIdentifier(e){return qN.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),nr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ty}static keyField(){return new nr([ty])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Je(xe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new Je(xe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Je(xe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new Je(xe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new nr(n)}static emptyPath(){return new nr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(e){this.path=e}static fromPath(e){return new et(rn.fromString(e))}static fromName(e){return new et(rn.fromString(e).popFirst(5))}static empty(){return new et(rn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&rn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return rn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new et(new rn(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k3(t,e,n){if(!n)throw new Je(xe.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function $N(t,e,n,r){if(e===!0&&r===!0)throw new Je(xe.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function ny(t){if(!et.isDocumentKey(t))throw new Je(xe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function ry(t){if(et.isDocumentKey(t))throw new Je(xe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function C3(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function a0(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":lt(12329,{type:typeof t})}function Sa(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Je(xe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=a0(t);throw new Je(xe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dn(t,e){const n={typeString:t};return e&&(n.value=e),n}function of(t,e){if(!C3(t))throw new Je(xe.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(i&&typeof o!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&o!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new Je(xe.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iy=-62135596800,sy=1e6;class sn{static now(){return sn.fromMillis(Date.now())}static fromDate(e){return sn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*sy);return new sn(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Je(xe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Je(xe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<iy)throw new Je(xe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Je(xe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/sy}_compareTo(e){return this.seconds===e.seconds?At(this.nanoseconds,e.nanoseconds):At(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:sn._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(of(e,sn._jsonSchema))return new sn(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-iy;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}sn._jsonSchemaVersion="firestore/timestamp/1.0",sn._jsonSchema={type:Dn("string",sn._jsonSchemaVersion),seconds:Dn("number"),nanoseconds:Dn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{static fromTimestamp(e){return new ft(e)}static min(){return new ft(new sn(0,0))}static max(){return new ft(new sn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uh=-1;function HN(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ft.fromTimestamp(r===1e9?new sn(n+1,0):new sn(n,r));return new xa(i,et.empty(),e)}function WN(t){return new xa(t.readTime,t.key,Uh)}class xa{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new xa(ft.min(),et.empty(),Uh)}static max(){return new xa(ft.max(),et.empty(),Uh)}}function GN(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=et.comparator(t.documentKey,e.documentKey),n!==0?n:At(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class QN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yc(t){if(t.code!==xe.FAILED_PRECONDITION||t.message!==KN)throw t;He("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&lt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Ie((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Ie?n:Ie.resolve(n)}catch(n){return Ie.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Ie.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Ie.reject(n)}static resolve(e){return new Ie((n,r)=>{n(e)})}static reject(e){return new Ie((n,r)=>{r(e)})}static waitFor(e){return new Ie((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=Ie.resolve(!1);for(const r of e)n=n.next(i=>i?Ie.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new Ie((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const h=l;n(e[h]).next(p=>{o[h]=p,++a,a===s&&r(o)},p=>i(p))}})}static doWhile(e,n){return new Ie((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function YN(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function _c(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wp{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this._e(r),this.ae=r=>n.writeSequenceNumber(r))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}Wp.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l0=-1;function Gp(t){return t==null}function fp(t){return t===0&&1/t==-1/0}function JN(t){return typeof t=="number"&&Number.isInteger(t)&&!fp(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L3="";function XN(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=oy(e)),e=ZN(t.get(n),e);return oy(e)}function ZN(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case L3:n+="";break;default:n+=s}}return n}function oy(t){return t+L3+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ay(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ml(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function R3(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e,n){this.comparator=e,this.root=n||tr.EMPTY}insert(e,n){return new fn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,tr.BLACK,null,null))}remove(e){return new fn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,tr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ed(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ed(this.root,e,this.comparator,!1)}getReverseIterator(){return new ed(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ed(this.root,e,this.comparator,!0)}}class ed{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class tr{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??tr.RED,this.left=i??tr.EMPTY,this.right=s??tr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new tr(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return tr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return tr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,tr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,tr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw lt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw lt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw lt(27949);return e+(this.isRed()?0:1)}}tr.EMPTY=null,tr.RED=!0,tr.BLACK=!1;tr.EMPTY=new class{constructor(){this.size=0}get key(){throw lt(57766)}get value(){throw lt(16141)}get color(){throw lt(16727)}get left(){throw lt(29726)}get right(){throw lt(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new tr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this.comparator=e,this.data=new fn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new ly(this.data.getIterator())}getIteratorFrom(e){return new ly(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof zn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new zn(this.comparator);return n.data=e,n}}class ly{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(e){this.fields=e,e.sort(nr.comparator)}static empty(){return new Ji([])}unionWith(e){let n=new zn(nr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Ji(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return sc(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O3 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new O3("Invalid base64 string: "+s):s}}(e);return new sr(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new sr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return At(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}sr.EMPTY_BYTE_STRING=new sr("");const ex=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ka(t){if(Vt(!!t,39018),typeof t=="string"){let e=0;const n=ex.exec(t);if(Vt(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:En(t.seconds),nanos:En(t.nanos)}}function En(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ca(t){return typeof t=="string"?sr.fromBase64String(t):sr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D3="server_timestamp",F3="__type__",M3="__previous_value__",V3="__local_write_time__";function u0(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[F3])===null||n===void 0?void 0:n.stringValue)===D3}function Kp(t){const e=t.mapValue.fields[M3];return u0(e)?Kp(e):e}function zh(t){const e=ka(t.mapValue.fields[V3].timestampValue);return new sn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx{constructor(e,n,r,i,s,o,a,l,h,p){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=h,this.isUsingEmulator=p}}const dp="(default)";class qh{constructor(e,n){this.projectId=e,this.database=n||dp}static empty(){return new qh("","")}get isDefaultDatabase(){return this.database===dp}isEqual(e){return e instanceof qh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j3="__type__",nx="__max__",td={mapValue:{}},B3="__vector__",pp="value";function La(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?u0(t)?4:ix(t)?9007199254740991:rx(t)?10:11:lt(28295,{value:t})}function Rs(t,e){if(t===e)return!0;const n=La(t);if(n!==La(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return zh(t).isEqual(zh(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=ka(i.timestampValue),a=ka(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Ca(i.bytesValue).isEqual(Ca(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return En(i.geoPointValue.latitude)===En(s.geoPointValue.latitude)&&En(i.geoPointValue.longitude)===En(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return En(i.integerValue)===En(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=En(i.doubleValue),a=En(s.doubleValue);return o===a?fp(o)===fp(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return sc(t.arrayValue.values||[],e.arrayValue.values||[],Rs);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(ay(o)!==ay(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Rs(o[l],a[l])))return!1;return!0}(t,e);default:return lt(52216,{left:t})}}function $h(t,e){return(t.values||[]).find(n=>Rs(n,e))!==void 0}function oc(t,e){if(t===e)return 0;const n=La(t),r=La(e);if(n!==r)return At(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return At(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=En(s.integerValue||s.doubleValue),l=En(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return uy(t.timestampValue,e.timestampValue);case 4:return uy(zh(t),zh(e));case 5:return b1(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Ca(s),l=Ca(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let h=0;h<a.length&&h<l.length;h++){const p=At(a[h],l[h]);if(p!==0)return p}return At(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=At(En(s.latitude),En(o.latitude));return a!==0?a:At(En(s.longitude),En(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return cy(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,h,p;const g=s.fields||{},_=o.fields||{},v=(a=g[pp])===null||a===void 0?void 0:a.arrayValue,C=(l=_[pp])===null||l===void 0?void 0:l.arrayValue,P=At(((h=v==null?void 0:v.values)===null||h===void 0?void 0:h.length)||0,((p=C==null?void 0:C.values)===null||p===void 0?void 0:p.length)||0);return P!==0?P:cy(v,C)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===td.mapValue&&o===td.mapValue)return 0;if(s===td.mapValue)return 1;if(o===td.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),h=o.fields||{},p=Object.keys(h);l.sort(),p.sort();for(let g=0;g<l.length&&g<p.length;++g){const _=b1(l[g],p[g]);if(_!==0)return _;const v=oc(a[l[g]],h[p[g]]);if(v!==0)return v}return At(l.length,p.length)}(t.mapValue,e.mapValue);default:throw lt(23264,{le:n})}}function uy(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return At(t,e);const n=ka(t),r=ka(e),i=At(n.seconds,r.seconds);return i!==0?i:At(n.nanos,r.nanos)}function cy(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=oc(n[i],r[i]);if(s)return s}return At(n.length,r.length)}function ac(t){return E1(t)}function E1(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ka(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ca(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return et.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=E1(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${E1(n.fields[o])}`;return i+"}"}(t.mapValue):lt(61005,{value:t})}function Id(t){switch(La(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Kp(t);return e?16+Id(e):16;case 5:return 2*t.stringValue.length;case 6:return Ca(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+Id(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Ml(r.fields,(s,o)=>{i+=s.length+Id(o)}),i}(t.mapValue);default:throw lt(13486,{value:t})}}function S1(t){return!!t&&"integerValue"in t}function c0(t){return!!t&&"arrayValue"in t}function hy(t){return!!t&&"nullValue"in t}function fy(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Td(t){return!!t&&"mapValue"in t}function rx(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[j3])===null||n===void 0?void 0:n.stringValue)===B3}function gh(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ml(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=gh(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=gh(t.arrayValue.values[n]);return e}return Object.assign({},t)}function ix(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===nx}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii{constructor(e){this.value=e}static empty(){return new Ii({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Td(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=gh(n)}setAll(e){let n=nr.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=gh(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Td(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Rs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Td(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ml(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Ii(gh(this.value))}}function U3(t){const e=[];return Ml(t.fields,(n,r)=>{const i=new nr([n]);if(Td(r)){const s=U3(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Ji(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new _r(e,0,ft.min(),ft.min(),ft.min(),Ii.empty(),0)}static newFoundDocument(e,n,r,i){return new _r(e,1,n,ft.min(),r,i,0)}static newNoDocument(e,n){return new _r(e,2,n,ft.min(),ft.min(),Ii.empty(),0)}static newUnknownDocument(e,n){return new _r(e,3,n,ft.min(),ft.min(),Ii.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ft.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ii.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ii.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ft.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof _r&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new _r(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mp{constructor(e,n){this.position=e,this.inclusive=n}}function dy(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=et.comparator(et.fromName(o.referenceValue),n.key):r=oc(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function py(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Rs(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gp{constructor(e,n="asc"){this.field=e,this.dir=n}}function sx(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z3{}class jn extends z3{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new ax(e,n,r):n==="array-contains"?new cx(e,r):n==="in"?new hx(e,r):n==="not-in"?new fx(e,r):n==="array-contains-any"?new dx(e,r):new jn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new lx(e,r):new ux(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(oc(n,this.value)):n!==null&&La(this.value)===La(n)&&this.matchesComparison(oc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return lt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Os extends z3{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new Os(e,n)}matches(e){return q3(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function q3(t){return t.op==="and"}function $3(t){return ox(t)&&q3(t)}function ox(t){for(const e of t.filters)if(e instanceof Os)return!1;return!0}function I1(t){if(t instanceof jn)return t.field.canonicalString()+t.op.toString()+ac(t.value);if($3(t))return t.filters.map(e=>I1(e)).join(",");{const e=t.filters.map(n=>I1(n)).join(",");return`${t.op}(${e})`}}function H3(t,e){return t instanceof jn?function(r,i){return i instanceof jn&&r.op===i.op&&r.field.isEqual(i.field)&&Rs(r.value,i.value)}(t,e):t instanceof Os?function(r,i){return i instanceof Os&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&H3(o,i.filters[a]),!0):!1}(t,e):void lt(19439)}function W3(t){return t instanceof jn?function(n){return`${n.field.canonicalString()} ${n.op} ${ac(n.value)}`}(t):t instanceof Os?function(n){return n.op.toString()+" {"+n.getFilters().map(W3).join(" ,")+"}"}(t):"Filter"}class ax extends jn{constructor(e,n,r){super(e,n,r),this.key=et.fromName(r.referenceValue)}matches(e){const n=et.comparator(e.key,this.key);return this.matchesComparison(n)}}class lx extends jn{constructor(e,n){super(e,"in",n),this.keys=G3("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class ux extends jn{constructor(e,n){super(e,"not-in",n),this.keys=G3("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function G3(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>et.fromName(r.referenceValue))}class cx extends jn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return c0(n)&&$h(n.arrayValue,this.value)}}class hx extends jn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&$h(this.value.arrayValue,n)}}class fx extends jn{constructor(e,n){super(e,"not-in",n)}matches(e){if($h(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!$h(this.value.arrayValue,n)}}class dx extends jn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!c0(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>$h(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.Pe=null}}function my(t,e=null,n=[],r=[],i=null,s=null,o=null){return new px(t,e,n,r,i,s,o)}function h0(t){const e=vt(t);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>I1(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Gp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ac(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ac(r)).join(",")),e.Pe=n}return e.Pe}function f0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!sx(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!H3(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!py(t.startAt,e.startAt)&&py(t.endAt,e.endAt)}function T1(t){return et.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function mx(t,e,n,r,i,s,o,a){return new Qp(t,e,n,r,i,s,o,a)}function d0(t){return new Qp(t)}function gy(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function gx(t){return t.collectionGroup!==null}function vh(t){const e=vt(t);if(e.Te===null){e.Te=[];const n=new Set;for(const s of e.explicitOrderBy)e.Te.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new zn(nr.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(h=>{h.isInequality()&&(a=a.add(h.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.Te.push(new gp(s,r))}),n.has(nr.keyField().canonicalString())||e.Te.push(new gp(nr.keyField(),r))}return e.Te}function Ns(t){const e=vt(t);return e.Ie||(e.Ie=vx(e,vh(t))),e.Ie}function vx(t,e){if(t.limitType==="F")return my(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new gp(i.field,s)});const n=t.endAt?new mp(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new mp(t.startAt.position,t.startAt.inclusive):null;return my(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function P1(t,e,n){return new Qp(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Yp(t,e){return f0(Ns(t),Ns(e))&&t.limitType===e.limitType}function K3(t){return`${h0(Ns(t))}|lt:${t.limitType}`}function gu(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>W3(i)).join(", ")}]`),Gp(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>ac(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>ac(i)).join(",")),`Target(${r})`}(Ns(t))}; limitType=${t.limitType})`}function Jp(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):et.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of vh(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const h=dy(o,a,l);return o.inclusive?h<=0:h<0}(r.startAt,vh(r),i)||r.endAt&&!function(o,a,l){const h=dy(o,a,l);return o.inclusive?h>=0:h>0}(r.endAt,vh(r),i))}(t,e)}function yx(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Q3(t){return(e,n)=>{let r=!1;for(const i of vh(t)){const s=_x(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function _x(t,e,n){const r=t.field.isKeyField()?et.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),h=a.data.field(s);return l!==null&&h!==null?oc(l,h):lt(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return lt(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ml(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return R3(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wx=new fn(et.comparator);function yo(){return wx}const Y3=new fn(et.comparator);function nh(...t){let e=Y3;for(const n of t)e=e.insert(n.key,n);return e}function J3(t){let e=Y3;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function yl(){return yh()}function X3(){return yh()}function yh(){return new Vl(t=>t.toString(),(t,e)=>t.isEqual(e))}const Ax=new fn(et.comparator),bx=new zn(et.comparator);function Tt(...t){let e=bx;for(const n of t)e=e.add(n);return e}const Ex=new zn(At);function Sx(){return Ex}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p0(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:fp(e)?"-0":e}}function Z3(t){return{integerValue:""+t}}function Ix(t,e){return JN(e)?Z3(e):p0(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{constructor(){this._=void 0}}function Tx(t,e,n){return t instanceof vp?function(i,s){const o={fields:{[F3]:{stringValue:D3},[V3]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&u0(s)&&(s=Kp(s)),s&&(o.fields[M3]=s),{mapValue:o}}(n,e):t instanceof Hh?tA(t,e):t instanceof Wh?nA(t,e):function(i,s){const o=eA(i,s),a=vy(o)+vy(i.Ee);return S1(o)&&S1(i.Ee)?Z3(a):p0(i.serializer,a)}(t,e)}function Px(t,e,n){return t instanceof Hh?tA(t,e):t instanceof Wh?nA(t,e):n}function eA(t,e){return t instanceof yp?function(r){return S1(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class vp extends Xp{}class Hh extends Xp{constructor(e){super(),this.elements=e}}function tA(t,e){const n=rA(e);for(const r of t.elements)n.some(i=>Rs(i,r))||n.push(r);return{arrayValue:{values:n}}}class Wh extends Xp{constructor(e){super(),this.elements=e}}function nA(t,e){let n=rA(e);for(const r of t.elements)n=n.filter(i=>!Rs(i,r));return{arrayValue:{values:n}}}class yp extends Xp{constructor(e,n){super(),this.serializer=e,this.Ee=n}}function vy(t){return En(t.integerValue||t.doubleValue)}function rA(t){return c0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Nx(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Hh&&i instanceof Hh||r instanceof Wh&&i instanceof Wh?sc(r.elements,i.elements,Rs):r instanceof yp&&i instanceof yp?Rs(r.Ee,i.Ee):r instanceof vp&&i instanceof vp}(t.transform,e.transform)}class xx{constructor(e,n){this.version=e,this.transformResults=n}}class ts{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ts}static exists(e){return new ts(void 0,e)}static updateTime(e){return new ts(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Pd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Zp{}function iA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new m0(t.key,ts.none()):new af(t.key,t.data,ts.none());{const n=t.data,r=Ii.empty();let i=new zn(nr.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new jl(t.key,r,new Ji(i.toArray()),ts.none())}}function kx(t,e,n){t instanceof af?function(i,s,o){const a=i.value.clone(),l=_y(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof jl?function(i,s,o){if(!Pd(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=_y(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(sA(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function _h(t,e,n,r){return t instanceof af?function(s,o,a,l){if(!Pd(s.precondition,o))return a;const h=s.value.clone(),p=wy(s.fieldTransforms,l,o);return h.setAll(p),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),null}(t,e,n,r):t instanceof jl?function(s,o,a,l){if(!Pd(s.precondition,o))return a;const h=wy(s.fieldTransforms,l,o),p=o.data;return p.setAll(sA(s)),p.setAll(h),o.convertToFoundDocument(o.version,p).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(g=>g.field))}(t,e,n,r):function(s,o,a){return Pd(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function Cx(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=eA(r.transform,i||null);s!=null&&(n===null&&(n=Ii.empty()),n.set(r.field,s))}return n||null}function yy(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&sc(r,i,(s,o)=>Nx(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class af extends Zp{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class jl extends Zp{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function sA(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function _y(t,e,n){const r=new Map;Vt(t.length===n.length,32656,{Ae:n.length,Re:t.length});for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,Px(o,a,n[i]))}return r}function wy(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,Tx(s,o,e))}return r}class m0 extends Zp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Lx extends Zp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&kx(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=_h(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=_h(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=X3();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=iA(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(ft.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Tt())}isEqual(e){return this.batchId===e.batchId&&sc(this.mutations,e.mutations,(n,r)=>yy(n,r))&&sc(this.baseMutations,e.baseMutations,(n,r)=>yy(n,r))}}class g0{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Vt(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let i=function(){return Ax}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new g0(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ox{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dx{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rn,xt;function Fx(t){switch(t){case xe.OK:return lt(64938);case xe.CANCELLED:case xe.UNKNOWN:case xe.DEADLINE_EXCEEDED:case xe.RESOURCE_EXHAUSTED:case xe.INTERNAL:case xe.UNAVAILABLE:case xe.UNAUTHENTICATED:return!1;case xe.INVALID_ARGUMENT:case xe.NOT_FOUND:case xe.ALREADY_EXISTS:case xe.PERMISSION_DENIED:case xe.FAILED_PRECONDITION:case xe.ABORTED:case xe.OUT_OF_RANGE:case xe.UNIMPLEMENTED:case xe.DATA_LOSS:return!0;default:return lt(15467,{code:t})}}function oA(t){if(t===void 0)return vo("GRPC error has no .code"),xe.UNKNOWN;switch(t){case Rn.OK:return xe.OK;case Rn.CANCELLED:return xe.CANCELLED;case Rn.UNKNOWN:return xe.UNKNOWN;case Rn.DEADLINE_EXCEEDED:return xe.DEADLINE_EXCEEDED;case Rn.RESOURCE_EXHAUSTED:return xe.RESOURCE_EXHAUSTED;case Rn.INTERNAL:return xe.INTERNAL;case Rn.UNAVAILABLE:return xe.UNAVAILABLE;case Rn.UNAUTHENTICATED:return xe.UNAUTHENTICATED;case Rn.INVALID_ARGUMENT:return xe.INVALID_ARGUMENT;case Rn.NOT_FOUND:return xe.NOT_FOUND;case Rn.ALREADY_EXISTS:return xe.ALREADY_EXISTS;case Rn.PERMISSION_DENIED:return xe.PERMISSION_DENIED;case Rn.FAILED_PRECONDITION:return xe.FAILED_PRECONDITION;case Rn.ABORTED:return xe.ABORTED;case Rn.OUT_OF_RANGE:return xe.OUT_OF_RANGE;case Rn.UNIMPLEMENTED:return xe.UNIMPLEMENTED;case Rn.DATA_LOSS:return xe.DATA_LOSS;default:return lt(39323,{code:t})}}(xt=Rn||(Rn={}))[xt.OK=0]="OK",xt[xt.CANCELLED=1]="CANCELLED",xt[xt.UNKNOWN=2]="UNKNOWN",xt[xt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xt[xt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xt[xt.NOT_FOUND=5]="NOT_FOUND",xt[xt.ALREADY_EXISTS=6]="ALREADY_EXISTS",xt[xt.PERMISSION_DENIED=7]="PERMISSION_DENIED",xt[xt.UNAUTHENTICATED=16]="UNAUTHENTICATED",xt[xt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xt[xt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xt[xt.ABORTED=10]="ABORTED",xt[xt.OUT_OF_RANGE=11]="OUT_OF_RANGE",xt[xt.UNIMPLEMENTED=12]="UNIMPLEMENTED",xt[xt.INTERNAL=13]="INTERNAL",xt[xt.UNAVAILABLE=14]="UNAVAILABLE",xt[xt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mx=new Ea([4294967295,4294967295],0);function Ay(t){const e=x3().encode(t),n=new A3;return n.update(e),new Uint8Array(n.digest())}function by(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Ea([n,r],0),new Ea([i,s],0)]}class v0{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new rh(`Invalid padding: ${n}`);if(r<0)throw new rh(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new rh(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new rh(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*e.length-n,this.ge=Ea.fromNumber(this.fe)}pe(e,n,r){let i=e.add(n.multiply(Ea.fromNumber(r)));return i.compare(Mx)===1&&(i=new Ea([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const n=Ay(e),[r,i]=by(n);for(let s=0;s<this.hashCount;s++){const o=this.pe(r,i,s);if(!this.ye(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new v0(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.fe===0)return;const n=Ay(e),[r,i]=by(n);for(let s=0;s<this.hashCount;s++){const o=this.pe(r,i,s);this.we(o)}}we(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class rh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class em{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,lf.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new em(ft.min(),i,new fn(At),yo(),Tt())}}class lf{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new lf(r,n,Tt(),Tt(),Tt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd{constructor(e,n,r,i){this.Se=e,this.removedTargetIds=n,this.key=r,this.be=i}}class aA{constructor(e,n){this.targetId=e,this.De=n}}class lA{constructor(e,n,r=sr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Ey{constructor(){this.ve=0,this.Ce=Sy(),this.Fe=sr.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=Tt(),n=Tt(),r=Tt();return this.Ce.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:lt(38017,{changeType:s})}}),new lf(this.Fe,this.Me,e,n,r)}ke(){this.xe=!1,this.Ce=Sy()}qe(e,n){this.xe=!0,this.Ce=this.Ce.insert(e,n)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,Vt(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class Vx{constructor(e){this.We=e,this.Ge=new Map,this.ze=yo(),this.je=nd(),this.Je=nd(),this.He=new fn(At)}Ye(e){for(const n of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(n,e.be):this.Xe(n,e.key,e.be);for(const n of e.removedTargetIds)this.Xe(n,e.key,e.be)}et(e){this.forEachTarget(e,n=>{const r=this.tt(n);switch(e.state){case 0:this.nt(n)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),r.Be(e.resumeToken));break;default:lt(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ge.forEach((r,i)=>{this.nt(i)&&n(i)})}it(e){const n=e.targetId,r=e.De.count,i=this.st(n);if(i){const s=i.target;if(T1(s))if(r===0){const o=new et(s.path);this.Xe(n,o,_r.newNoDocument(o,ft.min()))}else Vt(r===1,20013,{expectedCount:r});else{const o=this.ot(n);if(o!==r){const a=this._t(e),l=a?this.ut(a,e,o):1;if(l!==0){this.rt(n);const h=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,h)}}}}}_t(e){const n=e.De.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Ca(r).toUint8Array()}catch(l){if(l instanceof O3)return Na("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new v0(o,i,s)}catch(l){return Na(l instanceof rh?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.fe===0?null:a}ut(e,n,r){return n.De.count===r-this.ht(e,n.targetId)?0:2}ht(e,n){const r=this.We.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.We.lt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Xe(n,s,null),i++)}),i}Pt(e){const n=new Map;this.Ge.forEach((s,o)=>{const a=this.st(o);if(a){if(s.current&&T1(a.target)){const l=new et(a.target.path);this.Tt(l).has(o)||this.It(o,l)||this.Xe(o,l,_r.newNoDocument(l,e))}s.Ne&&(n.set(o,s.Le()),s.ke())}});let r=Tt();this.Je.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const h=this.st(l);return!h||h.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ze.forEach((s,o)=>o.setReadTime(e));const i=new em(e,n,this.He,this.ze,r);return this.ze=yo(),this.je=nd(),this.Je=nd(),this.He=new fn(At),i}Ze(e,n){if(!this.nt(e))return;const r=this.It(e,n.key)?2:0;this.tt(e).qe(n.key,r),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(e)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(e))}Xe(e,n,r){if(!this.nt(e))return;const i=this.tt(e);this.It(e,n)?i.qe(n,1):i.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(e)),this.Je=this.Je.insert(n,this.dt(n).add(e)),r&&(this.ze=this.ze.insert(n,r))}removeTarget(e){this.Ge.delete(e)}ot(e){const n=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let n=this.Ge.get(e);return n||(n=new Ey,this.Ge.set(e,n)),n}dt(e){let n=this.Je.get(e);return n||(n=new zn(At),this.Je=this.Je.insert(e,n)),n}Tt(e){let n=this.je.get(e);return n||(n=new zn(At),this.je=this.je.insert(e,n)),n}nt(e){const n=this.st(e)!==null;return n||He("WatchChangeAggregator","Detected inactive target",e),n}st(e){const n=this.Ge.get(e);return n&&n.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new Ey),this.We.getRemoteKeysForTarget(e).forEach(n=>{this.Xe(e,n,null)})}It(e,n){return this.We.getRemoteKeysForTarget(e).has(n)}}function nd(){return new fn(et.comparator)}function Sy(){return new fn(et.comparator)}const jx={asc:"ASCENDING",desc:"DESCENDING"},Bx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ux={and:"AND",or:"OR"};class zx{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function N1(t,e){return t.useProto3Json||Gp(e)?e:{value:e}}function _p(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function uA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function qx(t,e){return _p(t,e.toTimestamp())}function xs(t){return Vt(!!t,49232),ft.fromTimestamp(function(n){const r=ka(n);return new sn(r.seconds,r.nanos)}(t))}function y0(t,e){return x1(t,e).canonicalString()}function x1(t,e){const n=function(i){return new rn(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function cA(t){const e=rn.fromString(t);return Vt(mA(e),10190,{key:e.toString()}),e}function k1(t,e){return y0(t.databaseId,e.path)}function og(t,e){const n=cA(e);if(n.get(1)!==t.databaseId.projectId)throw new Je(xe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Je(xe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new et(fA(n))}function hA(t,e){return y0(t.databaseId,e)}function $x(t){const e=cA(t);return e.length===4?rn.emptyPath():fA(e)}function C1(t){return new rn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function fA(t){return Vt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Iy(t,e,n){return{name:k1(t,e),fields:n.value.mapValue.fields}}function Hx(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:lt(39313,{state:h})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(h,p){return h.useProto3Json?(Vt(p===void 0||typeof p=="string",58123),sr.fromBase64String(p||"")):(Vt(p===void 0||p instanceof Buffer||p instanceof Uint8Array,16193),sr.fromUint8Array(p||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(h){const p=h.code===void 0?xe.UNKNOWN:oA(h.code);return new Je(p,h.message||"")}(o);n=new lA(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=og(t,r.document.name),s=xs(r.document.updateTime),o=r.document.createTime?xs(r.document.createTime):ft.min(),a=new Ii({mapValue:{fields:r.document.fields}}),l=_r.newFoundDocument(i,s,o,a),h=r.targetIds||[],p=r.removedTargetIds||[];n=new Nd(h,p,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=og(t,r.document),s=r.readTime?xs(r.readTime):ft.min(),o=_r.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Nd([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=og(t,r.document),s=r.removedTargetIds||[];n=new Nd([],s,i,null)}else{if(!("filter"in e))return lt(11601,{At:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new Dx(i,s),a=r.targetId;n=new aA(a,o)}}return n}function Wx(t,e){let n;if(e instanceof af)n={update:Iy(t,e.key,e.value)};else if(e instanceof m0)n={delete:k1(t,e.key)};else if(e instanceof jl)n={update:Iy(t,e.key,e.data),updateMask:tk(e.fieldMask)};else{if(!(e instanceof Lx))return lt(16599,{Rt:e.type});n={verify:k1(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof vp)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Hh)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Wh)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof yp)return{fieldPath:o.field.canonicalString(),increment:a.Ee};throw lt(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:qx(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:lt(27497)}(t,e.precondition)),n}function Gx(t,e){return t&&t.length>0?(Vt(e!==void 0,14353),t.map(n=>function(i,s){let o=i.updateTime?xs(i.updateTime):xs(s);return o.isEqual(ft.min())&&(o=xs(s)),new xx(o,i.transformResults||[])}(n,e))):[]}function Kx(t,e){return{documents:[hA(t,e.path)]}}function Qx(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=hA(t,i);const s=function(h){if(h.length!==0)return pA(Os.create(h,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(h){if(h.length!==0)return h.map(p=>function(_){return{field:vu(_.field),direction:Xx(_.dir)}}(p))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=N1(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{Vt:n,parent:i}}function Yx(t){let e=$x(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Vt(r===1,65062);const p=n.from[0];p.allDescendants?i=p.collectionId:e=e.child(p.collectionId)}let s=[];n.where&&(s=function(g){const _=dA(g);return _ instanceof Os&&$3(_)?_.getFilters():[_]}(n.where));let o=[];n.orderBy&&(o=function(g){return g.map(_=>function(C){return new gp(yu(C.field),function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(_))}(n.orderBy));let a=null;n.limit&&(a=function(g){let _;return _=typeof g=="object"?g.value:g,Gp(_)?null:_}(n.limit));let l=null;n.startAt&&(l=function(g){const _=!!g.before,v=g.values||[];return new mp(v,_)}(n.startAt));let h=null;return n.endAt&&(h=function(g){const _=!g.before,v=g.values||[];return new mp(v,_)}(n.endAt)),mx(e,i,o,s,a,"F",l,h)}function Jx(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return lt(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function dA(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=yu(n.unaryFilter.field);return jn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=yu(n.unaryFilter.field);return jn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=yu(n.unaryFilter.field);return jn.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=yu(n.unaryFilter.field);return jn.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return lt(61313);default:return lt(60726)}}(t):t.fieldFilter!==void 0?function(n){return jn.create(yu(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return lt(58110);default:return lt(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Os.create(n.compositeFilter.filters.map(r=>dA(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return lt(1026)}}(n.compositeFilter.op))}(t):lt(30097,{filter:t})}function Xx(t){return jx[t]}function Zx(t){return Bx[t]}function ek(t){return Ux[t]}function vu(t){return{fieldPath:t.canonicalString()}}function yu(t){return nr.fromServerFormat(t.fieldPath)}function pA(t){return t instanceof jn?function(n){if(n.op==="=="){if(fy(n.value))return{unaryFilter:{field:vu(n.field),op:"IS_NAN"}};if(hy(n.value))return{unaryFilter:{field:vu(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(fy(n.value))return{unaryFilter:{field:vu(n.field),op:"IS_NOT_NAN"}};if(hy(n.value))return{unaryFilter:{field:vu(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:vu(n.field),op:Zx(n.op),value:n.value}}}(t):t instanceof Os?function(n){const r=n.getFilters().map(i=>pA(i));return r.length===1?r[0]:{compositeFilter:{op:ek(n.op),filters:r}}}(t):lt(54877,{filter:t})}function tk(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function mA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(e,n,r,i,s=ft.min(),o=ft.min(),a=sr.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new ua(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ua(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ua(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ua(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nk{constructor(e){this.gt=e}}function rk(t){const e=Yx({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?P1(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ik{constructor(){this.Dn=new sk}addToCollectionParentIndex(e,n){return this.Dn.add(n),Ie.resolve()}getCollectionParents(e,n){return Ie.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return Ie.resolve()}deleteFieldIndex(e,n){return Ie.resolve()}deleteAllFieldIndexes(e){return Ie.resolve()}createTargetIndexes(e,n){return Ie.resolve()}getDocumentsMatchingTarget(e,n){return Ie.resolve(null)}getIndexType(e,n){return Ie.resolve(0)}getFieldIndexes(e,n){return Ie.resolve([])}getNextCollectionGroupToUpdate(e){return Ie.resolve(null)}getMinOffset(e,n){return Ie.resolve(xa.min())}getMinOffsetFromCollectionGroup(e,n){return Ie.resolve(xa.min())}updateCollectionGroup(e,n,r){return Ie.resolve()}updateIndexEntries(e,n){return Ie.resolve()}}class sk{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new zn(rn.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new zn(rn.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ty={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},gA=41943040;class qr{static withCacheSize(e){return new qr(e,qr.DEFAULT_COLLECTION_PERCENTILE,qr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */qr.DEFAULT_COLLECTION_PERCENTILE=10,qr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,qr.DEFAULT=new qr(gA,qr.DEFAULT_COLLECTION_PERCENTILE,qr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),qr.DISABLED=new qr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new lc(0)}static ur(){return new lc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Py="LruGarbageCollector",ok=1048576;function Ny([t,e],[n,r]){const i=At(t,n);return i===0?At(e,r):i}class ak{constructor(e){this.Tr=e,this.buffer=new zn(Ny),this.Ir=0}dr(){return++this.Ir}Er(e){const n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Ny(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class lk{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){He(Py,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){_c(n)?He(Py,"Ignoring IndexedDB error during garbage collection: ",n):await yc(n)}await this.Rr(3e5)})}}class uk{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return Ie.resolve(Wp.ue);const r=new ak(n);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.gr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(He("LruGarbageCollector","Garbage collection skipped; disabled"),Ie.resolve(Ty)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(He("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ty):this.pr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let r,i,s,o,a,l,h;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(g=>(g>this.params.maximumSequenceNumbersToCollect?(He("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),i=this.params.maximumSequenceNumbersToCollect):i=g,o=Date.now(),this.nthSequenceNumber(e,i))).next(g=>(r=g,a=Date.now(),this.removeTargets(e,r,n))).next(g=>(s=g,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(g=>(h=Date.now(),mu()<=It.DEBUG&&He("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-p}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${g} documents in `+(h-l)+`ms
Total Duration: ${h-p}ms`),Ie.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:g})))}}function ck(t,e){return new uk(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hk{constructor(){this.changes=new Vl(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,_r.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Ie.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fk{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dk{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&_h(r.mutation,i,Ji.empty(),sn.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Tt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Tt()){const i=yl();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=nh();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=yl();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Tt()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=yo();const o=yh(),a=function(){return yh()}();return n.forEach((l,h)=>{const p=r.get(h.key);i.has(h.key)&&(p===void 0||p.mutation instanceof jl)?s=s.insert(h.key,h):p!==void 0?(o.set(h.key,p.mutation.getFieldMask()),_h(p.mutation,h,p.mutation.getFieldMask(),sn.now())):o.set(h.key,Ji.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((h,p)=>o.set(h,p)),n.forEach((h,p)=>{var g;return a.set(h,new fk(p,(g=o.get(h))!==null&&g!==void 0?g:null))}),a))}recalculateAndSaveOverlays(e,n){const r=yh();let i=new fn((o,a)=>o-a),s=Tt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const h=n.get(l);if(h===null)return;let p=r.get(l)||Ji.empty();p=a.applyToLocalView(h,p),r.set(l,p);const g=(i.get(a.batchId)||Tt()).add(l);i=i.insert(a.batchId,g)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),h=l.key,p=l.value,g=X3();p.forEach(_=>{if(!s.has(_)){const v=iA(n.get(_),r.get(_));v!==null&&g.set(_,v),s=s.add(_)}}),o.push(this.documentOverlayCache.saveOverlays(e,h,g))}return Ie.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return et.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):gx(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):Ie.resolve(yl());let a=Uh,l=s;return o.next(h=>Ie.forEach(h,(p,g)=>(a<g.largestBatchId&&(a=g.largestBatchId),s.get(p)?Ie.resolve():this.remoteDocumentCache.getEntry(e,p).next(_=>{l=l.insert(p,_)}))).next(()=>this.populateOverlays(e,h,s)).next(()=>this.computeViews(e,l,h,Tt())).next(p=>({batchId:a,changes:J3(p)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new et(n)).next(r=>{let i=nh();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=nh();return this.indexManager.getCollectionParents(e,s).next(a=>Ie.forEach(a,l=>{const h=function(g,_){return new Qp(_,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,h,r,i).next(p=>{p.forEach((g,_)=>{o=o.insert(g,_)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,h)=>{const p=h.getKey();o.get(p)===null&&(o=o.insert(p,_r.newInvalidDocument(p)))});let a=nh();return o.forEach((l,h)=>{const p=s.get(l);p!==void 0&&_h(p.mutation,h,Ji.empty(),sn.now()),Jp(n,h)&&(a=a.insert(l,h))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pk{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return Ie.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,function(i){return{id:i.id,version:i.version,createTime:xs(i.createTime)}}(n)),Ie.resolve()}getNamedQuery(e,n){return Ie.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,function(i){return{name:i.name,query:rk(i.bundledQuery),readTime:xs(i.readTime)}}(n)),Ie.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mk{constructor(){this.overlays=new fn(et.comparator),this.kr=new Map}getOverlay(e,n){return Ie.resolve(this.overlays.get(n))}getOverlays(e,n){const r=yl();return Ie.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.wt(e,n,s)}),Ie.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.kr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.kr.delete(r)),Ie.resolve()}getOverlaysForCollection(e,n,r){const i=yl(),s=n.length+1,o=new et(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,h=l.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return Ie.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new fn((h,p)=>h-p);const o=this.overlays.getIterator();for(;o.hasNext();){const h=o.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let p=s.get(h.largestBatchId);p===null&&(p=yl(),s=s.insert(h.largestBatchId,p)),p.set(h.getKey(),h)}}const a=yl(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((h,p)=>a.set(h,p)),!(a.size()>=i)););return Ie.resolve(a)}wt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Ox(n,r));let s=this.kr.get(n);s===void 0&&(s=Tt(),this.kr.set(n,s)),this.kr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gk{constructor(){this.sessionToken=sr.EMPTY_BYTE_STRING}getSessionToken(e){return Ie.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Ie.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0{constructor(){this.qr=new zn(Hn.Qr),this.$r=new zn(Hn.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){const r=new Hn(e,n);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Wr(new Hn(e,n))}Gr(e,n){e.forEach(r=>this.removeReference(r,n))}zr(e){const n=new et(new rn([])),r=new Hn(n,e),i=new Hn(n,e+1),s=[];return this.$r.forEachInRange([r,i],o=>{this.Wr(o),s.push(o.key)}),s}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const n=new et(new rn([])),r=new Hn(n,e),i=new Hn(n,e+1);let s=Tt();return this.$r.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Hn(e,0),r=this.qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Hn{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return et.comparator(e.key,n.key)||At(e.Hr,n.Hr)}static Ur(e,n){return At(e.Hr,n.Hr)||et.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vk{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new zn(Hn.Qr)}checkEmpty(e){return Ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Rx(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Yr=this.Yr.add(new Hn(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Ie.resolve(o)}lookupMutationBatch(e,n){return Ie.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Xr(r),s=i<0?0:i;return Ie.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Ie.resolve(this.mutationQueue.length===0?l0:this.er-1)}getAllMutationBatches(e){return Ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Hn(n,0),i=new Hn(n,Number.POSITIVE_INFINITY),s=[];return this.Yr.forEachInRange([r,i],o=>{const a=this.Zr(o.Hr);s.push(a)}),Ie.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new zn(At);return n.forEach(i=>{const s=new Hn(i,0),o=new Hn(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([s,o],a=>{r=r.add(a.Hr)})}),Ie.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;et.isDocumentKey(s)||(s=s.child(""));const o=new Hn(new et(s),0);let a=new zn(At);return this.Yr.forEachWhile(l=>{const h=l.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(a=a.add(l.Hr)),!0)},o),Ie.resolve(this.ei(a))}ei(e){const n=[];return e.forEach(r=>{const i=this.Zr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Vt(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return Ie.forEach(n.mutations,i=>{const s=new Hn(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,n){const r=new Hn(n,0),i=this.Yr.firstAfterOrEqual(r);return Ie.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ie.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yk{constructor(e){this.ni=e,this.docs=function(){return new fn(et.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.ni(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Ie.resolve(r?r.document.mutableCopy():_r.newInvalidDocument(n))}getEntries(e,n){let r=yo();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():_r.newInvalidDocument(i))}),Ie.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=yo();const o=n.path,a=new et(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:h,value:{document:p}}=l.getNext();if(!o.isPrefixOf(h.path))break;h.path.length>o.length+1||GN(WN(p),r)<=0||(i.has(p.key)||Jp(n,p))&&(s=s.insert(p.key,p.mutableCopy()))}return Ie.resolve(s)}getAllFromCollectionGroup(e,n,r,i){lt(9500)}ri(e,n){return Ie.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new _k(this)}getSize(e){return Ie.resolve(this.size)}}class _k extends hk{constructor(e){super(),this.Or=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)}),Ie.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wk{constructor(e){this.persistence=e,this.ii=new Vl(n=>h0(n),f0),this.lastRemoteSnapshotVersion=ft.min(),this.highestTargetId=0,this.si=0,this.oi=new _0,this.targetCount=0,this._i=lc.ar()}forEachTarget(e,n){return this.ii.forEach((r,i)=>n(i)),Ie.resolve()}getLastRemoteSnapshotVersion(e){return Ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ie.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),Ie.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.si&&(this.si=n),Ie.resolve()}hr(e){this.ii.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this._i=new lc(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,Ie.resolve()}updateTargetData(e,n){return this.hr(n),Ie.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,Ie.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.ii.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.ii.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),Ie.waitFor(s).next(()=>i)}getTargetCount(e){return Ie.resolve(this.targetCount)}getTargetData(e,n){const r=this.ii.get(n)||null;return Ie.resolve(r)}addMatchingKeys(e,n,r){return this.oi.Kr(n,r),Ie.resolve()}removeMatchingKeys(e,n,r){this.oi.Gr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),Ie.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),Ie.resolve()}getMatchingKeysForTargetId(e,n){const r=this.oi.Jr(n);return Ie.resolve(r)}containsKey(e,n){return Ie.resolve(this.oi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA{constructor(e,n){this.ai={},this.overlays={},this.ui=new Wp(0),this.ci=!1,this.ci=!0,this.li=new gk,this.referenceDelegate=e(this),this.hi=new wk(this),this.indexManager=new ik,this.remoteDocumentCache=function(i){return new yk(i)}(r=>this.referenceDelegate.Pi(r)),this.serializer=new nk(n),this.Ti=new pk(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new mk,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ai[e.toKey()];return r||(r=new vk(n,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,r){He("MemoryPersistence","Starting transaction:",e);const i=new Ak(this.ui.next());return this.referenceDelegate.Ii(),r(i).next(s=>this.referenceDelegate.di(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ei(e,n){return Ie.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,n)))}}class Ak extends QN{constructor(e){super(),this.currentSequenceNumber=e}}class w0{constructor(e){this.persistence=e,this.Ai=new _0,this.Ri=null}static Vi(e){return new w0(e)}get mi(){if(this.Ri)return this.Ri;throw lt(60996)}addReference(e,n,r){return this.Ai.addReference(r,n),this.mi.delete(r.toString()),Ie.resolve()}removeReference(e,n,r){return this.Ai.removeReference(r,n),this.mi.add(r.toString()),Ie.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),Ie.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach(i=>this.mi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.mi.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ii(){this.Ri=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ie.forEach(this.mi,r=>{const i=et.fromPath(r);return this.fi(e,i).next(s=>{s||n.removeEntry(i,ft.min())})}).next(()=>(this.Ri=null,n.apply(e)))}updateLimboDocument(e,n){return this.fi(e,n).next(r=>{r?this.mi.delete(n.toString()):this.mi.add(n.toString())})}Pi(e){return 0}fi(e,n){return Ie.or([()=>Ie.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class wp{constructor(e,n){this.persistence=e,this.gi=new Vl(r=>XN(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=ck(this,n)}static Vi(e,n){return new wp(e,n)}Ii(){}di(e){return Ie.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){const n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}yr(e){let n=0;return this.gr(e,r=>{n++}).next(()=>n)}gr(e,n){return Ie.forEach(this.gi,(r,i)=>this.Sr(e,r,i).next(s=>s?Ie.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ri(e,o=>this.Sr(e,o,n).next(a=>{a||(r++,s.removeEntry(o,ft.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),Ie.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),Ie.resolve()}removeReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),Ie.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),Ie.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Id(e.data.value)),n}Sr(e,n,r){return Ie.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.gi.get(n);return Ie.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A0{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Is=r,this.ds=i}static Es(e,n){let r=Tt(),i=Tt();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new A0(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bk{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ek{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return ZI()?8:YN(Er())>0?6:4}()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ps(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ys(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new bk;return this.ws(e,n,o).next(a=>{if(s.result=a,this.Rs)return this.Ss(e,n,o,a.size)})}).next(()=>s.result)}Ss(e,n,r,i){return r.documentReadCount<this.Vs?(mu()<=It.DEBUG&&He("QueryEngine","SDK will not create cache indexes for query:",gu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Ie.resolve()):(mu()<=It.DEBUG&&He("QueryEngine","Query:",gu(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(mu()<=It.DEBUG&&He("QueryEngine","The SDK decides to create cache indexes for query:",gu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ns(n))):Ie.resolve())}ps(e,n){if(gy(n))return Ie.resolve(null);let r=Ns(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=P1(n,null,"F"),r=Ns(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Tt(...s);return this.gs.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const h=this.bs(n,a);return this.Ds(n,h,o,l.readTime)?this.ps(e,P1(n,null,"F")):this.vs(e,h,n,l)}))})))}ys(e,n,r,i){return gy(n)||i.isEqual(ft.min())?Ie.resolve(null):this.gs.getDocuments(e,r).next(s=>{const o=this.bs(n,s);return this.Ds(n,o,r,i)?Ie.resolve(null):(mu()<=It.DEBUG&&He("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),gu(n)),this.vs(e,o,n,HN(i,Uh)).next(a=>a))})}bs(e,n){let r=new zn(Q3(e));return n.forEach((i,s)=>{Jp(e,s)&&(r=r.add(s))}),r}Ds(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}ws(e,n,r){return mu()<=It.DEBUG&&He("QueryEngine","Using full collection scan to execute query:",gu(n)),this.gs.getDocumentsMatchingQuery(e,n,xa.min(),r)}vs(e,n,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b0="LocalStore",Sk=3e8;class Ik{constructor(e,n,r,i){this.persistence=e,this.Cs=n,this.serializer=i,this.Fs=new fn(At),this.Ms=new Vl(s=>h0(s),f0),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new dk(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Fs))}}function Tk(t,e,n,r){return new Ik(t,e,n,r)}async function yA(t,e){const n=vt(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Ns(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=Tt();for(const h of i){o.push(h.batchId);for(const p of h.mutations)l=l.add(p.key)}for(const h of s){a.push(h.batchId);for(const p of h.mutations)l=l.add(p.key)}return n.localDocuments.getDocuments(r,l).next(h=>({Bs:h,removedBatchIds:o,addedBatchIds:a}))})})}function Pk(t,e){const n=vt(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Os.newChangeBuffer({trackRemovals:!0});return function(a,l,h,p){const g=h.batch,_=g.keys();let v=Ie.resolve();return _.forEach(C=>{v=v.next(()=>p.getEntry(l,C)).next(P=>{const U=h.docVersions.get(C);Vt(U!==null,48541),P.version.compareTo(U)<0&&(g.applyToRemoteDocument(P,h),P.isValidDocument()&&(P.setReadTime(h.commitVersion),p.addEntry(P)))})}),v.next(()=>a.mutationQueue.removeMutationBatch(l,g))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Tt();for(let h=0;h<a.mutationResults.length;++h)a.mutationResults[h].transformResults.length>0&&(l=l.add(a.batch.mutations[h].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function _A(t){const e=vt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.hi.getLastRemoteSnapshotVersion(n))}function Nk(t,e){const n=vt(t),r=e.snapshotVersion;let i=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Os.newChangeBuffer({trackRemovals:!0});i=n.Fs;const a=[];e.targetChanges.forEach((p,g)=>{const _=i.get(g);if(!_)return;a.push(n.hi.removeMatchingKeys(s,p.removedDocuments,g).next(()=>n.hi.addMatchingKeys(s,p.addedDocuments,g)));let v=_.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(g)!==null?v=v.withResumeToken(sr.EMPTY_BYTE_STRING,ft.min()).withLastLimboFreeSnapshotVersion(ft.min()):p.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(p.resumeToken,r)),i=i.insert(g,v),function(P,U,b){return P.resumeToken.approximateByteSize()===0||U.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=Sk?!0:b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(_,v,p)&&a.push(n.hi.updateTargetData(s,v))});let l=yo(),h=Tt();if(e.documentUpdates.forEach(p=>{e.resolvedLimboDocuments.has(p)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,p))}),a.push(xk(s,o,e.documentUpdates).next(p=>{l=p.Ls,h=p.ks})),!r.isEqual(ft.min())){const p=n.hi.getLastRemoteSnapshotVersion(s).next(g=>n.hi.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(p)}return Ie.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,h)).next(()=>l)}).then(s=>(n.Fs=i,s))}function xk(t,e,n){let r=Tt(),i=Tt();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=yo();return n.forEach((a,l)=>{const h=s.get(a);l.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(ft.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!h.isValidDocument()||l.version.compareTo(h.version)>0||l.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):He(b0,"Ignoring outdated watch update for ",a,". Current version:",h.version," Watch version:",l.version)}),{Ls:o,ks:i}})}function kk(t,e){const n=vt(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=l0),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Ck(t,e){const n=vt(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.hi.getTargetData(r,e).next(s=>s?(i=s,Ie.resolve(i)):n.hi.allocateTargetId(r).next(o=>(i=new ua(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.hi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Fs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(r.targetId,r),n.Ms.set(e,r.targetId)),r})}async function L1(t,e,n){const r=vt(t),i=r.Fs.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!_c(o))throw o;He(b0,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(i.target)}function xy(t,e,n){const r=vt(t);let i=ft.min(),s=Tt();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,h,p){const g=vt(l),_=g.Ms.get(p);return _!==void 0?Ie.resolve(g.Fs.get(_)):g.hi.getTargetData(h,p)}(r,o,Ns(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Cs.getDocumentsMatchingQuery(o,e,n?i:ft.min(),n?s:Tt())).next(a=>(Lk(r,yx(e),a),{documents:a,qs:s})))}function Lk(t,e,n){let r=t.xs.get(e)||ft.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.xs.set(e,r)}class ky{constructor(){this.activeTargetIds=Sx()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Rk{constructor(){this.Fo=new ky,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,r){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new ky,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ok{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cy="ConnectivityMonitor";class Ly{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){He(Cy,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){He(Cy,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rd=null;function R1(){return rd===null?rd=function(){return 268435456+Math.round(2147483648*Math.random())}():rd++,"0x"+rd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ag="RestConnection",Dk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Fk{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===dp?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,n,r,i,s){const o=R1(),a=this.Go(e,n.toUriEncodedString());He(ag,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(l,i,s);const{host:h}=new URL(a),p=pc(h);return this.jo(e,a,l,r,p).then(g=>(He(ag,`Received RPC '${e}' ${o}: `,g),g),g=>{throw Na(ag,`RPC '${e}' ${o} failed with error: `,g,"url: ",a,"request:",r),g})}Jo(e,n,r,i,s,o){return this.Wo(e,n,r,i,s)}zo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+vc}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}Go(e,n){const r=Dk[e];return`${this.$o}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mk{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fr="WebChannelConnection";class Vk extends Fk{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,r,i,s){const o=R1();return new Promise((a,l)=>{const h=new b3;h.setWithCredentials(!0),h.listenOnce(E3.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case Sd.NO_ERROR:const g=h.getResponseJson();He(fr,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(g)),a(g);break;case Sd.TIMEOUT:He(fr,`RPC '${e}' ${o} timed out`),l(new Je(xe.DEADLINE_EXCEEDED,"Request time out"));break;case Sd.HTTP_ERROR:const _=h.getStatus();if(He(fr,`RPC '${e}' ${o} failed with status:`,_,"response text:",h.getResponseText()),_>0){let v=h.getResponseJson();Array.isArray(v)&&(v=v[0]);const C=v==null?void 0:v.error;if(C&&C.status&&C.message){const P=function(b){const S=b.toLowerCase().replace(/_/g,"-");return Object.values(xe).indexOf(S)>=0?S:xe.UNKNOWN}(C.status);l(new Je(P,C.message))}else l(new Je(xe.UNKNOWN,"Server responded with status "+h.getStatus()))}else l(new Je(xe.UNAVAILABLE,"Connection failed."));break;default:lt(9055,{c_:e,streamId:o,l_:h.getLastErrorCode(),h_:h.getLastError()})}}finally{He(fr,`RPC '${e}' ${o} completed.`)}});const p=JSON.stringify(i);He(fr,`RPC '${e}' ${o} sending request:`,i),h.send(n,"POST",p,r,15)})}P_(e,n,r){const i=R1(),s=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=T3(),a=I3(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(l.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(l.useFetchStreams=!0),this.zo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const p=s.join("");He(fr,`Creating RPC '${e}' stream ${i}: ${p}`,l);const g=o.createWebChannel(p,l);this.T_(g);let _=!1,v=!1;const C=new Mk({Ho:U=>{v?He(fr,`Not sending because RPC '${e}' stream ${i} is closed:`,U):(_||(He(fr,`Opening RPC '${e}' stream ${i} transport.`),g.open(),_=!0),He(fr,`RPC '${e}' stream ${i} sending:`,U),g.send(U))},Yo:()=>g.close()}),P=(U,b,S)=>{U.listen(b,F=>{try{S(F)}catch(W){setTimeout(()=>{throw W},0)}})};return P(g,th.EventType.OPEN,()=>{v||(He(fr,`RPC '${e}' stream ${i} transport opened.`),C.s_())}),P(g,th.EventType.CLOSE,()=>{v||(v=!0,He(fr,`RPC '${e}' stream ${i} transport closed`),C.__(),this.I_(g))}),P(g,th.EventType.ERROR,U=>{v||(v=!0,Na(fr,`RPC '${e}' stream ${i} transport errored. Name:`,U.name,"Message:",U.message),C.__(new Je(xe.UNAVAILABLE,"The operation could not be completed")))}),P(g,th.EventType.MESSAGE,U=>{var b;if(!v){const S=U.data[0];Vt(!!S,16349);const F=S,W=(F==null?void 0:F.error)||((b=F[0])===null||b===void 0?void 0:b.error);if(W){He(fr,`RPC '${e}' stream ${i} received error:`,W);const Z=W.status;let ae=function(O){const B=Rn[O];if(B!==void 0)return oA(B)}(Z),R=W.message;ae===void 0&&(ae=xe.INTERNAL,R="Unknown error status: "+Z+" with message "+W.message),v=!0,C.__(new Je(ae,R)),g.close()}else He(fr,`RPC '${e}' stream ${i} received:`,S),C.a_(S)}}),P(a,S3.STAT_EVENT,U=>{U.stat===A1.PROXY?He(fr,`RPC '${e}' stream ${i} detected buffering proxy`):U.stat===A1.NOPROXY&&He(fr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{C.o_()},0),C}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(n=>n===e)}}function lg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tm(t){return new zx(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Fi=e,this.timerId=n,this.d_=r,this.E_=i,this.A_=s,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const n=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,n-r);i>0&&He("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ry="PersistentStream";class AA{constructor(e,n,r,i,s,o,a,l){this.Fi=e,this.w_=r,this.S_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new wA(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===xe.RESOURCE_EXHAUSTED?(vo(n.toString()),vo("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===xe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(n)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.b_===n&&this.W_(r,i)},r=>{e(()=>{const i=new Je(xe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)})})}W_(e,n){const r=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{r(()=>this.G_(i))}),this.stream.onMessage(i=>{r(()=>++this.C_==1?this.j_(i):this.onNext(i))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return He(Ry,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget(()=>this.b_===e?n():(He(Ry,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class jk extends AA{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}z_(e,n){return this.connection.P_("Listen",e,n)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const n=Hx(this.serializer,e),r=function(s){if(!("targetChange"in s))return ft.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?ft.min():o.readTime?xs(o.readTime):ft.min()}(e);return this.listener.J_(n,r)}H_(e){const n={};n.database=C1(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=T1(l)?{documents:Kx(s,l)}:{query:Qx(s,l).Vt},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=uA(s,o.resumeToken);const h=N1(s,o.expectedCount);h!==null&&(a.expectedCount=h)}else if(o.snapshotVersion.compareTo(ft.min())>0){a.readTime=_p(s,o.snapshotVersion.toTimestamp());const h=N1(s,o.expectedCount);h!==null&&(a.expectedCount=h)}return a}(this.serializer,e);const r=Jx(this.serializer,e);r&&(n.labels=r),this.k_(n)}Y_(e){const n={};n.database=C1(this.serializer),n.removeTarget=e,this.k_(n)}}class Bk extends AA{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,n){return this.connection.P_("Write",e,n)}j_(e){return Vt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Vt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){Vt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const n=Gx(e.writeResults,e.commitTime),r=xs(e.commitTime);return this.listener.ta(r,n)}na(){const e={};e.database=C1(this.serializer),this.k_(e)}X_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Wx(this.serializer,r))};this.k_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uk{}class zk extends Uk{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new Je(xe.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Wo(e,x1(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===xe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Je(xe.UNKNOWN,s.toString())})}Jo(e,n,r,i,s){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Jo(e,x1(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===xe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Je(xe.UNKNOWN,o.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class qk{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(vo(n),this._a=!1):He("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ol="RemoteStore";class $k{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=s,this.Ea.xo(o=>{r.enqueueAndForget(async()=>{Bl(this)&&(He(Ol,"Restarting streams for network reachability change."),await async function(l){const h=vt(l);h.Ia.add(4),await uf(h),h.Aa.set("Unknown"),h.Ia.delete(4),await nm(h)}(this))})}),this.Aa=new qk(r,i)}}async function nm(t){if(Bl(t))for(const e of t.da)await e(!0)}async function uf(t){for(const e of t.da)await e(!1)}function bA(t,e){const n=vt(t);n.Ta.has(e.targetId)||(n.Ta.set(e.targetId,e),T0(n)?I0(n):wc(n).x_()&&S0(n,e))}function E0(t,e){const n=vt(t),r=wc(n);n.Ta.delete(e),r.x_()&&EA(n,e),n.Ta.size===0&&(r.x_()?r.B_():Bl(n)&&n.Aa.set("Unknown"))}function S0(t,e){if(t.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ft.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}wc(t).H_(e)}function EA(t,e){t.Ra.$e(e),wc(t).Y_(e)}function I0(t){t.Ra=new Vx({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t.Ta.get(e)||null,lt:()=>t.datastore.serializer.databaseId}),wc(t).start(),t.Aa.aa()}function T0(t){return Bl(t)&&!wc(t).M_()&&t.Ta.size>0}function Bl(t){return vt(t).Ia.size===0}function SA(t){t.Ra=void 0}async function Hk(t){t.Aa.set("Online")}async function Wk(t){t.Ta.forEach((e,n)=>{S0(t,e)})}async function Gk(t,e){SA(t),T0(t)?(t.Aa.la(e),I0(t)):t.Aa.set("Unknown")}async function Kk(t,e,n){if(t.Aa.set("Online"),e instanceof lA&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.Ta.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.Ta.delete(a),i.Ra.removeTarget(a))}(t,e)}catch(r){He(Ol,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Ap(t,r)}else if(e instanceof Nd?t.Ra.Ye(e):e instanceof aA?t.Ra.it(e):t.Ra.et(e),!n.isEqual(ft.min()))try{const r=await _A(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Ra.Pt(o);return a.targetChanges.forEach((l,h)=>{if(l.resumeToken.approximateByteSize()>0){const p=s.Ta.get(h);p&&s.Ta.set(h,p.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,h)=>{const p=s.Ta.get(l);if(!p)return;s.Ta.set(l,p.withResumeToken(sr.EMPTY_BYTE_STRING,p.snapshotVersion)),EA(s,l);const g=new ua(p.target,l,h,p.sequenceNumber);S0(s,g)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){He(Ol,"Failed to raise snapshot:",r),await Ap(t,r)}}async function Ap(t,e,n){if(!_c(e))throw e;t.Ia.add(1),await uf(t),t.Aa.set("Offline"),n||(n=()=>_A(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{He(Ol,"Retrying IndexedDB access"),await n(),t.Ia.delete(1),await nm(t)})}function IA(t,e){return e().catch(n=>Ap(t,n,e))}async function rm(t){const e=vt(t),n=Ra(e);let r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:l0;for(;Qk(e);)try{const i=await kk(e.localStore,r);if(i===null){e.Pa.length===0&&n.B_();break}r=i.batchId,Yk(e,i)}catch(i){await Ap(e,i)}TA(e)&&PA(e)}function Qk(t){return Bl(t)&&t.Pa.length<10}function Yk(t,e){t.Pa.push(e);const n=Ra(t);n.x_()&&n.Z_&&n.X_(e.mutations)}function TA(t){return Bl(t)&&!Ra(t).M_()&&t.Pa.length>0}function PA(t){Ra(t).start()}async function Jk(t){Ra(t).na()}async function Xk(t){const e=Ra(t);for(const n of t.Pa)e.X_(n.mutations)}async function Zk(t,e,n){const r=t.Pa.shift(),i=g0.from(r,e,n);await IA(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await rm(t)}async function eC(t,e){e&&Ra(t).Z_&&await async function(r,i){if(function(o){return Fx(o)&&o!==xe.ABORTED}(i.code)){const s=r.Pa.shift();Ra(r).N_(),await IA(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await rm(r)}}(t,e),TA(t)&&PA(t)}async function Oy(t,e){const n=vt(t);n.asyncQueue.verifyOperationInProgress(),He(Ol,"RemoteStore received new credentials");const r=Bl(n);n.Ia.add(3),await uf(n),r&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),await nm(n)}async function tC(t,e){const n=vt(t);e?(n.Ia.delete(2),await nm(n)):e||(n.Ia.add(2),await uf(n),n.Aa.set("Unknown"))}function wc(t){return t.Va||(t.Va=function(n,r,i){const s=vt(n);return s.ia(),new jk(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Zo:Hk.bind(null,t),e_:Wk.bind(null,t),n_:Gk.bind(null,t),J_:Kk.bind(null,t)}),t.da.push(async e=>{e?(t.Va.N_(),T0(t)?I0(t):t.Aa.set("Unknown")):(await t.Va.stop(),SA(t))})),t.Va}function Ra(t){return t.ma||(t.ma=function(n,r,i){const s=vt(n);return s.ia(),new Bk(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),e_:Jk.bind(null,t),n_:eC.bind(null,t),ea:Xk.bind(null,t),ta:Zk.bind(null,t)}),t.da.push(async e=>{e?(t.ma.N_(),await rm(t)):(await t.ma.stop(),t.Pa.length>0&&(He(Ol,`Stopping write stream with ${t.Pa.length} pending writes`),t.Pa=[]))})),t.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P0{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Al,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new P0(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Je(xe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function N0(t,e){if(vo("AsyncQueue",`${e}: ${t}`),_c(t))return new Je(xe.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu{static emptySet(e){return new qu(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||et.comparator(n.key,r.key):(n,r)=>et.comparator(n.key,r.key),this.keyedMap=nh(),this.sortedSet=new fn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof qu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new qu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dy{constructor(){this.fa=new fn(et.comparator)}track(e){const n=e.doc.key,r=this.fa.get(n);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(n,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(n):e.type===1&&r.type===2?this.fa=this.fa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):lt(63341,{At:e,ga:r}):this.fa=this.fa.insert(n,e)}pa(){const e=[];return this.fa.inorderTraversal((n,r)=>{e.push(r)}),e}}class uc{constructor(e,n,r,i,s,o,a,l,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new uc(e,n,qu.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Yp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class rC{constructor(){this.queries=Fy(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,r){const i=vt(n),s=i.queries;i.queries=Fy(),s.forEach((o,a)=>{for(const l of a.wa)l.onError(r)})})(this,new Je(xe.ABORTED,"Firestore shutting down"))}}function Fy(){return new Vl(t=>K3(t),Yp)}async function iC(t,e){const n=vt(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.Sa()&&e.ba()&&(r=2):(s=new nC,r=e.ba()?0:1);try{switch(r){case 0:s.ya=await n.onListen(i,!0);break;case 1:s.ya=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=N0(o,`Initialization of query '${gu(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.wa.push(e),e.va(n.onlineState),s.ya&&e.Ca(s.ya)&&x0(n)}async function sC(t,e){const n=vt(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.wa.indexOf(e);o>=0&&(s.wa.splice(o,1),s.wa.length===0?i=e.ba()?0:1:!s.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function oC(t,e){const n=vt(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.wa)a.Ca(i)&&(r=!0);o.ya=i}}r&&x0(n)}function aC(t,e,n){const r=vt(t),i=r.queries.get(e);if(i)for(const s of i.wa)s.onError(n);r.queries.delete(e)}function x0(t){t.Da.forEach(e=>{e.next()})}var O1,My;(My=O1||(O1={})).Fa="default",My.Cache="cache";class lC{constructor(e,n,r){this.query=e,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new uc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),n=!0):this.Ba(e,this.onlineState)&&(this.La(e),n=!0),this.Oa=e,n}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),n=!0),n}Ba(e,n){if(!e.fromCache||!this.ba())return!0;const r=n!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const n=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(e){e=uc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==O1.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NA{constructor(e){this.key=e}}class xA{constructor(e){this.key=e}}class uC{constructor(e,n){this.query=e,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Tt(),this.mutatedKeys=Tt(),this.Xa=Q3(e),this.eu=new qu(this.Xa)}get tu(){return this.Ha}nu(e,n){const r=n?n.ru:new Dy,i=n?n.eu:this.eu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((p,g)=>{const _=i.get(p),v=Jp(this.query,g)?g:null,C=!!_&&this.mutatedKeys.has(_.key),P=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let U=!1;_&&v?_.data.isEqual(v.data)?C!==P&&(r.track({type:3,doc:v}),U=!0):this.iu(_,v)||(r.track({type:2,doc:v}),U=!0,(l&&this.Xa(v,l)>0||h&&this.Xa(v,h)<0)&&(a=!0)):!_&&v?(r.track({type:0,doc:v}),U=!0):_&&!v&&(r.track({type:1,doc:_}),U=!0,(l||h)&&(a=!0)),U&&(v?(o=o.add(v),s=P?s.add(p):s.delete(p)):(o=o.delete(p),s=s.delete(p)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const p=this.query.limitType==="F"?o.last():o.first();o=o.delete(p.key),s=s.delete(p.key),r.track({type:1,doc:p})}return{eu:o,ru:r,Ds:a,mutatedKeys:s}}iu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const o=e.ru.pa();o.sort((p,g)=>function(v,C){const P=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return lt(20277,{At:U})}};return P(v)-P(C)}(p.type,g.type)||this.Xa(p.doc,g.doc)),this.su(r),i=i!=null&&i;const a=n&&!i?this.ou():[],l=this.Za.size===0&&this.current&&!i?1:0,h=l!==this.Ya;return this.Ya=l,o.length!==0||h?{snapshot:new uc(this.query,e.eu,s,o,e.mutatedKeys,l===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:a}:{_u:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new Dy,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=Tt(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});const n=[];return e.forEach(r=>{this.Za.has(r)||n.push(new xA(r))}),this.Za.forEach(r=>{e.has(r)||n.push(new NA(r))}),n}uu(e){this.Ha=e.qs,this.Za=Tt();const n=this.nu(e.documents);return this.applyChanges(n,!0)}cu(){return uc.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const k0="SyncEngine";class cC{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class hC{constructor(e){this.key=e,this.lu=!1}}class fC{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.hu={},this.Pu=new Vl(a=>K3(a),Yp),this.Tu=new Map,this.Iu=new Set,this.du=new fn(et.comparator),this.Eu=new Map,this.Au=new _0,this.Ru={},this.Vu=new Map,this.mu=lc.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function dC(t,e,n=!0){const r=DA(t);let i;const s=r.Pu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.cu()):i=await kA(r,e,n,!0),i}async function pC(t,e){const n=DA(t);await kA(n,e,!0,!1)}async function kA(t,e,n,r){const i=await Ck(t.localStore,Ns(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await mC(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&bA(t.remoteStore,i),a}async function mC(t,e,n,r,i){t.gu=(g,_,v)=>async function(P,U,b,S){let F=U.view.nu(b);F.Ds&&(F=await xy(P.localStore,U.query,!1).then(({documents:R})=>U.view.nu(R,F)));const W=S&&S.targetChanges.get(U.targetId),Z=S&&S.targetMismatches.get(U.targetId)!=null,ae=U.view.applyChanges(F,P.isPrimaryClient,W,Z);return jy(P,U.targetId,ae._u),ae.snapshot}(t,g,_,v);const s=await xy(t.localStore,e,!0),o=new uC(e,s.qs),a=o.nu(s.documents),l=lf.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),h=o.applyChanges(a,t.isPrimaryClient,l);jy(t,n,h._u);const p=new cC(e,n,o);return t.Pu.set(e,p),t.Tu.has(n)?t.Tu.get(n).push(e):t.Tu.set(n,[e]),h.snapshot}async function gC(t,e,n){const r=vt(t),i=r.Pu.get(e),s=r.Tu.get(i.targetId);if(s.length>1)return r.Tu.set(i.targetId,s.filter(o=>!Yp(o,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await L1(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&E0(r.remoteStore,i.targetId),D1(r,i.targetId)}).catch(yc)):(D1(r,i.targetId),await L1(r.localStore,i.targetId,!0))}async function vC(t,e){const n=vt(t),r=n.Pu.get(e),i=n.Tu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),E0(n.remoteStore,r.targetId))}async function yC(t,e,n){const r=IC(t);try{const i=await function(o,a){const l=vt(o),h=sn.now(),p=a.reduce((v,C)=>v.add(C.key),Tt());let g,_;return l.persistence.runTransaction("Locally write mutations","readwrite",v=>{let C=yo(),P=Tt();return l.Os.getEntries(v,p).next(U=>{C=U,C.forEach((b,S)=>{S.isValidDocument()||(P=P.add(b))})}).next(()=>l.localDocuments.getOverlayedDocuments(v,C)).next(U=>{g=U;const b=[];for(const S of a){const F=Cx(S,g.get(S.key).overlayedDocument);F!=null&&b.push(new jl(S.key,F,U3(F.value.mapValue),ts.exists(!0)))}return l.mutationQueue.addMutationBatch(v,h,b,a)}).next(U=>{_=U;const b=U.applyToLocalDocumentSet(g,P);return l.documentOverlayCache.saveOverlays(v,U.batchId,b)})}).then(()=>({batchId:_.batchId,changes:J3(g)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let h=o.Ru[o.currentUser.toKey()];h||(h=new fn(At)),h=h.insert(a,l),o.Ru[o.currentUser.toKey()]=h}(r,i.batchId,n),await cf(r,i.changes),await rm(r.remoteStore)}catch(i){const s=N0(i,"Failed to persist write");n.reject(s)}}async function CA(t,e){const n=vt(t);try{const r=await Nk(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Eu.get(s);o&&(Vt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.lu=!0:i.modifiedDocuments.size>0?Vt(o.lu,14607):i.removedDocuments.size>0&&(Vt(o.lu,42227),o.lu=!1))}),await cf(n,r,e)}catch(r){await yc(r)}}function Vy(t,e,n){const r=vt(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Pu.forEach((s,o)=>{const a=o.view.va(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=vt(o);l.onlineState=a;let h=!1;l.queries.forEach((p,g)=>{for(const _ of g.wa)_.va(a)&&(h=!0)}),h&&x0(l)}(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function _C(t,e,n){const r=vt(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Eu.get(e),s=i&&i.key;if(s){let o=new fn(et.comparator);o=o.insert(s,_r.newNoDocument(s,ft.min()));const a=Tt().add(s),l=new em(ft.min(),new Map,new fn(At),o,a);await CA(r,l),r.du=r.du.remove(s),r.Eu.delete(e),C0(r)}else await L1(r.localStore,e,!1).then(()=>D1(r,e,n)).catch(yc)}async function wC(t,e){const n=vt(t),r=e.batch.batchId;try{const i=await Pk(n.localStore,e);RA(n,r,null),LA(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await cf(n,i)}catch(i){await yc(i)}}async function AC(t,e,n){const r=vt(t);try{const i=await function(o,a){const l=vt(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let p;return l.mutationQueue.lookupMutationBatch(h,a).next(g=>(Vt(g!==null,37113),p=g.keys(),l.mutationQueue.removeMutationBatch(h,g))).next(()=>l.mutationQueue.performConsistencyCheck(h)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(h,p,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,p)).next(()=>l.localDocuments.getDocuments(h,p))})}(r.localStore,e);RA(r,e,n),LA(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await cf(r,i)}catch(i){await yc(i)}}function LA(t,e){(t.Vu.get(e)||[]).forEach(n=>{n.resolve()}),t.Vu.delete(e)}function RA(t,e,n){const r=vt(t);let i=r.Ru[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ru[r.currentUser.toKey()]=i}}function D1(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Tu.get(e))t.Pu.delete(r),n&&t.hu.pu(r,n);t.Tu.delete(e),t.isPrimaryClient&&t.Au.zr(e).forEach(r=>{t.Au.containsKey(r)||OA(t,r)})}function OA(t,e){t.Iu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(E0(t.remoteStore,n),t.du=t.du.remove(e),t.Eu.delete(n),C0(t))}function jy(t,e,n){for(const r of n)r instanceof NA?(t.Au.addReference(r.key,e),bC(t,r)):r instanceof xA?(He(k0,"Document no longer in limbo: "+r.key),t.Au.removeReference(r.key,e),t.Au.containsKey(r.key)||OA(t,r.key)):lt(19791,{yu:r})}function bC(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Iu.has(r)||(He(k0,"New document in limbo: "+n),t.Iu.add(r),C0(t))}function C0(t){for(;t.Iu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Iu.values().next().value;t.Iu.delete(e);const n=new et(rn.fromString(e)),r=t.mu.next();t.Eu.set(r,new hC(n)),t.du=t.du.insert(n,r),bA(t.remoteStore,new ua(Ns(d0(n.path)),r,"TargetPurposeLimboResolution",Wp.ue))}}async function cf(t,e,n){const r=vt(t),i=[],s=[],o=[];r.Pu.isEmpty()||(r.Pu.forEach((a,l)=>{o.push(r.gu(l,e,n).then(h=>{var p;if((h||n)&&r.isPrimaryClient){const g=h?!h.fromCache:(p=n==null?void 0:n.targetChanges.get(l.targetId))===null||p===void 0?void 0:p.current;r.sharedClientState.updateQueryState(l.targetId,g?"current":"not-current")}if(h){i.push(h);const g=A0.Es(l.targetId,h);s.push(g)}}))}),await Promise.all(o),r.hu.J_(i),await async function(l,h){const p=vt(l);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>Ie.forEach(h,_=>Ie.forEach(_.Is,v=>p.persistence.referenceDelegate.addReference(g,_.targetId,v)).next(()=>Ie.forEach(_.ds,v=>p.persistence.referenceDelegate.removeReference(g,_.targetId,v)))))}catch(g){if(!_c(g))throw g;He(b0,"Failed to update sequence numbers: "+g)}for(const g of h){const _=g.targetId;if(!g.fromCache){const v=p.Fs.get(_),C=v.snapshotVersion,P=v.withLastLimboFreeSnapshotVersion(C);p.Fs=p.Fs.insert(_,P)}}}(r.localStore,s))}async function EC(t,e){const n=vt(t);if(!n.currentUser.isEqual(e)){He(k0,"User change. New user:",e.toKey());const r=await yA(n.localStore,e);n.currentUser=e,function(s,o){s.Vu.forEach(a=>{a.forEach(l=>{l.reject(new Je(xe.CANCELLED,o))})}),s.Vu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await cf(n,r.Bs)}}function SC(t,e){const n=vt(t),r=n.Eu.get(e);if(r&&r.lu)return Tt().add(r.key);{let i=Tt();const s=n.Tu.get(e);if(!s)return i;for(const o of s){const a=n.Pu.get(o);i=i.unionWith(a.view.tu)}return i}}function DA(t){const e=vt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=CA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=SC.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=_C.bind(null,e),e.hu.J_=oC.bind(null,e.eventManager),e.hu.pu=aC.bind(null,e.eventManager),e}function IC(t){const e=vt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=wC.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=AC.bind(null,e),e}class bp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=tm(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,n){return null}Fu(e,n){return null}vu(e){return Tk(this.persistence,new Ek,e.initialUser,this.serializer)}Du(e){return new vA(w0.Vi,this.serializer)}bu(e){return new Rk}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}bp.provider={build:()=>new bp};class TC extends bp{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){Vt(this.persistence.referenceDelegate instanceof wp,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new lk(r,e.asyncQueue,n)}Du(e){const n=this.cacheSizeBytes!==void 0?qr.withCacheSize(this.cacheSizeBytes):qr.DEFAULT;return new vA(r=>wp.Vi(r,n),this.serializer)}}class F1{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Vy(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=EC.bind(null,this.syncEngine),await tC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new rC}()}createDatastore(e){const n=tm(e.databaseInfo.databaseId),r=function(s){return new Vk(s)}(e.databaseInfo);return function(s,o,a,l){return new zk(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new $k(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>Vy(this.syncEngine,n,0),function(){return Ly.C()?new Ly:new Ok}())}createSyncEngine(e,n){return function(i,s,o,a,l,h,p){const g=new fC(i,s,o,a,l,h);return p&&(g.fu=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=vt(i);He(Ol,"RemoteStore shutting down."),s.Ia.add(5),await uf(s),s.Ea.shutdown(),s.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}F1.provider={build:()=>new F1};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):vo("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oa="FirestoreClient";class NC{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=vr.UNAUTHENTICATED,this.clientId=o0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{He(Oa,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(He(Oa,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Al;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=N0(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function ug(t,e){t.asyncQueue.verifyOperationInProgress(),He(Oa,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await yA(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>{Na("Terminating Firestore due to IndexedDb database deletion"),t.terminate().then(()=>{He("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{Na("Terminating Firestore due to IndexedDb database deletion failed",i)})}),t._offlineComponents=e}async function By(t,e){t.asyncQueue.verifyOperationInProgress();const n=await xC(t);He(Oa,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Oy(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>Oy(e.remoteStore,i)),t._onlineComponents=e}async function xC(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){He(Oa,"Using user provided OfflineComponentProvider");try{await ug(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===xe.FAILED_PRECONDITION||i.code===xe.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Na("Error using user provided cache. Falling back to memory cache: "+n),await ug(t,new bp)}}else He(Oa,"Using default OfflineComponentProvider"),await ug(t,new TC(void 0));return t._offlineComponents}async function FA(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(He(Oa,"Using user provided OnlineComponentProvider"),await By(t,t._uninitializedComponentsProvider._online)):(He(Oa,"Using default OnlineComponentProvider"),await By(t,new F1))),t._onlineComponents}function kC(t){return FA(t).then(e=>e.syncEngine)}async function Uy(t){const e=await FA(t),n=e.eventManager;return n.onListen=dC.bind(null,e.syncEngine),n.onUnlisten=gC.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=pC.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=vC.bind(null,e.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MA(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zy=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VA="firestore.googleapis.com",qy=!0;class $y{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Je(xe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=VA,this.ssl=qy}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:qy;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=gA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<ok)throw new Je(xe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}$N("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=MA((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Je(xe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Je(xe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Je(xe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class im{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $y({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Je(xe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Je(xe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $y(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new DN;switch(r.type){case"firstParty":return new jN(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Je(xe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=zy.get(n);r&&(He("ComponentProvider","Removing Datastore"),zy.delete(n),r.terminate())}(this),Promise.resolve()}}function CC(t,e,n,r={}){var i;t=Sa(t,im);const s=pc(e),o=t._getSettings(),a=Object.assign(Object.assign({},o),{emulatorOptions:t._getEmulatorOptions()}),l=`${e}:${n}`;s&&(O4(`https://${l}`),D4("Firestore",!0)),o.host!==VA&&o.host!==l&&Na("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h=Object.assign(Object.assign({},o),{host:l,ssl:s,emulatorOptions:r});if(!xl(h,a)&&(t._setSettings(h),r.mockUserToken)){let p,g;if(typeof r.mockUserToken=="string")p=r.mockUserToken,g=vr.MOCK_USER;else{p=$I(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new Je(xe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new vr(_)}t._authCredentials=new FN(new N3(p,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new sm(this.firestore,e,this._query)}}class Un{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ia(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Un(this.firestore,e,this._key)}toJSON(){return{type:Un._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(of(n,Un._jsonSchema))return new Un(e,r||null,new et(rn.fromString(n.referencePath)))}}Un._jsonSchemaVersion="firestore/documentReference/1.0",Un._jsonSchema={type:Dn("string",Un._jsonSchemaVersion),referencePath:Dn("string")};class Ia extends sm{constructor(e,n,r){super(e,n,d0(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Un(this.firestore,null,new et(e))}withConverter(e){return new Ia(this.firestore,e,this._path)}}function M1(t,e,...n){if(t=Lr(t),k3("collection","path",e),t instanceof im){const r=rn.fromString(e,...n);return ry(r),new Ia(t,null,r)}{if(!(t instanceof Un||t instanceof Ia))throw new Je(xe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(rn.fromString(e,...n));return ry(r),new Ia(t.firestore,null,r)}}function $u(t,e,...n){if(t=Lr(t),arguments.length===1&&(e=o0.newId()),k3("doc","path",e),t instanceof im){const r=rn.fromString(e,...n);return ny(r),new Un(t,null,new et(r))}{if(!(t instanceof Un||t instanceof Ia))throw new Je(xe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(rn.fromString(e,...n));return ny(r),new Un(t.firestore,t instanceof Ia?t.converter:null,new et(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hy="AsyncQueue";class Wy{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new wA(this,"async_queue_retry"),this.oc=()=>{const r=lg();r&&He(Hy,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;const n=lg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const n=lg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const n=new Al;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!_c(e))throw e;He(Hy,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const n=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,vo("INTERNAL UNHANDLED ERROR: ",Gy(r)),r}).then(r=>(this.nc=!1,r))));return this._c=n,n}enqueueAfterDelay(e,n,r){this.ac(),this.sc.indexOf(e)>-1&&(n=0);const i=P0.createAndSchedule(this,e,n,r,s=>this.lc(s));return this.ec.push(i),i}ac(){this.tc&&lt(47125,{hc:Gy(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const n=this.ec.indexOf(e);this.ec.splice(n,1)}}function Gy(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ky(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class cc extends im{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Wy,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Wy(e),this._firestoreClient=void 0,await e}}}function LC(t,e){const n=typeof t=="object"?t:j4(),r=typeof t=="string"?t:dp,i=G2(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=zI("firestore");s&&CC(i,...s)}return i}function jA(t){if(t._terminated)throw new Je(xe.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||RC(t),t._firestoreClient}function RC(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,h,p){return new tx(a,l,h,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,MA(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new NC(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ti(sr.fromBase64String(e))}catch(n){throw new Je(xe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ti(sr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ti._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(of(e,Ti._jsonSchema))return Ti.fromBase64String(e.bytes)}}Ti._jsonSchemaVersion="firestore/bytes/1.0",Ti._jsonSchema={type:Dn("string",Ti._jsonSchemaVersion),bytes:Dn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Je(xe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new nr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BA{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Je(xe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Je(xe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return At(this._lat,e._lat)||At(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ks._jsonSchemaVersion}}static fromJSON(e){if(of(e,ks._jsonSchema))return new ks(e.latitude,e.longitude)}}ks._jsonSchemaVersion="firestore/geoPoint/1.0",ks._jsonSchema={type:Dn("string",ks._jsonSchemaVersion),latitude:Dn("number"),longitude:Dn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Cs._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(of(e,Cs._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Cs(e.vectorValues);throw new Je(xe.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Cs._jsonSchemaVersion="firestore/vectorValue/1.0",Cs._jsonSchema={type:Dn("string",Cs._jsonSchemaVersion),vectorValues:Dn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OC=/^__.*__$/;class DC{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new jl(e,this.data,this.fieldMask,n,this.fieldTransforms):new af(e,this.data,n,this.fieldTransforms)}}function UA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw lt(40011,{Ec:t})}}class R0{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Ac(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new R0(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Rc({path:r,mc:!1});return i.fc(e),i}gc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Rc({path:r,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Ep(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(UA(this.Ec)&&OC.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class FC{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||tm(e)}Dc(e,n,r,i=!1){return new R0({Ec:e,methodName:n,bc:r,path:nr.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function zA(t){const e=t._freezeSettings(),n=tm(t._databaseId);return new FC(t._databaseId,!!e.ignoreUndefinedProperties,n)}function qA(t,e,n,r,i,s={}){const o=t.Dc(s.merge||s.mergeFields?2:0,e,n,i);GA("Data must be an object, but it was:",o,r);const a=HA(r,o);let l,h;if(s.merge)l=new Ji(o.fieldMask),h=o.fieldTransforms;else if(s.mergeFields){const p=[];for(const g of s.mergeFields){const _=MC(e,g,n);if(!o.contains(_))throw new Je(xe.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);jC(p,_)||p.push(_)}l=new Ji(p),h=o.fieldTransforms.filter(g=>l.covers(g.field))}else l=null,h=o.fieldTransforms;return new DC(new Ii(a),l,h)}function $A(t,e){if(WA(t=Lr(t)))return GA("Unsupported field value:",e,t),HA(t,e);if(t instanceof BA)return function(r,i){if(!UA(i.Ec))throw i.wc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=$A(a,i.yc(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Lr(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Ix(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=sn.fromDate(r);return{timestampValue:_p(i.serializer,s)}}if(r instanceof sn){const s=new sn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:_p(i.serializer,s)}}if(r instanceof ks)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ti)return{bytesValue:uA(i.serializer,r._byteString)};if(r instanceof Un){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.wc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:y0(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Cs)return function(o,a){return{mapValue:{fields:{[j3]:{stringValue:B3},[pp]:{arrayValue:{values:o.toArray().map(h=>{if(typeof h!="number")throw a.wc("VectorValues must only contain numeric values.");return p0(a.serializer,h)})}}}}}}(r,i);throw i.wc(`Unsupported field value: ${a0(r)}`)}(t,e)}function HA(t,e){const n={};return R3(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ml(t,(r,i)=>{const s=$A(i,e.Vc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function WA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof sn||t instanceof ks||t instanceof Ti||t instanceof Un||t instanceof BA||t instanceof Cs)}function GA(t,e,n){if(!WA(n)||!C3(n)){const r=a0(n);throw r==="an object"?e.wc(t+" a custom object"):e.wc(t+" "+r)}}function MC(t,e,n){if((e=Lr(e))instanceof L0)return e._internalPath;if(typeof e=="string")return KA(t,e);throw Ep("Field path arguments must be of type string or ",t,!1,void 0,n)}const VC=new RegExp("[~\\*/\\[\\]]");function KA(t,e,n){if(e.search(VC)>=0)throw Ep(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new L0(...e.split("."))._internalPath}catch{throw Ep(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ep(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new Je(xe.INVALID_ARGUMENT,a+t+l)}function jC(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QA{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Un(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new BC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(YA("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class BC extends QA{data(){return super.data()}}function YA(t,e){return typeof e=="string"?KA(t,e):e instanceof L0?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UC(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Je(xe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class zC{convertValue(e,n="none"){switch(La(e)){case 0:return null;case 1:return e.booleanValue;case 2:return En(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ca(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw lt(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ml(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[pp].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>En(o.doubleValue));return new Cs(s)}convertGeoPoint(e){return new ks(En(e.latitude),En(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Kp(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(zh(e));default:return null}}convertTimestamp(e){const n=ka(e);return new sn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=rn.fromString(e);Vt(mA(r),9688,{name:e});const i=new qh(r.get(1),r.get(3)),s=new et(r.popFirst(5));return i.isEqual(n)||vo(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JA(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class ih{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class bl extends QA{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new xd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(YA("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Je(xe.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=bl._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}bl._jsonSchemaVersion="firestore/documentSnapshot/1.0",bl._jsonSchema={type:Dn("string",bl._jsonSchemaVersion),bundleSource:Dn("string","DocumentSnapshot"),bundleName:Dn("string"),bundle:Dn("string")};class xd extends bl{data(e={}){return super.data(e)}}class Hu{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new ih(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new xd(this._firestore,this._userDataWriter,r.key,r,new ih(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Je(xe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new xd(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ih(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new xd(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ih(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,p=-1;return a.type!==0&&(h=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),p=o.indexOf(a.doc.key)),{type:qC(a.type),doc:l,oldIndex:h,newIndex:p}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Je(xe.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Hu._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=o0.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function qC(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return lt(61501,{type:t})}}Hu._jsonSchemaVersion="firestore/querySnapshot/1.0",Hu._jsonSchema={type:Dn("string",Hu._jsonSchemaVersion),bundleSource:Dn("string","QuerySnapshot"),bundleName:Dn("string"),bundle:Dn("string")};class XA extends zC{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ti(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Un(this.firestore,null,n)}}function ZA(t,e,n){t=Sa(t,Un);const r=Sa(t.firestore,cc),i=JA(t.converter,e);return O0(r,[qA(zA(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,ts.none())])}function V1(t){return O0(Sa(t.firestore,cc),[new m0(t._key,ts.none())])}function $C(t,e){const n=Sa(t.firestore,cc),r=$u(t),i=JA(t.converter,e);return O0(n,[qA(zA(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,ts.exists(!1))]).then(()=>r)}function eb(t,...e){var n,r,i;t=Lr(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||Ky(e[o])||(s=e[o++]);const a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(Ky(e[o])){const g=e[o];e[o]=(n=g.next)===null||n===void 0?void 0:n.bind(g),e[o+1]=(r=g.error)===null||r===void 0?void 0:r.bind(g),e[o+2]=(i=g.complete)===null||i===void 0?void 0:i.bind(g)}let l,h,p;if(t instanceof Un)h=Sa(t.firestore,cc),p=d0(t._key.path),l={next:g=>{e[o]&&e[o](HC(h,t,g))},error:e[o+1],complete:e[o+2]};else{const g=Sa(t,sm);h=Sa(g.firestore,cc),p=g._query;const _=new XA(h);l={next:v=>{e[o]&&e[o](new Hu(h,_,g,v))},error:e[o+1],complete:e[o+2]},UC(t._query)}return function(_,v,C,P){const U=new PC(P),b=new lC(v,U,C);return _.asyncQueue.enqueueAndForget(async()=>iC(await Uy(_),b)),()=>{U.Ou(),_.asyncQueue.enqueueAndForget(async()=>sC(await Uy(_),b))}}(jA(h),p,a,l)}function O0(t,e){return function(r,i){const s=new Al;return r.asyncQueue.enqueueAndForget(async()=>yC(await kC(r),i,s)),s.promise}(jA(t),e)}function HC(t,e,n){const r=n.docs.get(e._key),i=new XA(t);return new bl(t,i,e._key,r,new ih(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){vc=i})(mc),ic(new kl("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new cc(new MN(r.getProvider("auth-internal")),new BN(o,r.getProvider("app-check-internal")),function(h,p){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Je(xe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new qh(h.options.projectId,p)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),ba(Jv,Xv,e),ba(Jv,Xv,"esm2017")})();const WC={apiKey:"AIzaSyDwIE-s57pn3VJXBZx0WCGCiVbqeJ-Y8R8",authDomain:"cloudnotes2-a74f9.firebaseapp.com",projectId:"cloudnotes2-a74f9",storageBucket:"cloudnotes2-a74f9.firebasestorage.app",messagingSenderId:"778487445777",appId:"1:778487445777:web:c33c6ee03678f38a19f4b0",measurementId:"G-63GPLZDTYX"},tb=V4(WC),Wu=RN(tb),GC=new ro,ca=LC(tb);function KC({onLogin:t}){const[e,n]=Ar.useState(""),[r,i]=Ar.useState(""),[s,o]=Ar.useState(!1),[a,l]=Ar.useState(!1),h=async()=>{try{s?(await vP(Wu,e,r),t("CloudNotes ")):(await yP(Wu,e,r),t("CloudNotes "))}catch(g){g.code==="auth/invalid-credential"||g.code==="auth/wrong-password"?alert(" Incorrect email or password."):g.code==="auth/user-not-found"?alert("No user found. Try registering "):alert("Error: "+g.message)}},p=async()=>{try{await zP(Wu,GC),t("CloudNotes ")}catch(g){alert("Google Sign-in Error: "+g.message)}};return _t.jsx("div",{style:{minHeight:"100vh",background:"linear-gradient(to right, #b3e5fc, #f8bbd0)",display:"flex",justifyContent:"center",alignItems:"center",fontFamily:"Poppins, sans-serif"},children:_t.jsxs("div",{style:{background:"white",padding:"40px 60px",borderRadius:"18px",boxShadow:"0 6px 12px rgba(0,0,0,0.1)",textAlign:"center",width:"380px"},children:[_t.jsx("h2",{style:{fontSize:"28px",color:"#00796b",marginBottom:"25px"},children:" CloudNotes App "}),_t.jsx("input",{type:"email",placeholder:" Enter your email",value:e,onChange:g=>n(g.target.value),style:{width:"100%",padding:"12px",marginBottom:"15px",borderRadius:"10px",border:"2px solid #b2dfdb",fontSize:"15px",outline:"none"}}),_t.jsxs("div",{style:{display:"flex",alignItems:"center",border:"2px solid #b2dfdb",borderRadius:"10px",padding:"0 10px",marginBottom:"15px"},children:[_t.jsx("input",{type:a?"text":"password",placeholder:" Password",value:r,onChange:g=>i(g.target.value),style:{flex:1,border:"none",outline:"none",padding:"12px",fontSize:"15px"}}),_t.jsx("span",{onClick:()=>l(!a),style:{cursor:"pointer"},children:a?"":""})]}),_t.jsx("button",{onClick:h,style:{width:"100%",backgroundColor:"#4db6ac",color:"white",border:"none",borderRadius:"10px",padding:"12px",fontSize:"16px",cursor:"pointer",marginBottom:"10px"},children:s?"Register":"Login"}),_t.jsxs("p",{style:{fontSize:"14px",color:"#555",marginBottom:"20px"},children:[s?"Already registered?":"New user?"," ",_t.jsx("span",{onClick:()=>o(!s),style:{color:"#00796b",cursor:"pointer",fontWeight:"bold"},children:s?"Login here":"Register here"})]}),_t.jsx("button",{onClick:p,style:{width:"100%",backgroundColor:"#ba68c8",color:"white",border:"none",borderRadius:"10px",padding:"12px",fontSize:"16px",cursor:"pointer"},children:" Login with Google"})]})})}const QC="modulepreload",YC=function(t,e){return new URL(t,e).href},Qy={},j1=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){const o=document.getElementsByTagName("link"),a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=Promise.allSettled(n.map(h=>{if(h=YC(h,r),h in Qy)return;Qy[h]=!0;const p=h.endsWith(".css"),g=p?'[rel="stylesheet"]':"";if(!!r)for(let C=o.length-1;C>=0;C--){const P=o[C];if(P.href===h&&(!p||P.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${h}"]${g}`))return;const v=document.createElement("link");if(v.rel=p?"stylesheet":QC,p||(v.as="script"),v.crossOrigin="",v.href=h,l&&v.setAttribute("nonce",l),document.head.appendChild(v),p)return new Promise((C,P)=>{v.addEventListener("load",C),v.addEventListener("error",()=>P(new Error(`Unable to preload CSS for ${h}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})};function zt(t){"@babel/helpers - typeof";return zt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zt(t)}var wr=Uint8Array,li=Uint16Array,D0=Int32Array,om=new wr([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),am=new wr([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),B1=new wr([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),nb=function(t,e){for(var n=new li(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var i=new D0(n[30]),r=1;r<30;++r)for(var s=n[r];s<n[r+1];++s)i[s]=s-n[r]<<5|r;return{b:n,r:i}},rb=nb(om,2),ib=rb.b,U1=rb.r;ib[28]=258,U1[258]=28;var sb=nb(am,0),JC=sb.b,Yy=sb.r,z1=new li(32768);for(var on=0;on<32768;++on){var Xo=(on&43690)>>1|(on&21845)<<1;Xo=(Xo&52428)>>2|(Xo&13107)<<2,Xo=(Xo&61680)>>4|(Xo&3855)<<4,z1[on]=((Xo&65280)>>8|(Xo&255)<<8)>>1}var Ls=function(t,e,n){for(var r=t.length,i=0,s=new li(e);i<r;++i)t[i]&&++s[t[i]-1];var o=new li(e);for(i=1;i<e;++i)o[i]=o[i-1]+s[i-1]<<1;var a;if(n){a=new li(1<<e);var l=15-e;for(i=0;i<r;++i)if(t[i])for(var h=i<<4|t[i],p=e-t[i],g=o[t[i]-1]++<<p,_=g|(1<<p)-1;g<=_;++g)a[z1[g]>>l]=h}else for(a=new li(r),i=0;i<r;++i)t[i]&&(a[i]=z1[o[t[i]-1]++]>>15-t[i]);return a},Da=new wr(288);for(var on=0;on<144;++on)Da[on]=8;for(var on=144;on<256;++on)Da[on]=9;for(var on=256;on<280;++on)Da[on]=7;for(var on=280;on<288;++on)Da[on]=8;var Gh=new wr(32);for(var on=0;on<32;++on)Gh[on]=5;var XC=Ls(Da,9,0),ZC=Ls(Da,9,1),eL=Ls(Gh,5,0),tL=Ls(Gh,5,1),cg=function(t){for(var e=t[0],n=1;n<t.length;++n)t[n]>e&&(e=t[n]);return e},$i=function(t,e,n){var r=e/8|0;return(t[r]|t[r+1]<<8)>>(e&7)&n},hg=function(t,e){var n=e/8|0;return(t[n]|t[n+1]<<8|t[n+2]<<16)>>(e&7)},F0=function(t){return(t+7)/8|0},ob=function(t,e,n){return(n==null||n>t.length)&&(n=t.length),new wr(t.subarray(e,n))},nL=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Gi=function(t,e,n){var r=new Error(e||nL[t]);if(r.code=t,Error.captureStackTrace&&Error.captureStackTrace(r,Gi),!n)throw r;return r},rL=function(t,e,n,r){var i=t.length,s=0;if(!i||e.f&&!e.l)return n||new wr(0);var o=!n,a=o||e.i!=2,l=e.i;o&&(n=new wr(i*3));var h=function(ke){var Ve=n.length;if(ke>Ve){var Fe=new wr(Math.max(Ve*2,ke));Fe.set(n),n=Fe}},p=e.f||0,g=e.p||0,_=e.b||0,v=e.l,C=e.d,P=e.m,U=e.n,b=i*8;do{if(!v){p=$i(t,g,1);var S=$i(t,g+1,3);if(g+=3,S)if(S==1)v=ZC,C=tL,P=9,U=5;else if(S==2){var ae=$i(t,g,31)+257,R=$i(t,g+10,15)+4,E=ae+$i(t,g+5,31)+1;g+=14;for(var O=new wr(E),B=new wr(19),I=0;I<R;++I)B[B1[I]]=$i(t,g+I*3,7);g+=R*3;for(var T=cg(B),N=(1<<T)-1,Q=Ls(B,T,1),I=0;I<E;){var ve=Q[$i(t,g,N)];g+=ve&15;var F=ve>>4;if(F<16)O[I++]=F;else{var me=0,ye=0;for(F==16?(ye=3+$i(t,g,3),g+=2,me=O[I-1]):F==17?(ye=3+$i(t,g,7),g+=3):F==18&&(ye=11+$i(t,g,127),g+=7);ye--;)O[I++]=me}}var Y=O.subarray(0,ae),le=O.subarray(ae);P=cg(Y),U=cg(le),v=Ls(Y,P,1),C=Ls(le,U,1)}else Gi(1);else{var F=F0(g)+4,W=t[F-4]|t[F-3]<<8,Z=F+W;if(Z>i){l&&Gi(0);break}a&&h(_+W),n.set(t.subarray(F,Z),_),e.b=_+=W,e.p=g=Z*8,e.f=p;continue}if(g>b){l&&Gi(0);break}}a&&h(_+131072);for(var ce=(1<<P)-1,Ce=(1<<U)-1,L=g;;L=g){var me=v[hg(t,g)&ce],q=me>>4;if(g+=me&15,g>b){l&&Gi(0);break}if(me||Gi(2),q<256)n[_++]=q;else if(q==256){L=g,v=null;break}else{var G=q-254;if(q>264){var I=q-257,J=om[I];G=$i(t,g,(1<<J)-1)+ib[I],g+=J}var ne=C[hg(t,g)&Ce],ue=ne>>4;ne||Gi(3),g+=ne&15;var le=JC[ue];if(ue>3){var J=am[ue];le+=hg(t,g)&(1<<J)-1,g+=J}if(g>b){l&&Gi(0);break}a&&h(_+131072);var pe=_+G;if(_<le){var ge=s-le,Oe=Math.min(le,pe);for(ge+_<0&&Gi(3);_<Oe;++_)n[_]=r[ge+_]}for(;_<pe;++_)n[_]=n[_-le]}}e.l=v,e.p=L,e.b=_,e.f=p,v&&(p=1,e.m=P,e.d=C,e.n=U)}while(!p);return _!=n.length&&o?ob(n,0,_):n.subarray(0,_)},eo=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8},Gc=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8,t[r+2]|=n>>16},fg=function(t,e){for(var n=[],r=0;r<t.length;++r)t[r]&&n.push({s:r,f:t[r]});var i=n.length,s=n.slice();if(!i)return{t:lb,l:0};if(i==1){var o=new wr(n[0].s+1);return o[n[0].s]=1,{t:o,l:1}}n.sort(function(Z,ae){return Z.f-ae.f}),n.push({s:-1,f:25001});var a=n[0],l=n[1],h=0,p=1,g=2;for(n[0]={s:-1,f:a.f+l.f,l:a,r:l};p!=i-1;)a=n[n[h].f<n[g].f?h++:g++],l=n[h!=p&&n[h].f<n[g].f?h++:g++],n[p++]={s:-1,f:a.f+l.f,l:a,r:l};for(var _=s[0].s,r=1;r<i;++r)s[r].s>_&&(_=s[r].s);var v=new li(_+1),C=q1(n[p-1],v,0);if(C>e){var r=0,P=0,U=C-e,b=1<<U;for(s.sort(function(ae,R){return v[R.s]-v[ae.s]||ae.f-R.f});r<i;++r){var S=s[r].s;if(v[S]>e)P+=b-(1<<C-v[S]),v[S]=e;else break}for(P>>=U;P>0;){var F=s[r].s;v[F]<e?P-=1<<e-v[F]++-1:++r}for(;r>=0&&P;--r){var W=s[r].s;v[W]==e&&(--v[W],++P)}C=e}return{t:new wr(v),l:C}},q1=function(t,e,n){return t.s==-1?Math.max(q1(t.l,e,n+1),q1(t.r,e,n+1)):e[t.s]=n},Jy=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new li(++e),r=0,i=t[0],s=1,o=function(l){n[r++]=l},a=1;a<=e;++a)if(t[a]==i&&a!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(i),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(i);s=1,i=t[a]}return{c:n.subarray(0,r),n:e}},Kc=function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},ab=function(t,e,n){var r=n.length,i=F0(e+2);t[i]=r&255,t[i+1]=r>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var s=0;s<r;++s)t[i+s+4]=n[s];return(i+4+r)*8},Xy=function(t,e,n,r,i,s,o,a,l,h,p){eo(e,p++,n),++i[256];for(var g=fg(i,15),_=g.t,v=g.l,C=fg(s,15),P=C.t,U=C.l,b=Jy(_),S=b.c,F=b.n,W=Jy(P),Z=W.c,ae=W.n,R=new li(19),E=0;E<S.length;++E)++R[S[E]&31];for(var E=0;E<Z.length;++E)++R[Z[E]&31];for(var O=fg(R,7),B=O.t,I=O.l,T=19;T>4&&!B[B1[T-1]];--T);var N=h+5<<3,Q=Kc(i,Da)+Kc(s,Gh)+o,ve=Kc(i,_)+Kc(s,P)+o+14+3*T+Kc(R,B)+2*R[16]+3*R[17]+7*R[18];if(l>=0&&N<=Q&&N<=ve)return ab(e,p,t.subarray(l,l+h));var me,ye,Y,le;if(eo(e,p,1+(ve<Q)),p+=2,ve<Q){me=Ls(_,v,0),ye=_,Y=Ls(P,U,0),le=P;var ce=Ls(B,I,0);eo(e,p,F-257),eo(e,p+5,ae-1),eo(e,p+10,T-4),p+=14;for(var E=0;E<T;++E)eo(e,p+3*E,B[B1[E]]);p+=3*T;for(var Ce=[S,Z],L=0;L<2;++L)for(var q=Ce[L],E=0;E<q.length;++E){var G=q[E]&31;eo(e,p,ce[G]),p+=B[G],G>15&&(eo(e,p,q[E]>>5&127),p+=q[E]>>12)}}else me=XC,ye=Da,Y=eL,le=Gh;for(var E=0;E<a;++E){var J=r[E];if(J>255){var G=J>>18&31;Gc(e,p,me[G+257]),p+=ye[G+257],G>7&&(eo(e,p,J>>23&31),p+=om[G]);var ne=J&31;Gc(e,p,Y[ne]),p+=le[ne],ne>3&&(Gc(e,p,J>>5&8191),p+=am[ne])}else Gc(e,p,me[J]),p+=ye[J]}return Gc(e,p,me[256]),p+ye[256]},iL=new D0([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),lb=new wr(0),sL=function(t,e,n,r,i,s){var o=s.z||t.length,a=new wr(r+o+5*(1+Math.ceil(o/7e3))+i),l=a.subarray(r,a.length-i),h=s.l,p=(s.r||0)&7;if(e){p&&(l[0]=s.r>>3);for(var g=iL[e-1],_=g>>13,v=g&8191,C=(1<<n)-1,P=s.p||new li(32768),U=s.h||new li(C+1),b=Math.ceil(n/3),S=2*b,F=function(Ze){return(t[Ze]^t[Ze+1]<<b^t[Ze+2]<<S)&C},W=new D0(25e3),Z=new li(288),ae=new li(32),R=0,E=0,O=s.i||0,B=0,I=s.w||0,T=0;O+2<o;++O){var N=F(O),Q=O&32767,ve=U[N];if(P[Q]=ve,U[N]=Q,I<=O){var me=o-O;if((R>7e3||B>24576)&&(me>423||!h)){p=Xy(t,l,0,W,Z,ae,E,B,T,O-T,p),B=R=E=0,T=O;for(var ye=0;ye<286;++ye)Z[ye]=0;for(var ye=0;ye<30;++ye)ae[ye]=0}var Y=2,le=0,ce=v,Ce=Q-ve&32767;if(me>2&&N==F(O-Ce))for(var L=Math.min(_,me)-1,q=Math.min(32767,O),G=Math.min(258,me);Ce<=q&&--ce&&Q!=ve;){if(t[O+Y]==t[O+Y-Ce]){for(var J=0;J<G&&t[O+J]==t[O+J-Ce];++J);if(J>Y){if(Y=J,le=Ce,J>L)break;for(var ne=Math.min(Ce,J-2),ue=0,ye=0;ye<ne;++ye){var pe=O-Ce+ye&32767,ge=P[pe],Oe=pe-ge&32767;Oe>ue&&(ue=Oe,ve=pe)}}}Q=ve,ve=P[Q],Ce+=Q-ve&32767}if(le){W[B++]=268435456|U1[Y]<<18|Yy[le];var ke=U1[Y]&31,Ve=Yy[le]&31;E+=om[ke]+am[Ve],++Z[257+ke],++ae[Ve],I=O+Y,++R}else W[B++]=t[O],++Z[t[O]]}}for(O=Math.max(O,I);O<o;++O)W[B++]=t[O],++Z[t[O]];p=Xy(t,l,h,W,Z,ae,E,B,T,O-T,p),h||(s.r=p&7|l[p/8|0]<<3,p-=7,s.h=U,s.p=P,s.i=O,s.w=I)}else{for(var O=s.w||0;O<o+h;O+=65535){var Fe=O+65535;Fe>=o&&(l[p/8|0]=h,Fe=o),p=ab(l,p+1,t.subarray(O,Fe))}s.i=o}return ob(a,0,r+F0(p)+i)},ub=function(){var t=1,e=0;return{p:function(n){for(var r=t,i=e,s=n.length|0,o=0;o!=s;){for(var a=Math.min(o+2655,s);o<a;++o)i+=r+=n[o];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}t=r,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},oL=function(t,e,n,r,i){if(!i&&(i={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),o=new wr(s.length+t.length);o.set(s),o.set(t,s.length),t=o,i.w=s.length}return sL(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,n,r,i)},cb=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},aL=function(t,e){var n=e.level,r=n==0?0:n<6?1:n==9?3:2;if(t[0]=120,t[1]=r<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=ub();i.p(e.dictionary),cb(t,2,i.d())}},lL=function(t,e){return((t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31)&&Gi(6,"invalid zlib data"),(t[1]>>5&1)==1&&Gi(6,"invalid zlib data: "+(t[1]&32?"need":"unexpected")+" dictionary"),(t[1]>>3&4)+2};function $1(t,e){e||(e={});var n=ub();n.p(t);var r=oL(t,e,e.dictionary?6:2,4);return aL(r,e),cb(r,r.length-4,n.d()),r}function uL(t,e){return rL(t.subarray(lL(t),-4),{i:2},e,e)}var cL=typeof TextDecoder<"u"&&new TextDecoder,hL=0;try{cL.decode(lb,{stream:!0}),hL=1}catch{}var ot=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function dg(){ot.console&&typeof ot.console.log=="function"&&ot.console.log.apply(ot.console,arguments)}var Gt={log:dg,warn:function(t){ot.console&&(typeof ot.console.warn=="function"?ot.console.warn.apply(ot.console,arguments):dg.call(null,arguments))},error:function(t){ot.console&&(typeof ot.console.error=="function"?ot.console.error.apply(ot.console,arguments):dg(t))}};function pg(t,e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){fl(r.response,e,n)},r.onerror=function(){Gt.error("could not download file")},r.send()}function Zy(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function id(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var wh,H1,fl=ot.saveAs||((typeof window>"u"?"undefined":zt(window))!=="object"||window!==ot?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var r=ot.URL||ot.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?Zy(i.href)?pg(t,e,n):id(i,i.target="_blank"):id(i)):(i.href=r.createObjectURL(t),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){id(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download",typeof t=="string")if(Zy(t))pg(t,e,n);else{var r=document.createElement("a");r.href=t,r.target="_blank",setTimeout(function(){id(r)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:zt(s)!=="object"&&(Gt.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(t,n),e)}:function(t,e,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof t=="string")return pg(t,e,n);var i=t.type==="application/octet-stream",s=/constructor/i.test(ot.HTMLElement)||ot.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&s)&&(typeof FileReader>"u"?"undefined":zt(FileReader))==="object"){var a=new FileReader;a.onloadend=function(){var p=a.result;p=o?p:p.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=p:location=p,r=null},a.readAsDataURL(t)}else{var l=ot.URL||ot.webkitURL,h=l.createObjectURL(t);r?r.location=h:location.href=h,r=null,setTimeout(function(){l.revokeObjectURL(h)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function hb(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,s=n[r].process,o=i.exec(t);o&&(e=s(o),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var a=this.r.toString(16),l=this.g.toString(16),h=this.b.toString(16);return a.length==1&&(a="0"+a),l.length==1&&(l="0"+l),h.length==1&&(h="0"+h),"#"+a+l+h}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function mg(t,e){var n=t[0],r=t[1],i=t[2],s=t[3];n=dr(n,r,i,s,e[0],7,-680876936),s=dr(s,n,r,i,e[1],12,-389564586),i=dr(i,s,n,r,e[2],17,606105819),r=dr(r,i,s,n,e[3],22,-1044525330),n=dr(n,r,i,s,e[4],7,-176418897),s=dr(s,n,r,i,e[5],12,1200080426),i=dr(i,s,n,r,e[6],17,-1473231341),r=dr(r,i,s,n,e[7],22,-45705983),n=dr(n,r,i,s,e[8],7,1770035416),s=dr(s,n,r,i,e[9],12,-1958414417),i=dr(i,s,n,r,e[10],17,-42063),r=dr(r,i,s,n,e[11],22,-1990404162),n=dr(n,r,i,s,e[12],7,1804603682),s=dr(s,n,r,i,e[13],12,-40341101),i=dr(i,s,n,r,e[14],17,-1502002290),n=pr(n,r=dr(r,i,s,n,e[15],22,1236535329),i,s,e[1],5,-165796510),s=pr(s,n,r,i,e[6],9,-1069501632),i=pr(i,s,n,r,e[11],14,643717713),r=pr(r,i,s,n,e[0],20,-373897302),n=pr(n,r,i,s,e[5],5,-701558691),s=pr(s,n,r,i,e[10],9,38016083),i=pr(i,s,n,r,e[15],14,-660478335),r=pr(r,i,s,n,e[4],20,-405537848),n=pr(n,r,i,s,e[9],5,568446438),s=pr(s,n,r,i,e[14],9,-1019803690),i=pr(i,s,n,r,e[3],14,-187363961),r=pr(r,i,s,n,e[8],20,1163531501),n=pr(n,r,i,s,e[13],5,-1444681467),s=pr(s,n,r,i,e[2],9,-51403784),i=pr(i,s,n,r,e[7],14,1735328473),n=mr(n,r=pr(r,i,s,n,e[12],20,-1926607734),i,s,e[5],4,-378558),s=mr(s,n,r,i,e[8],11,-2022574463),i=mr(i,s,n,r,e[11],16,1839030562),r=mr(r,i,s,n,e[14],23,-35309556),n=mr(n,r,i,s,e[1],4,-1530992060),s=mr(s,n,r,i,e[4],11,1272893353),i=mr(i,s,n,r,e[7],16,-155497632),r=mr(r,i,s,n,e[10],23,-1094730640),n=mr(n,r,i,s,e[13],4,681279174),s=mr(s,n,r,i,e[0],11,-358537222),i=mr(i,s,n,r,e[3],16,-722521979),r=mr(r,i,s,n,e[6],23,76029189),n=mr(n,r,i,s,e[9],4,-640364487),s=mr(s,n,r,i,e[12],11,-421815835),i=mr(i,s,n,r,e[15],16,530742520),n=gr(n,r=mr(r,i,s,n,e[2],23,-995338651),i,s,e[0],6,-198630844),s=gr(s,n,r,i,e[7],10,1126891415),i=gr(i,s,n,r,e[14],15,-1416354905),r=gr(r,i,s,n,e[5],21,-57434055),n=gr(n,r,i,s,e[12],6,1700485571),s=gr(s,n,r,i,e[3],10,-1894986606),i=gr(i,s,n,r,e[10],15,-1051523),r=gr(r,i,s,n,e[1],21,-2054922799),n=gr(n,r,i,s,e[8],6,1873313359),s=gr(s,n,r,i,e[15],10,-30611744),i=gr(i,s,n,r,e[6],15,-1560198380),r=gr(r,i,s,n,e[13],21,1309151649),n=gr(n,r,i,s,e[4],6,-145523070),s=gr(s,n,r,i,e[11],10,-1120210379),i=gr(i,s,n,r,e[2],15,718787259),r=gr(r,i,s,n,e[9],21,-343485551),t[0]=ha(n,t[0]),t[1]=ha(r,t[1]),t[2]=ha(i,t[2]),t[3]=ha(s,t[3])}function lm(t,e,n,r,i,s){return e=ha(ha(e,t),ha(r,s)),ha(e<<i|e>>>32-i,n)}function dr(t,e,n,r,i,s,o){return lm(e&n|~e&r,t,e,i,s,o)}function pr(t,e,n,r,i,s,o){return lm(e&r|n&~r,t,e,i,s,o)}function mr(t,e,n,r,i,s,o){return lm(e^n^r,t,e,i,s,o)}function gr(t,e,n,r,i,s,o){return lm(n^(e|~r),t,e,i,s,o)}function fb(t){var e,n=t.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)mg(r,fL(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(mg(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*n,mg(r,i),r}function fL(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}wh=ot.atob.bind(ot),H1=ot.btoa.bind(ot);var e_="0123456789abcdef".split("");function dL(t){for(var e="",n=0;n<4;n++)e+=e_[t>>8*n+4&15]+e_[t>>8*n&15];return e}function pL(t){return String.fromCharCode((255&t)>>0,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function W1(t){return fb(t).map(pL).join("")}var mL=function(t){for(var e=0;e<t.length;e++)t[e]=dL(t[e]);return t.join("")}(fb("hello"))!="5d41402abc4b2a76b9719d911017c592";function ha(t,e){if(mL){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function G1(t,e){var n,r,i,s;if(t!==n){for(var o=(i=t,s=1+(256/t.length>>0),new Array(s+1).join(i)),a=[],l=0;l<256;l++)a[l]=l;var h=0;for(l=0;l<256;l++){var p=a[l];h=(h+p+o.charCodeAt(l))%256,a[l]=a[h],a[h]=p}n=t,r=a}else a=r;var g=e.length,_=0,v=0,C="";for(l=0;l<g;l++)v=(v+(p=a[_=(_+1)%256]))%256,a[_]=a[v],a[v]=p,o=a[(a[_]+a[v])%256],C+=String.fromCharCode(e.charCodeAt(l)^o);return C}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var t_={print:4,modify:8,copy:16,"annot-forms":32};function _u(t,e,n,r){this.v=1,this.r=2;var i=192;t.forEach(function(a){if(t_.perm!==void 0)throw new Error("Invalid permission: "+a);i+=t_[a]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(e+this.padding).substr(0,32),o=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,o),this.P=-(1+(255^i)),this.encryptionKey=W1(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=G1(this.encryptionKey,this.padding)}function wu(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,r=0;r<n;r++){var i=t.charCodeAt(r);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?e+="#"+("0"+i.toString(16)).slice(-2):e+=t[r]}return e}function n_(t){if(zt(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,r,i){if(i=i||!1,typeof n!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var s=Math.random().toString(35);return e[n][s]=[r,!!i],s},this.unsubscribe=function(n){for(var r in e)if(e[r][n])return delete e[r][n],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[n]){var o=e[n][s];try{o[0].apply(t,r)}catch(a){ot.console&&Gt.error("jsPDF PubSub Error",a.message,a)}o[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Sp(t){if(!(this instanceof Sp))return new Sp(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function db(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function dl(t,e,n,r,i){if(!(this instanceof dl))return new dl(t,e,n,r,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=n,db.call(this,r,i)}function Ru(t,e,n,r,i){if(!(this instanceof Ru))return new Ru(t,e,n,r,i);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,db.call(this,r,i)}function it(t){var e,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],s=arguments[3],o=[],a=1,l=16,h="S",p=null;zt(t=t||{})==="object"&&(n=t.orientation,r=t.unit||r,i=t.format||i,s=t.compress||t.compressPdf||s,(p=t.encryption||null)!==null&&(p.userPassword=p.userPassword||"",p.ownerPassword=p.ownerPassword||"",p.userPermissions=p.userPermissions||[]),a=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(l=t.floatPrecision),h=t.defaultPathOperation||"S"),o=t.filters||(s===!0?["FlateEncode"]:o),r=r||"mm",n=(""+(n||"P")).toLowerCase();var g=t.putOnlyUsedFonts||!1,_={},v={internal:{},__private__:{}};v.__private__.PubSub=n_;var C="1.3",P=v.__private__.getPdfVersion=function(){return C};v.__private__.setPdfVersion=function(d){C=d};var U={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};v.__private__.getPageFormats=function(){return U};var b=v.__private__.getPageFormat=function(d){return U[d]};i=i||"a4";var S={COMPAT:"compat",ADVANCED:"advanced"},F=S.COMPAT;function W(){this.saveGraphicsState(),K(new We(qe,0,0,-qe,0,ur()*qe).toString()+" cm"),this.setFontSize(this.getFontSize()/qe),h="n",F=S.ADVANCED}function Z(){this.restoreGraphicsState(),h="S",F=S.COMPAT}var ae=v.__private__.combineFontStyleAndFontWeight=function(d,x){if(d=="bold"&&x=="normal"||d=="bold"&&x==400||d=="normal"&&x=="italic"||d=="bold"&&x=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return x&&(d=x==400||x==="normal"?d==="italic"?"italic":"normal":x!=700&&x!=="bold"||d!=="normal"?(x==700?"bold":x)+""+d:"bold"),d};v.advancedAPI=function(d){var x=F===S.COMPAT;return x&&W.call(this),typeof d!="function"||(d(this),x&&Z.call(this)),this},v.compatAPI=function(d){var x=F===S.ADVANCED;return x&&Z.call(this),typeof d!="function"||(d(this),x&&W.call(this)),this},v.isAdvancedAPI=function(){return F===S.ADVANCED};var R,E=function(d){if(F!==S.ADVANCED)throw new Error(d+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},O=v.roundToPrecision=v.__private__.roundToPrecision=function(d,x){var H=e||x;if(isNaN(d)||isNaN(H))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return d.toFixed(H).replace(/0+$/,"")};R=v.hpf=v.__private__.hpf=typeof l=="number"?function(d){if(isNaN(d))throw new Error("Invalid argument passed to jsPDF.hpf");return O(d,l)}:l==="smart"?function(d){if(isNaN(d))throw new Error("Invalid argument passed to jsPDF.hpf");return O(d,d>-1&&d<1?16:5)}:function(d){if(isNaN(d))throw new Error("Invalid argument passed to jsPDF.hpf");return O(d,16)};var B=v.f2=v.__private__.f2=function(d){if(isNaN(d))throw new Error("Invalid argument passed to jsPDF.f2");return O(d,2)},I=v.__private__.f3=function(d){if(isNaN(d))throw new Error("Invalid argument passed to jsPDF.f3");return O(d,3)},T=v.scale=v.__private__.scale=function(d){if(isNaN(d))throw new Error("Invalid argument passed to jsPDF.scale");return F===S.COMPAT?d*qe:F===S.ADVANCED?d:void 0},N=function(d){return F===S.COMPAT?ur()-d:F===S.ADVANCED?d:void 0},Q=function(d){return T(N(d))};v.__private__.setPrecision=v.setPrecision=function(d){typeof parseInt(d,10)=="number"&&(e=parseInt(d,10))};var ve,me="00000000000000000000000000000000",ye=v.__private__.getFileId=function(){return me},Y=v.__private__.setFileId=function(d){return me=d!==void 0&&/^[a-fA-F0-9]{32}$/.test(d)?d.toUpperCase():me.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),p!==null&&(tn=new _u(p.userPermissions,p.userPassword,p.ownerPassword,me)),me};v.setFileId=function(d){return Y(d),this},v.getFileId=function(){return ye()};var le=v.__private__.convertDateToPDFDate=function(d){var x=d.getTimezoneOffset(),H=x<0?"+":"-",X=Math.floor(Math.abs(x/60)),se=Math.abs(x%60),we=[H,G(X),"'",G(se),"'"].join("");return["D:",d.getFullYear(),G(d.getMonth()+1),G(d.getDate()),G(d.getHours()),G(d.getMinutes()),G(d.getSeconds()),we].join("")},ce=v.__private__.convertPDFDateToDate=function(d){var x=parseInt(d.substr(2,4),10),H=parseInt(d.substr(6,2),10)-1,X=parseInt(d.substr(8,2),10),se=parseInt(d.substr(10,2),10),we=parseInt(d.substr(12,2),10),Pe=parseInt(d.substr(14,2),10);return new Date(x,H,X,se,we,Pe,0)},Ce=v.__private__.setCreationDate=function(d){var x;if(d===void 0&&(d=new Date),d instanceof Date)x=le(d);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(d))throw new Error("Invalid argument passed to jsPDF.setCreationDate");x=d}return ve=x},L=v.__private__.getCreationDate=function(d){var x=ve;return d==="jsDate"&&(x=ce(ve)),x};v.setCreationDate=function(d){return Ce(d),this},v.getCreationDate=function(d){return L(d)};var q,G=v.__private__.padd2=function(d){return("0"+parseInt(d)).slice(-2)},J=v.__private__.padd2Hex=function(d){return("00"+(d=d.toString())).substr(d.length)},ne=0,ue=[],pe=[],ge=0,Oe=[],ke=[],Ve=!1,Fe=pe,Ze=function(){ne=0,ge=0,pe=[],ue=[],Oe=[],Li=pn(),lr=pn()};v.__private__.setCustomOutputDestination=function(d){Ve=!0,Fe=d};var Ae=function(d){Ve||(Fe=d)};v.__private__.resetCustomOutputDestination=function(){Ve=!1,Fe=pe};var K=v.__private__.out=function(d){return d=d.toString(),ge+=d.length+1,Fe.push(d),Fe},ht=v.__private__.write=function(d){return K(arguments.length===1?d.toString():Array.prototype.join.call(arguments," "))},Qe=v.__private__.getArrayBuffer=function(d){for(var x=d.length,H=new ArrayBuffer(x),X=new Uint8Array(H);x--;)X[x]=d.charCodeAt(x);return H},Le=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];v.__private__.getStandardFonts=function(){return Le};var De=t.fontSize||16;v.__private__.setFontSize=v.setFontSize=function(d){return De=F===S.ADVANCED?d/qe:d,this};var ze,Be=v.__private__.getFontSize=v.getFontSize=function(){return F===S.COMPAT?De:De*qe},Ye=t.R2L||!1;v.__private__.setR2L=v.setR2L=function(d){return Ye=d,this},v.__private__.getR2L=v.getR2L=function(){return Ye};var ut,dt=v.__private__.setZoomMode=function(d){var x=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(d))ze=d;else if(isNaN(d)){if(x.indexOf(d)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+d+'" is not recognized.');ze=d}else ze=parseInt(d,10)};v.__private__.getZoomMode=function(){return ze};var Xe,st=v.__private__.setPageMode=function(d){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(d)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+d+'" is not recognized.');ut=d};v.__private__.getPageMode=function(){return ut};var kt=v.__private__.setLayoutMode=function(d){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(d)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+d+'" is not recognized.');Xe=d};v.__private__.getLayoutMode=function(){return Xe},v.__private__.setDisplayMode=v.setDisplayMode=function(d,x,H){return dt(d),kt(x),st(H),this};var rt={title:"",subject:"",author:"",keywords:"",creator:""};v.__private__.getDocumentProperty=function(d){if(Object.keys(rt).indexOf(d)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return rt[d]},v.__private__.getDocumentProperties=function(){return rt},v.__private__.setDocumentProperties=v.setProperties=v.setDocumentProperties=function(d){for(var x in rt)rt.hasOwnProperty(x)&&d[x]&&(rt[x]=d[x]);return this},v.__private__.setDocumentProperty=function(d,x){if(Object.keys(rt).indexOf(d)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return rt[d]=x};var wt,qe,dn,Pt,Dr,Ot={},Kt={},di=[],Nt={},ss={},Zt={},Qn={},Yr=null,Qt=0,tt=[],Ct=new n_(v),pi=t.hotfixes||[],Nn={},or={},Jr=[],We=function d(x,H,X,se,we,Pe){if(!(this instanceof d))return new d(x,H,X,se,we,Pe);isNaN(x)&&(x=1),isNaN(H)&&(H=0),isNaN(X)&&(X=0),isNaN(se)&&(se=1),isNaN(we)&&(we=0),isNaN(Pe)&&(Pe=0),this._matrix=[x,H,X,se,we,Pe]};Object.defineProperty(We.prototype,"sx",{get:function(){return this._matrix[0]},set:function(d){this._matrix[0]=d}}),Object.defineProperty(We.prototype,"shy",{get:function(){return this._matrix[1]},set:function(d){this._matrix[1]=d}}),Object.defineProperty(We.prototype,"shx",{get:function(){return this._matrix[2]},set:function(d){this._matrix[2]=d}}),Object.defineProperty(We.prototype,"sy",{get:function(){return this._matrix[3]},set:function(d){this._matrix[3]=d}}),Object.defineProperty(We.prototype,"tx",{get:function(){return this._matrix[4]},set:function(d){this._matrix[4]=d}}),Object.defineProperty(We.prototype,"ty",{get:function(){return this._matrix[5]},set:function(d){this._matrix[5]=d}}),Object.defineProperty(We.prototype,"a",{get:function(){return this._matrix[0]},set:function(d){this._matrix[0]=d}}),Object.defineProperty(We.prototype,"b",{get:function(){return this._matrix[1]},set:function(d){this._matrix[1]=d}}),Object.defineProperty(We.prototype,"c",{get:function(){return this._matrix[2]},set:function(d){this._matrix[2]=d}}),Object.defineProperty(We.prototype,"d",{get:function(){return this._matrix[3]},set:function(d){this._matrix[3]=d}}),Object.defineProperty(We.prototype,"e",{get:function(){return this._matrix[4]},set:function(d){this._matrix[4]=d}}),Object.defineProperty(We.prototype,"f",{get:function(){return this._matrix[5]},set:function(d){this._matrix[5]=d}}),Object.defineProperty(We.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(We.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(We.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(We.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),We.prototype.join=function(d){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(R).join(d)},We.prototype.multiply=function(d){var x=d.sx*this.sx+d.shy*this.shx,H=d.sx*this.shy+d.shy*this.sy,X=d.shx*this.sx+d.sy*this.shx,se=d.shx*this.shy+d.sy*this.sy,we=d.tx*this.sx+d.ty*this.shx+this.tx,Pe=d.tx*this.shy+d.ty*this.sy+this.ty;return new We(x,H,X,se,we,Pe)},We.prototype.decompose=function(){var d=this.sx,x=this.shy,H=this.shx,X=this.sy,se=this.tx,we=this.ty,Pe=Math.sqrt(d*d+x*x),je=(d/=Pe)*H+(x/=Pe)*X;H-=d*je,X-=x*je;var c=Math.sqrt(H*H+X*X);return je/=c,d*(X/=c)<x*(H/=c)&&(d=-d,x=-x,je=-je,Pe=-Pe),{scale:new We(Pe,0,0,c,0,0),translate:new We(1,0,0,1,se,we),rotate:new We(d,x,-x,d,0,0),skew:new We(1,0,je,1,0,0)}},We.prototype.toString=function(d){return this.join(" ")},We.prototype.inversed=function(){var d=this.sx,x=this.shy,H=this.shx,X=this.sy,se=this.tx,we=this.ty,Pe=1/(d*X-x*H),je=X*Pe,c=-x*Pe,y=-H*Pe,A=d*Pe;return new We(je,c,y,A,-je*se-y*we,-c*se-A*we)},We.prototype.applyToPoint=function(d){var x=d.x*this.sx+d.y*this.shx+this.tx,H=d.x*this.shy+d.y*this.sy+this.ty;return new Hs(x,H)},We.prototype.applyToRectangle=function(d){var x=this.applyToPoint(d),H=this.applyToPoint(new Hs(d.x+d.w,d.y+d.h));return new Do(x.x,x.y,H.x-x.x,H.y-x.y)},We.prototype.clone=function(){var d=this.sx,x=this.shy,H=this.shx,X=this.sy,se=this.tx,we=this.ty;return new We(d,x,H,X,se,we)},v.Matrix=We;var Fr=v.matrixMult=function(d,x){return x.multiply(d)},ar=new We(1,0,0,1,0,0);v.unitMatrix=v.identityMatrix=ar;var xn=function(d,x){if(!ss[d]){var H=(x instanceof dl?"Sh":"P")+(Object.keys(Nt).length+1).toString(10);x.id=H,ss[d]=H,Nt[H]=x,Ct.publish("addPattern",x)}};v.ShadingPattern=dl,v.TilingPattern=Ru,v.addShadingPattern=function(d,x){return E("addShadingPattern()"),xn(d,x),this},v.beginTilingPattern=function(d){E("beginTilingPattern()"),Fo(d.boundingBox[0],d.boundingBox[1],d.boundingBox[2]-d.boundingBox[0],d.boundingBox[3]-d.boundingBox[1],d.matrix)},v.endTilingPattern=function(d,x){E("endTilingPattern()"),x.stream=ke[q].join(`
`),xn(d,x),Ct.publish("endTilingPattern",x),Jr.pop().restore()};var _n=v.__private__.newObject=function(){var d=pn();return kn(d,!0),d},pn=v.__private__.newObjectDeferred=function(){return ne++,ue[ne]=function(){return ge},ne},kn=function(d,x){return x=typeof x=="boolean"&&x,ue[d]=ge,x&&K(d+" 0 obj"),d},Ao=v.__private__.newAdditionalObject=function(){var d={objId:pn(),content:""};return Oe.push(d),d},Li=pn(),lr=pn(),Mr=v.__private__.decodeColorString=function(d){var x=d.split(" ");if(x.length!==2||x[1]!=="g"&&x[1]!=="G")x.length===5&&(x[4]==="k"||x[4]==="K")&&(x=[(1-x[0])*(1-x[3]),(1-x[1])*(1-x[3]),(1-x[2])*(1-x[3]),"r"]);else{var H=parseFloat(x[0]);x=[H,H,H,"r"]}for(var X="#",se=0;se<3;se++)X+=("0"+Math.floor(255*parseFloat(x[se])).toString(16)).slice(-2);return X},Sr=v.__private__.encodeColorString=function(d){var x;typeof d=="string"&&(d={ch1:d});var H=d.ch1,X=d.ch2,se=d.ch3,we=d.ch4,Pe=d.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof H=="string"&&H.charAt(0)!=="#"){var je=new hb(H);if(je.ok)H=je.toHex();else if(!/^\d*\.?\d*$/.test(H))throw new Error('Invalid color "'+H+'" passed to jsPDF.encodeColorString.')}if(typeof H=="string"&&/^#[0-9A-Fa-f]{3}$/.test(H)&&(H="#"+H[1]+H[1]+H[2]+H[2]+H[3]+H[3]),typeof H=="string"&&/^#[0-9A-Fa-f]{6}$/.test(H)){var c=parseInt(H.substr(1),16);H=c>>16&255,X=c>>8&255,se=255&c}if(X===void 0||we===void 0&&H===X&&X===se)if(typeof H=="string")x=H+" "+Pe[0];else switch(d.precision){case 2:x=B(H/255)+" "+Pe[0];break;case 3:default:x=I(H/255)+" "+Pe[0]}else if(we===void 0||zt(we)==="object"){if(we&&!isNaN(we.a)&&we.a===0)return x=["1.","1.","1.",Pe[1]].join(" ");if(typeof H=="string")x=[H,X,se,Pe[1]].join(" ");else switch(d.precision){case 2:x=[B(H/255),B(X/255),B(se/255),Pe[1]].join(" ");break;default:case 3:x=[I(H/255),I(X/255),I(se/255),Pe[1]].join(" ")}}else if(typeof H=="string")x=[H,X,se,we,Pe[2]].join(" ");else switch(d.precision){case 2:x=[B(H),B(X),B(se),B(we),Pe[2]].join(" ");break;case 3:default:x=[I(H),I(X),I(se),I(we),Pe[2]].join(" ")}return x},Ir=v.__private__.getFilters=function(){return o},wn=v.__private__.putStream=function(d){var x=(d=d||{}).data||"",H=d.filters||Ir(),X=d.alreadyAppliedFilters||[],se=d.addLength1||!1,we=x.length,Pe=d.objectId,je=function(pt){return pt};if(p!==null&&Pe===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");p!==null&&(je=tn.encryptor(Pe,0));var c={};H===!0&&(H=["FlateEncode"]);var y=d.additionalKeyValues||[],A=(c=it.API.processDataByFilters!==void 0?it.API.processDataByFilters(x,H):{data:x,reverseChain:[]}).reverseChain+(Array.isArray(X)?X.join(" "):X.toString());if(c.data.length!==0&&(y.push({key:"Length",value:c.data.length}),se===!0&&y.push({key:"Length1",value:we})),A.length!=0)if(A.split("/").length-1==1)y.push({key:"Filter",value:A});else{y.push({key:"Filter",value:"["+A+"]"});for(var V=0;V<y.length;V+=1)if(y[V].key==="DecodeParms"){for(var ie=[],de=0;de<c.reverseChain.split("/").length-1;de+=1)ie.push("null");ie.push(y[V].value),y[V].value="["+ie.join(" ")+"]"}}K("<<");for(var Ne=0;Ne<y.length;Ne++)K("/"+y[Ne].key+" "+y[Ne].value);K(">>"),c.data.length!==0&&(K("stream"),K(je(c.data)),K("endstream"))},Xr=v.__private__.putPage=function(d){var x=d.number,H=d.data,X=d.objId,se=d.contentsObjId;kn(X,!0),K("<</Type /Page"),K("/Parent "+d.rootDictionaryObjId+" 0 R"),K("/Resources "+d.resourceDictionaryObjId+" 0 R"),K("/MediaBox ["+parseFloat(R(d.mediaBox.bottomLeftX))+" "+parseFloat(R(d.mediaBox.bottomLeftY))+" "+R(d.mediaBox.topRightX)+" "+R(d.mediaBox.topRightY)+"]"),d.cropBox!==null&&K("/CropBox ["+R(d.cropBox.bottomLeftX)+" "+R(d.cropBox.bottomLeftY)+" "+R(d.cropBox.topRightX)+" "+R(d.cropBox.topRightY)+"]"),d.bleedBox!==null&&K("/BleedBox ["+R(d.bleedBox.bottomLeftX)+" "+R(d.bleedBox.bottomLeftY)+" "+R(d.bleedBox.topRightX)+" "+R(d.bleedBox.topRightY)+"]"),d.trimBox!==null&&K("/TrimBox ["+R(d.trimBox.bottomLeftX)+" "+R(d.trimBox.bottomLeftY)+" "+R(d.trimBox.topRightX)+" "+R(d.trimBox.topRightY)+"]"),d.artBox!==null&&K("/ArtBox ["+R(d.artBox.bottomLeftX)+" "+R(d.artBox.bottomLeftY)+" "+R(d.artBox.topRightX)+" "+R(d.artBox.topRightY)+"]"),typeof d.userUnit=="number"&&d.userUnit!==1&&K("/UserUnit "+d.userUnit),Ct.publish("putPage",{objId:X,pageContext:tt[x],pageNumber:x,page:H}),K("/Contents "+se+" 0 R"),K(">>"),K("endobj");var we=H.join(`
`);return F===S.ADVANCED&&(we+=`
Q`),kn(se,!0),wn({data:we,filters:Ir(),objectId:se}),K("endobj"),X},os=v.__private__.putPages=function(){var d,x,H=[];for(d=1;d<=Qt;d++)tt[d].objId=pn(),tt[d].contentsObjId=pn();for(d=1;d<=Qt;d++)H.push(Xr({number:d,data:ke[d],objId:tt[d].objId,contentsObjId:tt[d].contentsObjId,mediaBox:tt[d].mediaBox,cropBox:tt[d].cropBox,bleedBox:tt[d].bleedBox,trimBox:tt[d].trimBox,artBox:tt[d].artBox,userUnit:tt[d].userUnit,rootDictionaryObjId:Li,resourceDictionaryObjId:lr}));kn(Li,!0),K("<</Type /Pages");var X="/Kids [";for(x=0;x<Qt;x++)X+=H[x]+" 0 R ";K(X+"]"),K("/Count "+Qt),K(">>"),K("endobj"),Ct.publish("postPutPages")},as=function(d){Ct.publish("putFont",{font:d,out:K,newObject:_n,putStream:wn}),d.isAlreadyPutted!==!0&&(d.objectNumber=_n(),K("<<"),K("/Type /Font"),K("/BaseFont /"+wu(d.postScriptName)),K("/Subtype /Type1"),typeof d.encoding=="string"&&K("/Encoding /"+d.encoding),K("/FirstChar 32"),K("/LastChar 255"),K(">>"),K("endobj"))},ls=function(){for(var d in Ot)Ot.hasOwnProperty(d)&&(g===!1||g===!0&&_.hasOwnProperty(d))&&as(Ot[d])},Fs=function(d){d.objectNumber=_n();var x=[];x.push({key:"Type",value:"/XObject"}),x.push({key:"Subtype",value:"/Form"}),x.push({key:"BBox",value:"["+[R(d.x),R(d.y),R(d.x+d.width),R(d.y+d.height)].join(" ")+"]"}),x.push({key:"Matrix",value:"["+d.matrix.toString()+"]"});var H=d.pages[1].join(`
`);wn({data:H,additionalKeyValues:x,objectId:d.objectNumber}),K("endobj")},Ms=function(){for(var d in Nn)Nn.hasOwnProperty(d)&&Fs(Nn[d])},zl=function(d,x){var H,X=[],se=1/(x-1);for(H=0;H<1;H+=se)X.push(H);if(X.push(1),d[0].offset!=0){var we={offset:0,color:d[0].color};d.unshift(we)}if(d[d.length-1].offset!=1){var Pe={offset:1,color:d[d.length-1].color};d.push(Pe)}for(var je="",c=0,y=0;y<X.length;y++){for(H=X[y];H>d[c+1].offset;)c++;var A=d[c].offset,V=(H-A)/(d[c+1].offset-A),ie=d[c].color,de=d[c+1].color;je+=J(Math.round((1-V)*ie[0]+V*de[0]).toString(16))+J(Math.round((1-V)*ie[1]+V*de[1]).toString(16))+J(Math.round((1-V)*ie[2]+V*de[2]).toString(16))}return je.trim()},bo=function(d,x){x||(x=21);var H=_n(),X=zl(d.colors,x),se=[];se.push({key:"FunctionType",value:"0"}),se.push({key:"Domain",value:"[0.0 1.0]"}),se.push({key:"Size",value:"["+x+"]"}),se.push({key:"BitsPerSample",value:"8"}),se.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),se.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),wn({data:X,additionalKeyValues:se,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:H}),K("endobj"),d.objectNumber=_n(),K("<< /ShadingType "+d.type),K("/ColorSpace /DeviceRGB");var we="/Coords ["+R(parseFloat(d.coords[0]))+" "+R(parseFloat(d.coords[1]))+" ";d.type===2?we+=R(parseFloat(d.coords[2]))+" "+R(parseFloat(d.coords[3])):we+=R(parseFloat(d.coords[2]))+" "+R(parseFloat(d.coords[3]))+" "+R(parseFloat(d.coords[4]))+" "+R(parseFloat(d.coords[5])),K(we+="]"),d.matrix&&K("/Matrix ["+d.matrix.toString()+"]"),K("/Function "+H+" 0 R"),K("/Extend [true true]"),K(">>"),K("endobj")},ql=function(d,x){var H=pn(),X=_n();x.push({resourcesOid:H,objectOid:X}),d.objectNumber=X;var se=[];se.push({key:"Type",value:"/Pattern"}),se.push({key:"PatternType",value:"1"}),se.push({key:"PaintType",value:"1"}),se.push({key:"TilingType",value:"1"}),se.push({key:"BBox",value:"["+d.boundingBox.map(R).join(" ")+"]"}),se.push({key:"XStep",value:R(d.xStep)}),se.push({key:"YStep",value:R(d.yStep)}),se.push({key:"Resources",value:H+" 0 R"}),d.matrix&&se.push({key:"Matrix",value:"["+d.matrix.toString()+"]"}),wn({data:d.stream,additionalKeyValues:se,objectId:d.objectNumber}),K("endobj")},us=function(d){var x;for(x in Nt)Nt.hasOwnProperty(x)&&(Nt[x]instanceof dl?bo(Nt[x]):Nt[x]instanceof Ru&&ql(Nt[x],d))},cs=function(d){for(var x in d.objectNumber=_n(),K("<<"),d)switch(x){case"opacity":K("/ca "+B(d[x]));break;case"stroke-opacity":K("/CA "+B(d[x]))}K(">>"),K("endobj")},Ri=function(){var d;for(d in Zt)Zt.hasOwnProperty(d)&&cs(Zt[d])},Vs=function(){for(var d in K("/XObject <<"),Nn)Nn.hasOwnProperty(d)&&Nn[d].objectNumber>=0&&K("/"+d+" "+Nn[d].objectNumber+" 0 R");Ct.publish("putXobjectDict"),K(">>")},Ac=function(){tn.oid=_n(),K("<<"),K("/Filter /Standard"),K("/V "+tn.v),K("/R "+tn.r),K("/U <"+tn.toHexString(tn.U)+">"),K("/O <"+tn.toHexString(tn.O)+">"),K("/P "+tn.P),K(">>"),K("endobj")},qa=function(){for(var d in K("/Font <<"),Ot)Ot.hasOwnProperty(d)&&(g===!1||g===!0&&_.hasOwnProperty(d))&&K("/"+d+" "+Ot[d].objectNumber+" 0 R");K(">>")},$l=function(){if(Object.keys(Nt).length>0){for(var d in K("/Shading <<"),Nt)Nt.hasOwnProperty(d)&&Nt[d]instanceof dl&&Nt[d].objectNumber>=0&&K("/"+d+" "+Nt[d].objectNumber+" 0 R");Ct.publish("putShadingPatternDict"),K(">>")}},js=function(d){if(Object.keys(Nt).length>0){for(var x in K("/Pattern <<"),Nt)Nt.hasOwnProperty(x)&&Nt[x]instanceof v.TilingPattern&&Nt[x].objectNumber>=0&&Nt[x].objectNumber<d&&K("/"+x+" "+Nt[x].objectNumber+" 0 R");Ct.publish("putTilingPatternDict"),K(">>")}},$a=function(){if(Object.keys(Zt).length>0){var d;for(d in K("/ExtGState <<"),Zt)Zt.hasOwnProperty(d)&&Zt[d].objectNumber>=0&&K("/"+d+" "+Zt[d].objectNumber+" 0 R");Ct.publish("putGStateDict"),K(">>")}},en=function(d){kn(d.resourcesOid,!0),K("<<"),K("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),qa(),$l(),js(d.objectOid),$a(),Vs(),K(">>"),K("endobj")},Ha=function(){var d=[];ls(),Ri(),Ms(),us(d),Ct.publish("putResources"),d.forEach(en),en({resourcesOid:lr,objectOid:Number.MAX_SAFE_INTEGER}),Ct.publish("postPutResources")},Wa=function(){Ct.publish("putAdditionalObjects");for(var d=0;d<Oe.length;d++){var x=Oe[d];kn(x.objId,!0),K(x.content),K("endobj")}Ct.publish("postPutAdditionalObjects")},Hl=function(d){Kt[d.fontName]=Kt[d.fontName]||{},Kt[d.fontName][d.fontStyle]=d.id},Ga=function(d,x,H,X,se){var we={id:"F"+(Object.keys(Ot).length+1).toString(10),postScriptName:d,fontName:x,fontStyle:H,encoding:X,isStandardFont:se||!1,metadata:{}};return Ct.publish("addFont",{font:we,instance:this}),Ot[we.id]=we,Hl(we),we.id},Wl=function(d){for(var x=0,H=Le.length;x<H;x++){var X=Ga.call(this,d[x][0],d[x][1],d[x][2],Le[x][3],!0);g===!1&&(_[X]=!0);var se=d[x][0].split("-");Hl({id:X,fontName:se[0],fontStyle:se[1]||""})}Ct.publish("addFonts",{fonts:Ot,dictionary:Kt})},Vr=function(d){return d.foo=function(){try{return d.apply(this,arguments)}catch(X){var x=X.stack||"";~x.indexOf(" at ")&&(x=x.split(" at ")[1]);var H="Error in function "+x.split(`
`)[0].split("<")[0]+": "+X.message;if(!ot.console)throw new Error(H);ot.console.error(H,X),ot.alert&&alert(H)}},d.foo.bar=d,d.foo},Eo=function(d,x){var H,X,se,we,Pe,je,c,y,A;if(se=(x=x||{}).sourceEncoding||"Unicode",Pe=x.outputEncoding,(x.autoencode||Pe)&&Ot[wt].metadata&&Ot[wt].metadata[se]&&Ot[wt].metadata[se].encoding&&(we=Ot[wt].metadata[se].encoding,!Pe&&Ot[wt].encoding&&(Pe=Ot[wt].encoding),!Pe&&we.codePages&&(Pe=we.codePages[0]),typeof Pe=="string"&&(Pe=we[Pe]),Pe)){for(c=!1,je=[],H=0,X=d.length;H<X;H++)(y=Pe[d.charCodeAt(H)])?je.push(String.fromCharCode(y)):je.push(d[H]),je[H].charCodeAt(0)>>8&&(c=!0);d=je.join("")}for(H=d.length;c===void 0&&H!==0;)d.charCodeAt(H-1)>>8&&(c=!0),H--;if(!c)return d;for(je=x.noBOM?[]:[254,255],H=0,X=d.length;H<X;H++){if((A=(y=d.charCodeAt(H))>>8)>>8)throw new Error("Character at position "+H+" of string '"+d+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");je.push(A),je.push(y-(A<<8))}return String.fromCharCode.apply(void 0,je)},mn=v.__private__.pdfEscape=v.pdfEscape=function(d,x){return Eo(d,x).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Tr=v.__private__.beginPage=function(d){ke[++Qt]=[],tt[Qt]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(d[0]),topRightY:Number(d[1])}},Ka(Qt),Ae(ke[q])},Bs=function(d,x){var H,X,se;switch(n=x||n,typeof d=="string"&&(H=b(d.toLowerCase()),Array.isArray(H)&&(X=H[0],se=H[1])),Array.isArray(d)&&(X=d[0]*qe,se=d[1]*qe),isNaN(X)&&(X=i[0],se=i[1]),(X>14400||se>14400)&&(Gt.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),X=Math.min(14400,X),se=Math.min(14400,se)),i=[X,se],n.substr(0,1)){case"l":se>X&&(i=[se,X]);break;case"p":X>se&&(i=[se,X])}Tr(i),Za(Xa),K(Yn),nl!==0&&K(nl+" J"),Oo!==0&&K(Oo+" j"),Ct.publish("addPage",{pageNumber:Qt})},So=function(d){d>0&&d<=Qt&&(ke.splice(d,1),tt.splice(d,1),Qt--,q>Qt&&(q=Qt),this.setPage(q))},Ka=function(d){d>0&&d<=Qt&&(q=d)},jt=v.__private__.getNumberOfPages=v.getNumberOfPages=function(){return ke.length-1},Us=function(d,x,H){var X,se=void 0;return H=H||{},d=d!==void 0?d:Ot[wt].fontName,x=x!==void 0?x:Ot[wt].fontStyle,X=d.toLowerCase(),Kt[X]!==void 0&&Kt[X][x]!==void 0?se=Kt[X][x]:Kt[d]!==void 0&&Kt[d][x]!==void 0?se=Kt[d][x]:H.disableWarning===!1&&Gt.warn("Unable to look up font label for font '"+d+"', '"+x+"'. Refer to getFontList() for available fonts."),se||H.noFallback||(se=Kt.times[x])==null&&(se=Kt.times.normal),se},zs=v.__private__.putInfo=function(){var d=_n(),x=function(X){return X};for(var H in p!==null&&(x=tn.encryptor(d,0)),K("<<"),K("/Producer ("+mn(x("jsPDF "+it.version))+")"),rt)rt.hasOwnProperty(H)&&rt[H]&&K("/"+H.substr(0,1).toUpperCase()+H.substr(1)+" ("+mn(x(rt[H]))+")");K("/CreationDate ("+mn(x(ve))+")"),K(">>"),K("endobj")},Oi=v.__private__.putCatalog=function(d){var x=(d=d||{}).rootDictionaryObjId||Li;switch(_n(),K("<<"),K("/Type /Catalog"),K("/Pages "+x+" 0 R"),ze||(ze="fullwidth"),ze){case"fullwidth":K("/OpenAction [3 0 R /FitH null]");break;case"fullheight":K("/OpenAction [3 0 R /FitV null]");break;case"fullpage":K("/OpenAction [3 0 R /Fit]");break;case"original":K("/OpenAction [3 0 R /XYZ null null 1]");break;default:var H=""+ze;H.substr(H.length-1)==="%"&&(ze=parseInt(ze)/100),typeof ze=="number"&&K("/OpenAction [3 0 R /XYZ null null "+B(ze)+"]")}switch(Xe||(Xe="continuous"),Xe){case"continuous":K("/PageLayout /OneColumn");break;case"single":K("/PageLayout /SinglePage");break;case"two":case"twoleft":K("/PageLayout /TwoColumnLeft");break;case"tworight":K("/PageLayout /TwoColumnRight")}ut&&K("/PageMode /"+ut),Ct.publish("putCatalog"),K(">>"),K("endobj")},bc=v.__private__.putTrailer=function(){K("trailer"),K("<<"),K("/Size "+(ne+1)),K("/Root "+ne+" 0 R"),K("/Info "+(ne-1)+" 0 R"),p!==null&&K("/Encrypt "+tn.oid+" 0 R"),K("/ID [ <"+me+"> <"+me+"> ]"),K(">>")},Gl=v.__private__.putHeader=function(){K("%PDF-"+C),K("%")},Ec=v.__private__.putXRef=function(){var d="0000000000";K("xref"),K("0 "+(ne+1)),K("0000000000 65535 f ");for(var x=1;x<=ne;x++)typeof ue[x]=="function"?K((d+ue[x]()).slice(-10)+" 00000 n "):ue[x]!==void 0?K((d+ue[x]).slice(-10)+" 00000 n "):K("0000000000 00000 n ")},Di=v.__private__.buildDocument=function(){Ze(),Ae(pe),Ct.publish("buildDocument"),Gl(),os(),Wa(),Ha(),p!==null&&Ac(),zs(),Oi();var d=ge;return Ec(),bc(),K("startxref"),K(""+d),K("%%EOF"),Ae(ke[q]),pe.join(`
`)},Io=v.__private__.getBlob=function(d){return new Blob([Qe(d)],{type:"application/pdf"})},To=v.output=v.__private__.output=Vr(function(d,x){switch(typeof(x=x||{})=="string"?x={filename:x}:x.filename=x.filename||"generated.pdf",d){case void 0:return Di();case"save":v.save(x.filename);break;case"arraybuffer":return Qe(Di());case"blob":return Io(Di());case"bloburi":case"bloburl":if(ot.URL!==void 0&&typeof ot.URL.createObjectURL=="function")return ot.URL&&ot.URL.createObjectURL(Io(Di()))||void 0;Gt.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var H="",X=Di();try{H=H1(X)}catch{H=H1(unescape(encodeURIComponent(X)))}return"data:application/pdf;filename="+x.filename+";base64,"+H;case"pdfobjectnewwindow":if(Object.prototype.toString.call(ot)==="[object Window]"){var se="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",we=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';x.pdfObjectUrl&&(se=x.pdfObjectUrl,we="");var Pe='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+se+'"'+we+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(x)+");<\/script></body></html>",je=ot.open();return je!==null&&je.document.write(Pe),je}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(ot)==="[object Window]"){var c='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(x.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+x.filename+'" width="500px" height="400px" /></body></html>',y=ot.open();if(y!==null){y.document.write(c);var A=this;y.document.documentElement.querySelector("#pdfViewer").onload=function(){y.document.title=x.filename,y.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(A.output("bloburl"))}}return y}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(ot)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var V='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",x)+'"></iframe></body></html>',ie=ot.open();if(ie!==null&&(ie.document.write(V),ie.document.title=x.filename),ie||typeof safari>"u")return ie;break;case"datauri":case"dataurl":return ot.document.location.href=this.output("datauristring",x);default:return null}}),hs=function(d){return Array.isArray(pi)===!0&&pi.indexOf(d)>-1};switch(r){case"pt":qe=1;break;case"mm":qe=72/25.4;break;case"cm":qe=72/2.54;break;case"in":qe=72;break;case"px":qe=hs("px_scaling")==1?.75:96/72;break;case"pc":case"em":qe=12;break;case"ex":qe=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);qe=r}var tn=null;Ce(),Y();var Kl=function(d){return p!==null?tn.encryptor(d,0):function(x){return x}},Qa=v.__private__.getPageInfo=v.getPageInfo=function(d){if(isNaN(d)||d%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:tt[d].objId,pageNumber:d,pageContext:tt[d]}},ct=v.__private__.getPageInfoByObjId=function(d){if(isNaN(d)||d%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var x in tt)if(tt[x].objId===d)break;return Qa(x)},fs=v.__private__.getCurrentPageInfo=v.getCurrentPageInfo=function(){return{objId:tt[q].objId,pageNumber:q,pageContext:tt[q]}};v.addPage=function(){return Bs.apply(this,arguments),this},v.setPage=function(){return Ka.apply(this,arguments),Ae.call(this,ke[q]),this},v.insertPage=function(d){return this.addPage(),this.movePage(q,d),this},v.movePage=function(d,x){var H,X;if(d>x){H=ke[d],X=tt[d];for(var se=d;se>x;se--)ke[se]=ke[se-1],tt[se]=tt[se-1];ke[x]=H,tt[x]=X,this.setPage(x)}else if(d<x){H=ke[d],X=tt[d];for(var we=d;we<x;we++)ke[we]=ke[we+1],tt[we]=tt[we+1];ke[x]=H,tt[x]=X,this.setPage(x)}return this},v.deletePage=function(){return So.apply(this,arguments),this},v.__private__.text=v.text=function(d,x,H,X,se){var we,Pe,je,c,y,A,V,ie,de,Ne=(X=X||{}).scope||this;if(typeof d=="number"&&typeof x=="number"&&(typeof H=="string"||Array.isArray(H))){var pt=H;H=x,x=d,d=pt}if(arguments[3]instanceof We?(E("The transform parameter of text() with a Matrix value"),de=se):(je=arguments[4],c=arguments[5],zt(V=arguments[3])==="object"&&V!==null||(typeof je=="string"&&(c=je,je=null),typeof V=="string"&&(c=V,V=null),typeof V=="number"&&(je=V,V=null),X={flags:V,angle:je,align:c})),isNaN(x)||isNaN(H)||d==null)throw new Error("Invalid arguments passed to jsPDF.text");if(d.length===0)return Ne;var Et="",mt=!1,Mt=typeof X.lineHeightFactor=="number"?X.lineHeightFactor:Ft,Ht=Ne.internal.scaleFactor;function Bi(Yt){return Yt=Yt.split("	").join(Array(X.TabLen||9).join(" ")),mn(Yt,V)}function Jn(Yt){for(var Jt,bn=Yt.concat(),Mn=[],Ys=bn.length;Ys--;)typeof(Jt=bn.shift())=="string"?Mn.push(Jt):Array.isArray(Yt)&&(Jt.length===1||Jt[1]===void 0&&Jt[2]===void 0)?Mn.push(Jt[0]):Mn.push([Jt[0],Jt[1],Jt[2]]);return Mn}function gs(Yt,Jt){var bn;if(typeof Yt=="string")bn=Jt(Yt)[0];else if(Array.isArray(Yt)){for(var Mn,Ys,Lc=Yt.concat(),au=[],mf=Lc.length;mf--;)typeof(Mn=Lc.shift())=="string"?au.push(Jt(Mn)[0]):Array.isArray(Mn)&&typeof Mn[0]=="string"&&(Ys=Jt(Mn[0],Mn[1],Mn[2]),au.push([Ys[0],Ys[1],Ys[2]]));bn=au}return bn}var vs=!1,Ic=!0;if(typeof d=="string")vs=!0;else if(Array.isArray(d)){var Tc=d.concat();Pe=[];for(var Zl,Xn=Tc.length;Xn--;)(typeof(Zl=Tc.shift())!="string"||Array.isArray(Zl)&&typeof Zl[0]!="string")&&(Ic=!1);vs=Ic}if(vs===!1)throw new Error('Type of text must be string or Array. "'+d+'" is not recognized.');typeof d=="string"&&(d=d.match(/[\r?\n]/)?d.split(/\r\n|\r|\n/g):[d]);var eu=De/Ne.internal.scaleFactor,tu=eu*(Mt-1);switch(X.baseline){case"bottom":H-=tu;break;case"top":H+=eu-tu;break;case"hanging":H+=eu-2*tu;break;case"middle":H+=eu/2-tu}if((A=X.maxWidth||0)>0&&(typeof d=="string"?d=Ne.splitTextToSize(d,A):Object.prototype.toString.call(d)==="[object Array]"&&(d=d.reduce(function(Yt,Jt){return Yt.concat(Ne.splitTextToSize(Jt,A))},[]))),we={text:d,x,y:H,options:X,mutex:{pdfEscape:mn,activeFontKey:wt,fonts:Ot,activeFontSize:De}},Ct.publish("preProcessText",we),d=we.text,je=(X=we.options).angle,!(de instanceof We)&&je&&typeof je=="number"){je*=Math.PI/180,X.rotationDirection===0&&(je=-je),F===S.ADVANCED&&(je=-je);var nu=Math.cos(je),Pc=Math.sin(je);de=new We(nu,Pc,-Pc,nu,0,0)}else je&&je instanceof We&&(de=je);F!==S.ADVANCED||de||(de=ar),(y=X.charSpace||$s)!==void 0&&(Et+=R(T(y))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(ie=X.horizontalScale)!==void 0&&(Et+=R(100*ie)+` Tz
`),X.lang;var jr=-1,um=X.renderingMode!==void 0?X.renderingMode:X.stroke,Nc=Ne.internal.getCurrentPageInfo().pageContext;switch(um){case 0:case!1:case"fill":jr=0;break;case 1:case!0:case"stroke":jr=1;break;case 2:case"fillThenStroke":jr=2;break;case 3:case"invisible":jr=3;break;case 4:case"fillAndAddForClipping":jr=4;break;case 5:case"strokeAndAddPathForClipping":jr=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":jr=6;break;case 7:case"addToPathForClipping":jr=7}var hf=Nc.usedRenderingMode!==void 0?Nc.usedRenderingMode:-1;jr!==-1?Et+=jr+` Tr
`:hf!==-1&&(Et+=`0 Tr
`),jr!==-1&&(Nc.usedRenderingMode=jr),c=X.align||"left";var gi,ru=De*Mt,ff=Ne.internal.pageSize.getWidth(),df=Ot[wt];y=X.charSpace||$s,A=X.maxWidth||0,V=Object.assign({autoencode:!0,noBOM:!0},X.flags);var jo=[],rl=function(Yt){return Ne.getStringUnitWidth(Yt,{font:df,charSpace:y,fontSize:De,doKerning:!1})*De/Ht};if(Object.prototype.toString.call(d)==="[object Array]"){var Br;Pe=Jn(d),c!=="left"&&(gi=Pe.map(rl));var Pr,Bo=0;if(c==="right"){x-=gi[0],d=[],Xn=Pe.length;for(var Gs=0;Gs<Xn;Gs++)Gs===0?(Pr=ti(x),Br=Fn(H)):(Pr=T(Bo-gi[Gs]),Br=-ru),d.push([Pe[Gs],Pr,Br]),Bo=gi[Gs]}else if(c==="center"){x-=gi[0]/2,d=[],Xn=Pe.length;for(var Ks=0;Ks<Xn;Ks++)Ks===0?(Pr=ti(x),Br=Fn(H)):(Pr=T((Bo-gi[Ks])/2),Br=-ru),d.push([Pe[Ks],Pr,Br]),Bo=gi[Ks]}else if(c==="left"){d=[],Xn=Pe.length;for(var iu=0;iu<Xn;iu++)d.push(Pe[iu])}else if(c==="justify"&&df.encoding==="Identity-H"){d=[],Xn=Pe.length,A=A!==0?A:ff;for(var Qs=0,An=0;An<Xn;An++)if(Br=An===0?Fn(H):-ru,Pr=An===0?ti(x):Qs,An<Xn-1){var xc=T((A-gi[An])/(Pe[An].split(" ").length-1)),Nr=Pe[An].split(" ");d.push([Nr[0]+" ",Pr,Br]),Qs=0;for(var vi=1;vi<Nr.length;vi++){var su=(rl(Nr[vi-1]+" "+Nr[vi])-rl(Nr[vi]))*Ht+xc;vi==Nr.length-1?d.push([Nr[vi],su,0]):d.push([Nr[vi]+" ",su,0]),Qs-=su}}else d.push([Pe[An],Pr,Br]);d.push(["",Qs,0])}else{if(c!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(d=[],Xn=Pe.length,A=A!==0?A:ff,An=0;An<Xn;An++)Br=An===0?Fn(H):-ru,Pr=An===0?ti(x):0,An<Xn-1?jo.push(R(T((A-gi[An])/(Pe[An].split(" ").length-1)))):jo.push(0),d.push([Pe[An],Pr,Br])}}var pf=typeof X.R2L=="boolean"?X.R2L:Ye;pf===!0&&(d=gs(d,function(Yt,Jt,bn){return[Yt.split("").reverse().join(""),Jt,bn]})),we={text:d,x,y:H,options:X,mutex:{pdfEscape:mn,activeFontKey:wt,fonts:Ot,activeFontSize:De}},Ct.publish("postProcessText",we),d=we.text,mt=we.mutex.isHex||!1;var kc=Ot[wt].encoding;kc!=="WinAnsiEncoding"&&kc!=="StandardEncoding"||(d=gs(d,function(Yt,Jt,bn){return[Bi(Yt),Jt,bn]})),Pe=Jn(d),d=[];for(var il,sl,Uo,ol=0,ou=1,al=Array.isArray(Pe[0])?ou:ol,zo="",Cc=function(Yt,Jt,bn){var Mn="";return bn instanceof We?(bn=typeof X.angle=="number"?Fr(bn,new We(1,0,0,1,Yt,Jt)):Fr(new We(1,0,0,1,Yt,Jt),bn),F===S.ADVANCED&&(bn=Fr(new We(1,0,0,-1,0,0),bn)),Mn=bn.join(" ")+` Tm
`):Mn=R(Yt)+" "+R(Jt)+` Td
`,Mn},yi=0;yi<Pe.length;yi++){switch(zo="",al){case ou:Uo=(mt?"<":"(")+Pe[yi][0]+(mt?">":")"),il=parseFloat(Pe[yi][1]),sl=parseFloat(Pe[yi][2]);break;case ol:Uo=(mt?"<":"(")+Pe[yi]+(mt?">":")"),il=ti(x),sl=Fn(H)}jo!==void 0&&jo[yi]!==void 0&&(zo=jo[yi]+` Tw
`),yi===0?d.push(zo+Cc(il,sl,de)+Uo):al===ol?d.push(zo+Uo):al===ou&&d.push(zo+Cc(il,sl,de)+Uo)}d=al===ol?d.join(` Tj
T* `):d.join(` Tj
`),d+=` Tj
`;var _i=`BT
/`;return _i+=wt+" "+De+` Tf
`,_i+=R(De*Mt)+` TL
`,_i+=Vi+`
`,_i+=Et,_i+=d,K(_i+="ET"),_[wt]=!0,Ne};var Sc=v.__private__.clip=v.clip=function(d){return K(d==="evenodd"?"W*":"W"),this};v.clipEvenOdd=function(){return Sc("evenodd")},v.__private__.discardPath=v.discardPath=function(){return K("n"),this};var mi=v.__private__.isValidStyle=function(d){var x=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(d)!==-1&&(x=!0),x};v.__private__.setDefaultPathOperation=v.setDefaultPathOperation=function(d){return mi(d)&&(h=d),this};var Ql=v.__private__.getStyle=v.getStyle=function(d){var x=h;switch(d){case"D":case"S":x="S";break;case"F":x="f";break;case"FD":case"DF":x="B";break;case"f":case"f*":case"B":case"B*":x=d}return x},Zr=v.close=function(){return K("h"),this};v.stroke=function(){return K("S"),this},v.fill=function(d){return Po("f",d),this},v.fillEvenOdd=function(d){return Po("f*",d),this},v.fillStroke=function(d){return Po("B",d),this},v.fillStrokeEvenOdd=function(d){return Po("B*",d),this};var Po=function(d,x){zt(x)==="object"?xo(x,d):K(d)},Ya=function(d){d===null||F===S.ADVANCED&&d===void 0||(d=Ql(d),K(d))};function No(d,x,H,X,se){var we=new Ru(x||this.boundingBox,H||this.xStep,X||this.yStep,this.gState,se||this.matrix);we.stream=this.stream;var Pe=d+"$$"+this.cloneIndex+++"$$";return xn(Pe,we),we}var xo=function(d,x){var H=ss[d.key],X=Nt[H];if(X instanceof dl)K("q"),K(Yl(x)),X.gState&&v.setGState(X.gState),K(d.matrix.toString()+" cm"),K("/"+H+" sh"),K("Q");else if(X instanceof Ru){var se=new We(1,0,0,-1,0,ur());d.matrix&&(se=se.multiply(d.matrix||ar),H=No.call(X,d.key,d.boundingBox,d.xStep,d.yStep,se).id),K("q"),K("/Pattern cs"),K("/"+H+" scn"),X.gState&&v.setGState(X.gState),K(x),K("Q")}},Yl=function(d){switch(d){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Fi=v.moveTo=function(d,x){return K(R(T(d))+" "+R(Q(x))+" m"),this},ei=v.lineTo=function(d,x){return K(R(T(d))+" "+R(Q(x))+" l"),this},Mi=v.curveTo=function(d,x,H,X,se,we){return K([R(T(d)),R(Q(x)),R(T(H)),R(Q(X)),R(T(se)),R(Q(we)),"c"].join(" ")),this};v.__private__.line=v.line=function(d,x,H,X,se){if(isNaN(d)||isNaN(x)||isNaN(H)||isNaN(X)||!mi(se))throw new Error("Invalid arguments passed to jsPDF.line");return F===S.COMPAT?this.lines([[H-d,X-x]],d,x,[1,1],se||"S"):this.lines([[H-d,X-x]],d,x,[1,1]).stroke()},v.__private__.lines=v.lines=function(d,x,H,X,se,we){var Pe,je,c,y,A,V,ie,de,Ne,pt,Et,mt;if(typeof d=="number"&&(mt=H,H=x,x=d,d=mt),X=X||[1,1],we=we||!1,isNaN(x)||isNaN(H)||!Array.isArray(d)||!Array.isArray(X)||!mi(se)||typeof we!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Fi(x,H),Pe=X[0],je=X[1],y=d.length,pt=x,Et=H,c=0;c<y;c++)(A=d[c]).length===2?(pt=A[0]*Pe+pt,Et=A[1]*je+Et,ei(pt,Et)):(V=A[0]*Pe+pt,ie=A[1]*je+Et,de=A[2]*Pe+pt,Ne=A[3]*je+Et,pt=A[4]*Pe+pt,Et=A[5]*je+Et,Mi(V,ie,de,Ne,pt,Et));return we&&Zr(),Ya(se),this},v.path=function(d){for(var x=0;x<d.length;x++){var H=d[x],X=H.c;switch(H.op){case"m":Fi(X[0],X[1]);break;case"l":ei(X[0],X[1]);break;case"c":Mi.apply(this,X);break;case"h":Zr()}}return this},v.__private__.rect=v.rect=function(d,x,H,X,se){if(isNaN(d)||isNaN(x)||isNaN(H)||isNaN(X)||!mi(se))throw new Error("Invalid arguments passed to jsPDF.rect");return F===S.COMPAT&&(X=-X),K([R(T(d)),R(Q(x)),R(T(H)),R(T(X)),"re"].join(" ")),Ya(se),this},v.__private__.triangle=v.triangle=function(d,x,H,X,se,we,Pe){if(isNaN(d)||isNaN(x)||isNaN(H)||isNaN(X)||isNaN(se)||isNaN(we)||!mi(Pe))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[H-d,X-x],[se-H,we-X],[d-se,x-we]],d,x,[1,1],Pe,!0),this},v.__private__.roundedRect=v.roundedRect=function(d,x,H,X,se,we,Pe){if(isNaN(d)||isNaN(x)||isNaN(H)||isNaN(X)||isNaN(se)||isNaN(we)||!mi(Pe))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var je=4/3*(Math.SQRT2-1);return se=Math.min(se,.5*H),we=Math.min(we,.5*X),this.lines([[H-2*se,0],[se*je,0,se,we-we*je,se,we],[0,X-2*we],[0,we*je,-se*je,we,-se,we],[2*se-H,0],[-se*je,0,-se,-we*je,-se,-we],[0,2*we-X],[0,-we*je,se*je,-we,se,-we]],d+se,x,[1,1],Pe,!0),this},v.__private__.ellipse=v.ellipse=function(d,x,H,X,se){if(isNaN(d)||isNaN(x)||isNaN(H)||isNaN(X)||!mi(se))throw new Error("Invalid arguments passed to jsPDF.ellipse");var we=4/3*(Math.SQRT2-1)*H,Pe=4/3*(Math.SQRT2-1)*X;return Fi(d+H,x),Mi(d+H,x-Pe,d+we,x-X,d,x-X),Mi(d-we,x-X,d-H,x-Pe,d-H,x),Mi(d-H,x+Pe,d-we,x+X,d,x+X),Mi(d+we,x+X,d+H,x+Pe,d+H,x),Ya(se),this},v.__private__.circle=v.circle=function(d,x,H,X){if(isNaN(d)||isNaN(x)||isNaN(H)||!mi(X))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(d,x,H,H,X)},v.setFont=function(d,x,H){return H&&(x=ae(x,H)),wt=Us(d,x,{disableWarning:!1}),this};var Ja=v.__private__.getFont=v.getFont=function(){return Ot[Us.apply(v,arguments)]};v.__private__.getFontList=v.getFontList=function(){var d,x,H={};for(d in Kt)if(Kt.hasOwnProperty(d))for(x in H[d]=[],Kt[d])Kt[d].hasOwnProperty(x)&&H[d].push(x);return H},v.addFont=function(d,x,H,X,se){var we=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&we.indexOf(arguments[3])!==-1?se=arguments[3]:arguments[3]&&we.indexOf(arguments[3])==-1&&(H=ae(H,X)),se=se||"Identity-H",Ga.call(this,d,x,H,se)};var Ft,Xa=t.lineWidth||.200025,ko=v.__private__.getLineWidth=v.getLineWidth=function(){return Xa},Za=v.__private__.setLineWidth=v.setLineWidth=function(d){return Xa=d,K(R(T(d))+" w"),this};v.__private__.setLineDash=it.API.setLineDash=it.API.setLineDashPattern=function(d,x){if(d=d||[],x=x||0,isNaN(x)||!Array.isArray(d))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return d=d.map(function(H){return R(T(H))}).join(" "),x=R(T(x)),K("["+d+"] "+x+" d"),this};var el=v.__private__.getLineHeight=v.getLineHeight=function(){return De*Ft};v.__private__.getLineHeight=v.getLineHeight=function(){return De*Ft};var tl=v.__private__.setLineHeightFactor=v.setLineHeightFactor=function(d){return typeof(d=d||1.15)=="number"&&(Ft=d),this},qs=v.__private__.getLineHeightFactor=v.getLineHeightFactor=function(){return Ft};tl(t.lineHeight);var ti=v.__private__.getHorizontalCoordinate=function(d){return T(d)},Fn=v.__private__.getVerticalCoordinate=function(d){return F===S.ADVANCED?d:tt[q].mediaBox.topRightY-tt[q].mediaBox.bottomLeftY-T(d)},Jl=v.__private__.getHorizontalCoordinateString=v.getHorizontalCoordinateString=function(d){return R(ti(d))},ds=v.__private__.getVerticalCoordinateString=v.getVerticalCoordinateString=function(d){return R(Fn(d))},Yn=t.strokeColor||"0 G";v.__private__.getStrokeColor=v.getDrawColor=function(){return Mr(Yn)},v.__private__.setStrokeColor=v.setDrawColor=function(d,x,H,X){return Yn=Sr({ch1:d,ch2:x,ch3:H,ch4:X,pdfColorType:"draw",precision:2}),K(Yn),this};var Co=t.fillColor||"0 g";v.__private__.getFillColor=v.getFillColor=function(){return Mr(Co)},v.__private__.setFillColor=v.setFillColor=function(d,x,H,X){return Co=Sr({ch1:d,ch2:x,ch3:H,ch4:X,pdfColorType:"fill",precision:2}),K(Co),this};var Vi=t.textColor||"0 g",Lo=v.__private__.getTextColor=v.getTextColor=function(){return Mr(Vi)};v.__private__.setTextColor=v.setTextColor=function(d,x,H,X){return Vi=Sr({ch1:d,ch2:x,ch3:H,ch4:X,pdfColorType:"text",precision:3}),this};var $s=t.charSpace,Ro=v.__private__.getCharSpace=v.getCharSpace=function(){return parseFloat($s||0)};v.__private__.setCharSpace=v.setCharSpace=function(d){if(isNaN(d))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return $s=d,this};var nl=0;v.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},v.__private__.setLineCap=v.setLineCap=function(d){var x=v.CapJoinStyles[d];if(x===void 0)throw new Error("Line cap style of '"+d+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return nl=x,K(x+" J"),this};var Oo=0;v.__private__.setLineJoin=v.setLineJoin=function(d){var x=v.CapJoinStyles[d];if(x===void 0)throw new Error("Line join style of '"+d+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Oo=x,K(x+" j"),this},v.__private__.setLineMiterLimit=v.__private__.setMiterLimit=v.setLineMiterLimit=v.setMiterLimit=function(d){if(d=d||0,isNaN(d))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return K(R(T(d))+" M"),this},v.GState=Sp,v.setGState=function(d){(d=typeof d=="string"?Zt[Qn[d]]:ps(null,d)).equals(Yr)||(K("/"+d.id+" gs"),Yr=d)};var ps=function(d,x){if(!d||!Qn[d]){var H=!1;for(var X in Zt)if(Zt.hasOwnProperty(X)&&Zt[X].equals(x)){H=!0;break}if(H)x=Zt[X];else{var se="GS"+(Object.keys(Zt).length+1).toString(10);Zt[se]=x,x.id=se}return d&&(Qn[d]=x.id),Ct.publish("addGState",x),x}};v.addGState=function(d,x){return ps(d,x),this},v.saveGraphicsState=function(){return K("q"),di.push({key:wt,size:De,color:Vi}),this},v.restoreGraphicsState=function(){K("Q");var d=di.pop();return wt=d.key,De=d.size,Vi=d.color,Yr=null,this},v.setCurrentTransformationMatrix=function(d){return K(d.toString()+" cm"),this},v.comment=function(d){return K("#"+d),this};var Hs=function(d,x){var H=d||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return H},set:function(we){isNaN(we)||(H=parseFloat(we))}});var X=x||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return X},set:function(we){isNaN(we)||(X=parseFloat(we))}});var se="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return se},set:function(we){se=we.toString()}}),this},Do=function(d,x,H,X){Hs.call(this,d,x),this.type="rect";var se=H||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return se},set:function(Pe){isNaN(Pe)||(se=parseFloat(Pe))}});var we=X||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return we},set:function(Pe){isNaN(Pe)||(we=parseFloat(Pe))}}),this},Ws=function(){this.page=Qt,this.currentPage=q,this.pages=ke.slice(0),this.pagesContext=tt.slice(0),this.x=dn,this.y=Pt,this.matrix=Dr,this.width=ms(q),this.height=ur(q),this.outputDestination=Fe,this.id="",this.objectNumber=-1};Ws.prototype.restore=function(){Qt=this.page,q=this.currentPage,tt=this.pagesContext,ke=this.pages,dn=this.x,Pt=this.y,Dr=this.matrix,Mo(q,this.width),Vo(q,this.height),Fe=this.outputDestination};var Fo=function(d,x,H,X,se){Jr.push(new Ws),Qt=q=0,ke=[],dn=d,Pt=x,Dr=se,Tr([H,X])},Xl=function(d){if(or[d])Jr.pop().restore();else{var x=new Ws,H="Xo"+(Object.keys(Nn).length+1).toString(10);x.id=H,or[d]=H,Nn[H]=x,Ct.publish("addFormObject",x),Jr.pop().restore()}};for(var ji in v.beginFormObject=function(d,x,H,X,se){return Fo(d,x,H,X,se),this},v.endFormObject=function(d){return Xl(d),this},v.doFormObject=function(d,x){var H=Nn[or[d]];return K("q"),K(x.toString()+" cm"),K("/"+H.id+" Do"),K("Q"),this},v.getFormObject=function(d){var x=Nn[or[d]];return{x:x.x,y:x.y,width:x.width,height:x.height,matrix:x.matrix}},v.save=function(d,x){return d=d||"generated.pdf",(x=x||{}).returnPromise=x.returnPromise||!1,x.returnPromise===!1?(fl(Io(Di()),d),typeof fl.unload=="function"&&ot.setTimeout&&setTimeout(fl.unload,911),this):new Promise(function(H,X){try{var se=fl(Io(Di()),d);typeof fl.unload=="function"&&ot.setTimeout&&setTimeout(fl.unload,911),H(se)}catch(we){X(we.message)}})},it.API)it.API.hasOwnProperty(ji)&&(ji==="events"&&it.API.events.length?function(d,x){var H,X,se;for(se=x.length-1;se!==-1;se--)H=x[se][0],X=x[se][1],d.subscribe.apply(d,[H].concat(typeof X=="function"?[X]:X))}(Ct,it.API.events):v[ji]=it.API[ji]);var ms=v.getPageWidth=function(d){return(tt[d=d||q].mediaBox.topRightX-tt[d].mediaBox.bottomLeftX)/qe},Mo=v.setPageWidth=function(d,x){tt[d].mediaBox.topRightX=x*qe+tt[d].mediaBox.bottomLeftX},ur=v.getPageHeight=function(d){return(tt[d=d||q].mediaBox.topRightY-tt[d].mediaBox.bottomLeftY)/qe},Vo=v.setPageHeight=function(d,x){tt[d].mediaBox.topRightY=x*qe+tt[d].mediaBox.bottomLeftY};return v.internal={pdfEscape:mn,getStyle:Ql,getFont:Ja,getFontSize:Be,getCharSpace:Ro,getTextColor:Lo,getLineHeight:el,getLineHeightFactor:qs,getLineWidth:ko,write:ht,getHorizontalCoordinate:ti,getVerticalCoordinate:Fn,getCoordinateString:Jl,getVerticalCoordinateString:ds,collections:{},newObject:_n,newAdditionalObject:Ao,newObjectDeferred:pn,newObjectDeferredBegin:kn,getFilters:Ir,putStream:wn,events:Ct,scaleFactor:qe,pageSize:{getWidth:function(){return ms(q)},setWidth:function(d){Mo(q,d)},getHeight:function(){return ur(q)},setHeight:function(d){Vo(q,d)}},encryptionOptions:p,encryption:tn,getEncryptor:Kl,output:To,getNumberOfPages:jt,pages:ke,out:K,f2:B,f3:I,getPageInfo:Qa,getPageInfoByObjId:ct,getCurrentPageInfo:fs,getPDFVersion:P,Point:Hs,Rectangle:Do,Matrix:We,hasHotfix:hs},Object.defineProperty(v.internal.pageSize,"width",{get:function(){return ms(q)},set:function(d){Mo(q,d)},enumerable:!0,configurable:!0}),Object.defineProperty(v.internal.pageSize,"height",{get:function(){return ur(q)},set:function(d){Vo(q,d)},enumerable:!0,configurable:!0}),Wl.call(v,Le),wt="F1",Bs(i,n),Ct.publish("initialized"),v}_u.prototype.lsbFirstWord=function(t){return String.fromCharCode(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},_u.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},_u.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},_u.prototype.processOwnerPassword=function(t,e){return G1(W1(e).substr(0,5),t)},_u.prototype.encryptor=function(t,e){var n=W1(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return G1(n,r)}},Sp.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||zt(t)!==zt(this))return!1;var r=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;r++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&r--;return r===0},it.API={events:[]},it.version="2.5.2";var vn=it.API,M0=1,Ul=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},du=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},gt=function(t){return t.toFixed(2)},Zo=function(t){return t.toFixed(5)};vn.__acroform__={};var Qr=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},r_=function(t){return t*M0},ws=function(t){var e=new mb,n=Ke.internal.getHeight(t)||0,r=Ke.internal.getWidth(t)||0;return e.BBox=[0,0,Number(gt(r)),Number(gt(n))],e},gL=vn.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|=1<<e},vL=vn.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&=~(1<<e)},yL=vn.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},In=vn.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return yL(t,e-1)},Tn=vn.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return gL(t,e-1)},Pn=vn.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return vL(t,e-1)},_L=vn.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=t[0],s=t[1],o=t[2],a=t[3],l={};return l.lowerLeft_X=n(i)||0,l.lowerLeft_Y=r(s+a)||0,l.upperRight_X=n(i+o)||0,l.upperRight_Y=r(s)||0,[Number(gt(l.lowerLeft_X)),Number(gt(l.lowerLeft_Y)),Number(gt(l.upperRight_X)),Number(gt(l.upperRight_Y))]},wL=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t._V||t.DV,r=K1(t,n),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+gt(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=ws(t);return s.scope=t.scope,s.stream=e.join(`
`),s}},K1=function(t,e){var n=t.fontSize===0?t.maxFontSize:t.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(I){return I.split(`
`)}):i.map(function(I){return[I]});var s=n,o=Ke.internal.getHeight(t)||0;o=o<0?-o:o;var a=Ke.internal.getWidth(t)||0;a=a<0?-a:a;var l=function(I,T,N){if(I+1<i.length){var Q=T+" "+i[I+1][0];return sd(Q,t,N).width<=a-4}return!1};s++;e:for(;s>0;){e="",s--;var h,p,g=sd("3",t,s).height,_=t.multiline?o-s:(o-g)/2,v=_+=2,C=0,P=0,U=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+sd(e,t,s=12).width+", FieldWidth:"+a+`
`;break}for(var b="",S=0,F=0;F<i.length;F++)if(i.hasOwnProperty(F)){var W=!1;if(i[F].length!==1&&U!==i[F].length-1){if((g+2)*(S+2)+2>o)continue e;b+=i[F][U],W=!0,P=F,F--}else{b=(b+=i[F][U]+" ").substr(b.length-1)==" "?b.substr(0,b.length-1):b;var Z=parseInt(F),ae=l(Z,b,s),R=F>=i.length-1;if(ae&&!R){b+=" ",U=0;continue}if(ae||R){if(R)P=Z;else if(t.multiline&&(g+2)*(S+2)+2>o)continue e}else{if(!t.multiline||(g+2)*(S+2)+2>o)continue e;P=Z}}for(var E="",O=C;O<=P;O++){var B=i[O];if(t.multiline){if(O===P){E+=B[U]+" ",U=(U+1)%B.length;continue}if(O===C){E+=B[B.length-1]+" ";continue}}E+=B[0]+" "}switch(E=E.substr(E.length-1)==" "?E.substr(0,E.length-1):E,p=sd(E,t,s).width,t.textAlign){case"right":h=a-p-2;break;case"center":h=(a-p)/2;break;case"left":default:h=2}e+=gt(h)+" "+gt(v)+` Td
`,e+="("+Ul(E)+`) Tj
`,e+=-gt(h)+` 0 Td
`,v=-(s+2),p=0,C=W?P:P+1,S++,b=""}break}return r.text=e,r.fontSize=s,r},sd=function(t,e,n){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},AL={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},bL=function(t,e){var n={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},EL=function(t,e){for(var n in t)if(t.hasOwnProperty(n)){var r=n,i=t[n];e.internal.newObjectDeferredBegin(i.objId,!0),zt(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete t[r]}},SL=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(rs.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(AL)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");M0=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new gb,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];s.objId=void 0,s.hasAnnotation&&bL(s,n)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(n){(function(r,i){var s=!r;for(var o in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(o)){var a=r[o],l=[],h=a.Rect;if(a.Rect&&(a.Rect=_L(a.Rect,i)),i.internal.newObjectDeferredBegin(a.objId,!0),a.DA=Ke.createDefaultAppearanceStream(a),zt(a)==="object"&&typeof a.getKeyValueListForStream=="function"&&(l=a.getKeyValueListForStream()),a.Rect=h,a.hasAppearanceStream&&!a.appearanceStreamContent){var p=wL(a);l.push({key:"AP",value:"<</N "+p+">>"}),i.internal.acroformPlugin.xForms.push(p)}if(a.appearanceStreamContent){var g="";for(var _ in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(_)){var v=a.appearanceStreamContent[_];if(g+="/"+_+" ",g+="<<",Object.keys(v).length>=1||Array.isArray(v)){for(var o in v)if(v.hasOwnProperty(o)){var C=v[o];typeof C=="function"&&(C=C.call(i,a)),g+="/"+o+" "+C+" ",i.internal.acroformPlugin.xForms.indexOf(C)>=0||i.internal.acroformPlugin.xForms.push(C)}}else typeof(C=v)=="function"&&(C=C.call(i,a)),g+="/"+o+" "+C,i.internal.acroformPlugin.xForms.indexOf(C)>=0||i.internal.acroformPlugin.xForms.push(C);g+=">>"}l.push({key:"AP",value:`<<
`+g+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:a.objId}),i.internal.out("endobj")}s&&EL(i.internal.acroformPlugin.xForms,i)})(n,t)}),t.internal.acroformPlugin.isInitialized=!0}},pb=vn.__acroform__.arrayToPdfArray=function(t,e,n){var r=function(o){return o};if(Array.isArray(t)){for(var i="[",s=0;s<t.length;s++)switch(s!==0&&(i+=" "),zt(t[s])){case"boolean":case"number":case"object":i+=t[s].toString();break;case"string":t[s].substr(0,1)!=="/"?(e!==void 0&&n&&(r=n.internal.getEncryptor(e)),i+="("+Ul(r(t[s].toString()))+")"):i+=t[s].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},gg=function(t,e,n){var r=function(i){return i};return e!==void 0&&n&&(r=n.internal.getEncryptor(e)),(t=t||"").toString(),t="("+Ul(r(t))+")"},Ss=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Ss.prototype.toString=function(){return this.objId+" 0 R"},Ss.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},Ss.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var n in e)if(Object.getOwnPropertyDescriptor(this,e[n]).configurable===!1){var r=e[n],i=this[r];i&&(Array.isArray(i)?t.push({key:r,value:pb(i,this.objId,this.scope)}):i instanceof Ss?(i.scope=this.scope,t.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:r,value:i}))}return t};var mb=function(){Ss.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};Qr(mb,Ss);var gb=function(){Ss.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+Ul(n(t))+")"}},set:function(n){t=n}})};Qr(gb,Ss);var rs=function t(){Ss.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(b){if(isNaN(b))throw new Error('Invalid value "'+b+'" for attribute F supplied.');e=b}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!In(e,3)},set:function(b){b?this.F=Tn(e,3):this.F=Pn(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(b){if(isNaN(b))throw new Error('Invalid value "'+b+'" for attribute Ff supplied.');n=b}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(b){r=b!==void 0?b:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(b){r[0]=b}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(b){r[1]=b}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(b){r[2]=b}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(b){r[3]=b}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(b){switch(b){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=b;break;default:throw new Error('Invalid value "'+b+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof Ip)return;s="FieldObject"+t.FieldNum++}var b=function(S){return S};return this.scope&&(b=this.scope.internal.getEncryptor(this.objId)),"("+Ul(b(s))+")"},set:function(b){s=b.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(b){s=b}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(b){o=b}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(b){a=b}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(b){l=b}});var h=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return h===void 0?50/M0:h},set:function(b){h=b}});var p="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return p},set:function(b){p=b}});var g="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!g||this instanceof Ip||this instanceof El))return gg(g,this.objId,this.scope)},set:function(b){b=b.toString(),g=b}});var _=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(_)return this instanceof Gn?_:gg(_,this.objId,this.scope)},set:function(b){b=b.toString(),_=this instanceof Gn?b:b.substr(0,1)==="("?du(b.substr(1,b.length-2)):du(b)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Gn?du(_.substr(1,_.length-1)):_},set:function(b){b=b.toString(),_=this instanceof Gn?"/"+b:b}});var v=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(v)return v},set:function(b){this.V=b}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(v)return this instanceof Gn?v:gg(v,this.objId,this.scope)},set:function(b){b=b.toString(),v=this instanceof Gn?b:b.substr(0,1)==="("?du(b.substr(1,b.length-2)):du(b)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Gn?du(v.substr(1,v.length-1)):v},set:function(b){b=b.toString(),v=this instanceof Gn?"/"+b:b}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var C,P=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return P},set:function(b){b=!!b,P=b}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(C)return C},set:function(b){C=b}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!In(this.Ff,1)},set:function(b){b?this.Ff=Tn(this.Ff,1):this.Ff=Pn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!In(this.Ff,2)},set:function(b){b?this.Ff=Tn(this.Ff,2):this.Ff=Pn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!In(this.Ff,3)},set:function(b){b?this.Ff=Tn(this.Ff,3):this.Ff=Pn(this.Ff,3)}});var U=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(U!==null)return U},set:function(b){if([0,1,2].indexOf(b)===-1)throw new Error('Invalid value "'+b+'" for attribute Q supplied.');U=b}}),Object.defineProperty(this,"textAlign",{get:function(){var b;switch(U){case 0:default:b="left";break;case 1:b="center";break;case 2:b="right"}return b},configurable:!0,enumerable:!0,set:function(b){switch(b){case"right":case 2:U=2;break;case"center":case 1:U=1;break;case"left":case 0:default:U=0}}})};Qr(rs,Ss);var Gu=function(){rs.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return pb(e,this.objId,this.scope)},set:function(n){var r,i;i=[],typeof(r=n)=="string"&&(i=function(s,o,a){a||(a=1);for(var l,h=[];l=o.exec(s);)h.push(l[a]);return h}(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();e.indexOf(n)!==-1&&(e.splice(e.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!In(this.Ff,18)},set:function(n){n?this.Ff=Tn(this.Ff,18):this.Ff=Pn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!In(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=Tn(this.Ff,19):this.Ff=Pn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!In(this.Ff,20)},set:function(n){n?(this.Ff=Tn(this.Ff,20),e.sort()):this.Ff=Pn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!In(this.Ff,22)},set:function(n){n?this.Ff=Tn(this.Ff,22):this.Ff=Pn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!In(this.Ff,23)},set:function(n){n?this.Ff=Tn(this.Ff,23):this.Ff=Pn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!In(this.Ff,27)},set:function(n){n?this.Ff=Tn(this.Ff,27):this.Ff=Pn(this.Ff,27)}}),this.hasAppearanceStream=!1};Qr(Gu,rs);var Ku=function(){Gu.call(this),this.fontName="helvetica",this.combo=!1};Qr(Ku,Gu);var Qu=function(){Ku.call(this),this.combo=!0};Qr(Qu,Ku);var kd=function(){Qu.call(this),this.edit=!0};Qr(kd,Qu);var Gn=function(){rs.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!In(this.Ff,15)},set:function(n){n?this.Ff=Tn(this.Ff,15):this.Ff=Pn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!In(this.Ff,16)},set:function(n){n?this.Ff=Tn(this.Ff,16):this.Ff=Pn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!In(this.Ff,17)},set:function(n){n?this.Ff=Tn(this.Ff,17):this.Ff=Pn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!In(this.Ff,26)},set:function(n){n?this.Ff=Tn(this.Ff,26):this.Ff=Pn(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(s){return s};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+Ul(n(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){zt(n)==="object"&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){typeof n=="string"&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+n}})};Qr(Gn,rs);var Cd=function(){Gn.call(this),this.pushButton=!0};Qr(Cd,Gn);var Yu=function(){Gn.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};Qr(Yu,Gn);var Ip=function(){var t,e;rs.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(a){return a};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,o=[];for(s in o.push("<<"),r)o.push("/"+s+" ("+Ul(i(r[s]))+")");return o.push(">>"),o.join(`
`)},set:function(i){zt(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){n="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Ke.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Qr(Ip,rs),Yu.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},Yu.prototype.createOption=function(t){var e=new Ip;return e.Parent=this,e.optionName=t,this.Kids.push(e),IL.call(this.scope,e),e};var Ld=function(){Gn.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Ke.CheckBox.createAppearanceStream()};Qr(Ld,Gn);var El=function(){rs.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!In(this.Ff,13)},set:function(e){e?this.Ff=Tn(this.Ff,13):this.Ff=Pn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!In(this.Ff,21)},set:function(e){e?this.Ff=Tn(this.Ff,21):this.Ff=Pn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!In(this.Ff,23)},set:function(e){e?this.Ff=Tn(this.Ff,23):this.Ff=Pn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!In(this.Ff,24)},set:function(e){e?this.Ff=Tn(this.Ff,24):this.Ff=Pn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!In(this.Ff,25)},set:function(e){e?this.Ff=Tn(this.Ff,25):this.Ff=Pn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!In(this.Ff,26)},set:function(e){e?this.Ff=Tn(this.Ff,26):this.Ff=Pn(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Qr(El,rs);var Rd=function(){El.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!In(this.Ff,14)},set:function(t){t?this.Ff=Tn(this.Ff,14):this.Ff=Pn(this.Ff,14)}}),this.password=!0};Qr(Rd,El);var Ke={CheckBox:{createAppearanceStream:function(){return{N:{On:Ke.CheckBox.YesNormal},D:{On:Ke.CheckBox.YesPushDown,Off:Ke.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=ws(t);e.scope=t.scope;var n=[],r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),s=K1(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+gt(Ke.internal.getWidth(t))+" "+gt(Ke.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+gt(s.fontSize)+" Tf "+i),n.push("BT"),n.push(s.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join(`
`),e},YesNormal:function(t){var e=ws(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color),i=[],s=Ke.internal.getHeight(t),o=Ke.internal.getWidth(t),a=K1(t,t.caption);return i.push("1 g"),i.push("0 0 "+gt(o)+" "+gt(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+gt(o-1)+" "+gt(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+gt(a.fontSize)+" Tf "+r),i.push(a.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=ws(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+gt(Ke.internal.getWidth(t))+" "+gt(Ke.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:Ke.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=Ke.RadioButton.Circle.YesNormal,e.D[t]=Ke.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=ws(t);e.scope=t.scope;var n=[],r=Ke.internal.getWidth(t)<=Ke.internal.getHeight(t)?Ke.internal.getWidth(t)/4:Ke.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Ke.internal.Bezier_C,s=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+Zo(Ke.internal.getWidth(t)/2)+" "+Zo(Ke.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=ws(t);e.scope=t.scope;var n=[],r=Ke.internal.getWidth(t)<=Ke.internal.getHeight(t)?Ke.internal.getWidth(t)/4:Ke.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*Ke.internal.Bezier_C).toFixed(5)),o=Number((r*Ke.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Zo(Ke.internal.getWidth(t)/2)+" "+Zo(Ke.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+Zo(Ke.internal.getWidth(t)/2)+" "+Zo(Ke.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),n.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),n.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),n.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=ws(t);e.scope=t.scope;var n=[],r=Ke.internal.getWidth(t)<=Ke.internal.getHeight(t)?Ke.internal.getWidth(t)/4:Ke.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*Ke.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Zo(Ke.internal.getWidth(t)/2)+" "+Zo(Ke.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:Ke.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=Ke.RadioButton.Cross.YesNormal,e.D[t]=Ke.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=ws(t);e.scope=t.scope;var n=[],r=Ke.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+gt(Ke.internal.getWidth(t)-2)+" "+gt(Ke.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(gt(r.x1.x)+" "+gt(r.x1.y)+" m"),n.push(gt(r.x2.x)+" "+gt(r.x2.y)+" l"),n.push(gt(r.x4.x)+" "+gt(r.x4.y)+" m"),n.push(gt(r.x3.x)+" "+gt(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=ws(t);e.scope=t.scope;var n=Ke.internal.calculateCross(t),r=[];return r.push("0.749023 g"),r.push("0 0 "+gt(Ke.internal.getWidth(t))+" "+gt(Ke.internal.getHeight(t))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+gt(Ke.internal.getWidth(t)-2)+" "+gt(Ke.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(gt(n.x1.x)+" "+gt(n.x1.y)+" m"),r.push(gt(n.x2.x)+" "+gt(n.x2.y)+" l"),r.push(gt(n.x4.x)+" "+gt(n.x4.y)+" m"),r.push(gt(n.x3.x)+" "+gt(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=ws(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+gt(Ke.internal.getWidth(t))+" "+gt(Ke.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};Ke.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=Ke.internal.getWidth(t),n=Ke.internal.getHeight(t),r=Math.min(e,n);return{x1:{x:(e-r)/2,y:(n-r)/2+r},x2:{x:(e-r)/2+r,y:(n-r)/2},x3:{x:(e-r)/2,y:(n-r)/2},x4:{x:(e-r)/2+r,y:(n-r)/2+r}}}},Ke.internal.getWidth=function(t){var e=0;return zt(t)==="object"&&(e=r_(t.Rect[2])),e},Ke.internal.getHeight=function(t){var e=0;return zt(t)==="object"&&(e=r_(t.Rect[3])),e};var IL=vn.addField=function(t){if(SL(this,t),!(t instanceof rs))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};vn.AcroFormChoiceField=Gu,vn.AcroFormListBox=Ku,vn.AcroFormComboBox=Qu,vn.AcroFormEditBox=kd,vn.AcroFormButton=Gn,vn.AcroFormPushButton=Cd,vn.AcroFormRadioButton=Yu,vn.AcroFormCheckBox=Ld,vn.AcroFormTextField=El,vn.AcroFormPasswordField=Rd,vn.AcroFormAppearance=Ke,vn.AcroForm={ChoiceField:Gu,ListBox:Ku,ComboBox:Qu,EditBox:kd,Button:Gn,PushButton:Cd,RadioButton:Yu,CheckBox:Ld,TextField:El,PasswordField:Rd,Appearance:Ke},it.AcroForm={ChoiceField:Gu,ListBox:Ku,ComboBox:Qu,EditBox:kd,Button:Gn,PushButton:Cd,RadioButton:Yu,CheckBox:Ld,TextField:El,PasswordField:Rd,Appearance:Ke};it.AcroForm;function vb(t){return t.reduce(function(e,n,r){return e[n]=r,e},{})}(function(t){t.__addimage__={};var e="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=t.__addimage__.getImageFileTypeByImageData=function(I,T){var N,Q,ve,me,ye,Y=e;if((T=T||e)==="RGBA"||I.data!==void 0&&I.data instanceof Uint8ClampedArray&&"height"in I&&"width"in I)return"RGBA";if(ae(I))for(ye in n)for(ve=n[ye],N=0;N<ve.length;N+=1){for(me=!0,Q=0;Q<ve[N].length;Q+=1)if(ve[N][Q]!==void 0&&ve[N][Q]!==I[Q]){me=!1;break}if(me===!0){Y=ye;break}}else for(ye in n)for(ve=n[ye],N=0;N<ve.length;N+=1){for(me=!0,Q=0;Q<ve[N].length;Q+=1)if(ve[N][Q]!==void 0&&ve[N][Q]!==I.charCodeAt(Q)){me=!1;break}if(me===!0){Y=ye;break}}return Y===e&&T!==e&&(Y=T),Y},i=function I(T){for(var N=this.internal.write,Q=this.internal.putStream,ve=(0,this.internal.getFilters)();ve.indexOf("FlateEncode")!==-1;)ve.splice(ve.indexOf("FlateEncode"),1);T.objectId=this.internal.newObject();var me=[];if(me.push({key:"Type",value:"/XObject"}),me.push({key:"Subtype",value:"/Image"}),me.push({key:"Width",value:T.width}),me.push({key:"Height",value:T.height}),T.colorSpace===U.INDEXED?me.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(T.palette.length/3-1)+" "+("sMask"in T&&T.sMask!==void 0?T.objectId+2:T.objectId+1)+" 0 R]"}):(me.push({key:"ColorSpace",value:"/"+T.colorSpace}),T.colorSpace===U.DEVICE_CMYK&&me.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),me.push({key:"BitsPerComponent",value:T.bitsPerComponent}),"decodeParameters"in T&&T.decodeParameters!==void 0&&me.push({key:"DecodeParms",value:"<<"+T.decodeParameters+">>"}),"transparency"in T&&Array.isArray(T.transparency)){for(var ye="",Y=0,le=T.transparency.length;Y<le;Y++)ye+=T.transparency[Y]+" "+T.transparency[Y]+" ";me.push({key:"Mask",value:"["+ye+"]"})}T.sMask!==void 0&&me.push({key:"SMask",value:T.objectId+1+" 0 R"});var ce=T.filter!==void 0?["/"+T.filter]:void 0;if(Q({data:T.data,additionalKeyValues:me,alreadyAppliedFilters:ce,objectId:T.objectId}),N("endobj"),"sMask"in T&&T.sMask!==void 0){var Ce="/Predictor "+T.predictor+" /Colors 1 /BitsPerComponent "+T.bitsPerComponent+" /Columns "+T.width,L={width:T.width,height:T.height,colorSpace:"DeviceGray",bitsPerComponent:T.bitsPerComponent,decodeParameters:Ce,data:T.sMask};"filter"in T&&(L.filter=T.filter),I.call(this,L)}if(T.colorSpace===U.INDEXED){var q=this.internal.newObject();Q({data:E(new Uint8Array(T.palette)),objectId:q}),N("endobj")}},s=function(){var I=this.internal.collections.addImage_images;for(var T in I)i.call(this,I[T])},o=function(){var I,T=this.internal.collections.addImage_images,N=this.internal.write;for(var Q in T)N("/I"+(I=T[Q]).index,I.objectId,"0","R")},a=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",o))},l=function(){var I=this.internal.collections.addImage_images;return a.call(this),I},h=function(){return Object.keys(this.internal.collections.addImage_images).length},p=function(I){return typeof t["process"+I.toUpperCase()]=="function"},g=function(I){return zt(I)==="object"&&I.nodeType===1},_=function(I,T){if(I.nodeName==="IMG"&&I.hasAttribute("src")){var N=""+I.getAttribute("src");if(N.indexOf("data:image/")===0)return wh(unescape(N).split("base64,").pop());var Q=t.loadFile(N,!0);if(Q!==void 0)return Q}if(I.nodeName==="CANVAS"){if(I.width===0||I.height===0)throw new Error("Given canvas must have data. Canvas width: "+I.width+", height: "+I.height);var ve;switch(T){case"PNG":ve="image/png";break;case"WEBP":ve="image/webp";break;case"JPEG":case"JPG":default:ve="image/jpeg"}return wh(I.toDataURL(ve,1).split("base64,").pop())}},v=function(I){var T=this.internal.collections.addImage_images;if(T){for(var N in T)if(I===T[N].alias)return T[N]}},C=function(I,T,N){return I||T||(I=-96,T=-96),I<0&&(I=-1*N.width*72/I/this.internal.scaleFactor),T<0&&(T=-1*N.height*72/T/this.internal.scaleFactor),I===0&&(I=T*N.width/N.height),T===0&&(T=I*N.height/N.width),[I,T]},P=function(I,T,N,Q,ve,me){var ye=C.call(this,N,Q,ve),Y=this.internal.getCoordinateString,le=this.internal.getVerticalCoordinateString,ce=l.call(this);if(N=ye[0],Q=ye[1],ce[ve.index]=ve,me){me*=Math.PI/180;var Ce=Math.cos(me),L=Math.sin(me),q=function(J){return J.toFixed(4)},G=[q(Ce),q(L),q(-1*L),q(Ce),0,0,"cm"]}this.internal.write("q"),me?(this.internal.write([1,"0","0",1,Y(I),le(T+Q),"cm"].join(" ")),this.internal.write(G.join(" ")),this.internal.write([Y(N),"0","0",Y(Q),"0","0","cm"].join(" "))):this.internal.write([Y(N),"0","0",Y(Q),Y(I),le(T+Q),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ve.index+" Do"),this.internal.write("Q")},U=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var b=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},S=t.__addimage__.sHashCode=function(I){var T,N,Q=0;if(typeof I=="string")for(N=I.length,T=0;T<N;T++)Q=(Q<<5)-Q+I.charCodeAt(T),Q|=0;else if(ae(I))for(N=I.byteLength/2,T=0;T<N;T++)Q=(Q<<5)-Q+I[T],Q|=0;return Q},F=t.__addimage__.validateStringAsBase64=function(I){(I=I||"").toString().trim();var T=!0;return I.length===0&&(T=!1),I.length%4!=0&&(T=!1),/^[A-Za-z0-9+/]+$/.test(I.substr(0,I.length-2))===!1&&(T=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(I.substr(-2))===!1&&(T=!1),T},W=t.__addimage__.extractImageFromDataUrl=function(I){var T=(I=I||"").split("base64,"),N=null;if(T.length===2){var Q=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(T[0]);Array.isArray(Q)&&(N={mimeType:Q[1],charset:Q[2],data:T[1]})}return N},Z=t.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};t.__addimage__.isArrayBuffer=function(I){return Z()&&I instanceof ArrayBuffer};var ae=t.__addimage__.isArrayBufferView=function(I){return Z()&&typeof Uint32Array<"u"&&(I instanceof Int8Array||I instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&I instanceof Uint8ClampedArray||I instanceof Int16Array||I instanceof Uint16Array||I instanceof Int32Array||I instanceof Uint32Array||I instanceof Float32Array||I instanceof Float64Array)},R=t.__addimage__.binaryStringToUint8Array=function(I){for(var T=I.length,N=new Uint8Array(T),Q=0;Q<T;Q++)N[Q]=I.charCodeAt(Q);return N},E=t.__addimage__.arrayBufferToBinaryString=function(I){for(var T="",N=ae(I)?I:new Uint8Array(I),Q=0;Q<N.length;Q+=8192)T+=String.fromCharCode.apply(null,N.subarray(Q,Q+8192));return T};t.addImage=function(){var I,T,N,Q,ve,me,ye,Y,le;if(typeof arguments[1]=="number"?(T=e,N=arguments[1],Q=arguments[2],ve=arguments[3],me=arguments[4],ye=arguments[5],Y=arguments[6],le=arguments[7]):(T=arguments[1],N=arguments[2],Q=arguments[3],ve=arguments[4],me=arguments[5],ye=arguments[6],Y=arguments[7],le=arguments[8]),zt(I=arguments[0])==="object"&&!g(I)&&"imageData"in I){var ce=I;I=ce.imageData,T=ce.format||T||e,N=ce.x||N||0,Q=ce.y||Q||0,ve=ce.w||ce.width||ve,me=ce.h||ce.height||me,ye=ce.alias||ye,Y=ce.compression||Y,le=ce.rotation||ce.angle||le}var Ce=this.internal.getFilters();if(Y===void 0&&Ce.indexOf("FlateEncode")!==-1&&(Y="SLOW"),isNaN(N)||isNaN(Q))throw new Error("Invalid coordinates passed to jsPDF.addImage");a.call(this);var L=O.call(this,I,T,ye,Y);return P.call(this,N,Q,ve,me,L,le),this};var O=function(I,T,N,Q){var ve,me,ye;if(typeof I=="string"&&r(I)===e){I=unescape(I);var Y=B(I,!1);(Y!==""||(Y=t.loadFile(I,!0))!==void 0)&&(I=Y)}if(g(I)&&(I=_(I,T)),T=r(I,T),!p(T))throw new Error("addImage does not support files of type '"+T+"', please ensure that a plugin for '"+T+"' support is added.");if(((ye=N)==null||ye.length===0)&&(N=function(le){return typeof le=="string"||ae(le)?S(le):ae(le.data)?S(le.data):null}(I)),(ve=v.call(this,N))||(Z()&&(I instanceof Uint8Array||T==="RGBA"||(me=I,I=R(I))),ve=this["process"+T.toUpperCase()](I,h.call(this),N,function(le){return le&&typeof le=="string"&&(le=le.toUpperCase()),le in t.image_compression?le:b.NONE}(Q),me)),!ve)throw new Error("An unknown error occurred whilst processing the image.");return ve},B=t.__addimage__.convertBase64ToBinaryString=function(I,T){var N;T=typeof T!="boolean"||T;var Q,ve="";if(typeof I=="string"){Q=(N=W(I))!==null?N.data:I;try{ve=wh(Q)}catch(me){if(T)throw F(Q)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+me.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return ve};t.getImageProperties=function(I){var T,N,Q="";if(g(I)&&(I=_(I)),typeof I=="string"&&r(I)===e&&((Q=B(I,!1))===""&&(Q=t.loadFile(I)||""),I=Q),N=r(I),!p(N))throw new Error("addImage does not support files of type '"+N+"', please ensure that a plugin for '"+N+"' support is added.");if(!Z()||I instanceof Uint8Array||(I=R(I)),!(T=this["process"+N.toUpperCase()](I)))throw new Error("An unknown error occurred whilst processing the image");return T.fileType=N,T}})(it.API),function(t){var e=function(n){if(n!==void 0&&n!="")return!0};it.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var r,i,s,o=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(n.objId),h=n.pageContext.annotations,p=!1,g=0;g<h.length&&!p;g++)switch((r=h[g]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(p=!0);break;case"reference":case"text":case"freetext":p=!0}if(p!=0){this.internal.write("/Annots [");for(var _=0;_<h.length;_++){r=h[_];var v=this.internal.pdfEscape,C=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var P=this.internal.newAdditionalObject(),U=this.internal.newAdditionalObject(),b=this.internal.getEncryptor(P.objId),S=r.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y)+"] ")+"/Contents ("+v(b(r.contents))+")",s+=" /Popup "+U.objId+" 0 R",s+=" /P "+l.objId+" 0 R",s+=" /T ("+v(b(S))+") >>",P.content=s;var F=P.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+o(r.bounds.x+30)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w+30)+" "+a(r.bounds.y)+"] ")+" /Parent "+F,r.open&&(s+=" /Open true"),s+=" >>",U.content=s,this.internal.write(P.objId,"0 R",U.objId,"0 R");break;case"freetext":i="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y+r.bounds.h)+"] ";var W=r.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+v(C(r.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+W+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(r.options.name){var Z=this.annotations._nameMap[r.options.name];r.options.pageNumber=Z.page,r.options.top=Z.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",s="",r.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+v(C(r.options.url))+") >>";else if(r.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,s+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var ae=a(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),s+=" /XYZ "+r.options.left+" "+ae+" "+r.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),t.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},t.link=function(n,r,i,s,o){var a=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,h=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:l(n),y:h(r),w:l(n+i),h:h(r+s)},options:o,type:"link"})},t.textWithLink=function(n,r,i,s){var o,a,l=this.getTextWidth(n),h=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){a=s.maxWidth;var p=this.splitTextToSize(n,a).length;o=Math.ceil(h*p)}else a=l,o=h;return this.text(n,r,i,s),i+=.2*h,s.align==="center"&&(r-=l/2),s.align==="right"&&(r-=l),this.link(r,i-h,a,o,s),l},t.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}}(it.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var s=t.__arabicParser__.isInArabicSubstitutionA=function(P){return e[P.charCodeAt(0)]!==void 0},o=t.__arabicParser__.isArabicLetter=function(P){return typeof P=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(P)},a=t.__arabicParser__.isArabicEndLetter=function(P){return o(P)&&s(P)&&e[P.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(P){return o(P)&&i.indexOf(P.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(P){return o(P)&&s(P)&&e[P.charCodeAt(0)].length>=1};var h=t.__arabicParser__.arabicLetterHasFinalForm=function(P){return o(P)&&s(P)&&e[P.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(P){return o(P)&&s(P)&&e[P.charCodeAt(0)].length>=3};var p=t.__arabicParser__.arabicLetterHasMedialForm=function(P){return o(P)&&s(P)&&e[P.charCodeAt(0)].length==4},g=t.__arabicParser__.resolveLigatures=function(P){var U=0,b=n,S="",F=0;for(U=0;U<P.length;U+=1)b[P.charCodeAt(U)]!==void 0?(F++,typeof(b=b[P.charCodeAt(U)])=="number"&&(S+=String.fromCharCode(b),b=n,F=0),U===P.length-1&&(b=n,S+=P.charAt(U-(F-1)),U-=F-1,F=0)):(b=n,S+=P.charAt(U-F),U-=F,F=0);return S};t.__arabicParser__.isArabicDiacritic=function(P){return P!==void 0&&r[P.charCodeAt(0)]!==void 0};var _=t.__arabicParser__.getCorrectForm=function(P,U,b){return o(P)?s(P)===!1?-1:!h(P)||!o(U)&&!o(b)||!o(b)&&a(U)||a(P)&&!o(U)||a(P)&&l(U)||a(P)&&a(U)?0:p(P)&&o(U)&&!a(U)&&o(b)&&h(b)?3:a(P)||!o(b)?1:2:-1},v=function(P){var U=0,b=0,S=0,F="",W="",Z="",ae=(P=P||"").split("\\s+"),R=[];for(U=0;U<ae.length;U+=1){for(R.push(""),b=0;b<ae[U].length;b+=1)F=ae[U][b],W=ae[U][b-1],Z=ae[U][b+1],o(F)?(S=_(F,W,Z),R[U]+=S!==-1?String.fromCharCode(e[F.charCodeAt(0)][S]):F):R[U]+=F;R[U]=g(R[U])}return R.join(" ")},C=t.__arabicParser__.processArabic=t.processArabic=function(){var P,U=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,b=[];if(Array.isArray(U)){var S=0;for(b=[],S=0;S<U.length;S+=1)Array.isArray(U[S])?b.push([v(U[S][0]),U[S][1],U[S][2]]):b.push([v(U[S])]);P=b}else P=v(U);return typeof arguments[0]=="string"?P:(arguments[0].text=P,arguments[0])};t.events.push(["preProcessText",C])}(it.API),it.API.autoPrint=function(t){var e;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(t){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(a){n=a}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(a){r=isNaN(a)||Number.isInteger(a)===!1||a<0?150:a,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(a){i=isNaN(a)||Number.isInteger(a)===!1||a<0?300:a,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(a){s=a}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(a){o=a}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,r){var i;if((n=n||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(it.API),function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(P){l=P}});var h=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return h},set:function(P){h=P}});var p=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return p},set:function(P){p=P}});var g=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return g},set:function(P){g=P}});var _=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return _},set:function(P){_=P}});var v=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return v},set:function(P){v=P}});var C=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return C},set:function(P){C=P}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(l){return r.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},t.getTextDimensions=function(l,h){r.call(this);var p=(h=h||{}).fontSize||this.getFontSize(),g=h.font||this.getFont(),_=h.scaleFactor||this.internal.scaleFactor,v=0,C=0,P=0,U=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var b=h.maxWidth;b>0?typeof l=="string"?l=this.splitTextToSize(l,b):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(F,W){return F.concat(U.splitTextToSize(W,b))},[])):l=Array.isArray(l)?l:[l];for(var S=0;S<l.length;S++)v<(P=this.getStringUnitWidth(l[S],{font:g})*p)&&(v=P);return v!==0&&(C=l.length),{w:v/=_,h:Math.max((C*p*this.getLineHeightFactor()-p*(this.getLineHeightFactor()-1))/_,0)}},t.cellAddPage=function(){r.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=t.cell=function(){var l;l=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var h=this.internal.__cell__.lastCell,p=this.internal.__cell__.padding,g=this.internal.__cell__.margins||e,_=this.internal.__cell__.tableHeaderRow,v=this.internal.__cell__.printHeaders;return h.lineNumber!==void 0&&(h.lineNumber===l.lineNumber?(l.x=(h.x||0)+(h.width||0),l.y=h.y||0):h.y+h.height+l.height+g.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=g.top,v&&_&&(this.printHeaderRow(l.lineNumber,!0),l.y+=_[0].height)):l.y=h.y+h.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,n===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-p,l.y+p,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+p,{align:"center",baseline:"top",maxWidth:l.width-p-p}):this.text(l.text,l.x+p,l.y+p,{align:"left",baseline:"top",maxWidth:l.width-p-p})),this.internal.__cell__.lastCell=l,this};t.table=function(l,h,p,g,_){if(r.call(this),!p)throw new Error("No data for PDF table.");var v,C,P,U,b=[],S=[],F=[],W={},Z={},ae=[],R=[],E=(_=_||{}).autoSize||!1,O=_.printHeaders!==!1,B=_.css&&_.css["font-size"]!==void 0?16*_.css["font-size"]:_.fontSize||12,I=_.margins||Object.assign({width:this.getPageWidth()},e),T=typeof _.padding=="number"?_.padding:3,N=_.headerBackgroundColor||"#c8c8c8",Q=_.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=O,this.internal.__cell__.margins=I,this.internal.__cell__.table_font_size=B,this.internal.__cell__.padding=T,this.internal.__cell__.headerBackgroundColor=N,this.internal.__cell__.headerTextColor=Q,this.setFontSize(B),g==null)S=b=Object.keys(p[0]),F=b.map(function(){return"left"});else if(Array.isArray(g)&&zt(g[0])==="object")for(b=g.map(function(ce){return ce.name}),S=g.map(function(ce){return ce.prompt||ce.name||""}),F=g.map(function(ce){return ce.align||"left"}),v=0;v<g.length;v+=1)Z[g[v].name]=g[v].width*(19.049976/25.4);else Array.isArray(g)&&typeof g[0]=="string"&&(S=b=g,F=b.map(function(){return"left"}));if(E||Array.isArray(g)&&typeof g[0]=="string")for(v=0;v<b.length;v+=1){for(W[U=b[v]]=p.map(function(ce){return ce[U]}),this.setFont(void 0,"bold"),ae.push(this.getTextDimensions(S[v],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),C=W[U],this.setFont(void 0,"normal"),P=0;P<C.length;P+=1)ae.push(this.getTextDimensions(C[P],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);Z[U]=Math.max.apply(null,ae)+T+T,ae=[]}if(O){var ve={};for(v=0;v<b.length;v+=1)ve[b[v]]={},ve[b[v]].text=S[v],ve[b[v]].align=F[v];var me=a.call(this,ve,Z);R=b.map(function(ce){return new s(l,h,Z[ce],me,ve[ce].text,void 0,ve[ce].align)}),this.setTableHeaderRow(R),this.printHeaderRow(1,!1)}var ye=g.reduce(function(ce,Ce){return ce[Ce.name]=Ce.align,ce},{});for(v=0;v<p.length;v+=1){"rowStart"in _&&_.rowStart instanceof Function&&_.rowStart({row:v,data:p[v]},this);var Y=a.call(this,p[v],Z);for(P=0;P<b.length;P+=1){var le=p[v][b[P]];"cellStart"in _&&_.cellStart instanceof Function&&_.cellStart({row:v,col:P,data:le},this),o.call(this,new s(l,h,Z[b[P]],Y,le,v+2,ye[b[P]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=h,this};var a=function(l,h){var p=this.internal.__cell__.padding,g=this.internal.__cell__.table_font_size,_=this.internal.scaleFactor;return Object.keys(l).map(function(v){var C=l[v];return this.splitTextToSize(C.hasOwnProperty("text")?C.text:C,h[v]-p-p)},this).map(function(v){return this.getLineHeightFactor()*v.length*g/_+p+p},this).reduce(function(v,C){return Math.max(v,C)},0)};t.setTableHeaderRow=function(l){r.call(this),this.internal.__cell__.tableHeaderRow=l},t.printHeaderRow=function(l,h){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var p;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var g=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(g[0],g[1],g[2],g[3],void 0,-1)}this.setFont(void 0,"bold");for(var _=[],v=0;v<this.internal.__cell__.tableHeaderRow.length;v+=1){p=this.internal.__cell__.tableHeaderRow[v].clone(),h&&(p.y=this.internal.__cell__.margins.top||0,_.push(p)),p.lineNumber=l;var C=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,p),this.setTextColor(C)}_.length>0&&this.setTableHeaderRow(_),this.setFont(void 0,"normal"),n=!1}}(it.API);var yb={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},_b=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Q1=vb(_b),wb=[100,200,300,400,500,600,700,800,900],TL=vb(wb);function Y1(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),n=function(s){return yb[s=s||"normal"]?s:"normal"}(t.style),r=function(s){if(!s)return 400;if(typeof s=="number")return s>=100&&s<=900&&s%100==0?s:400;if(/^\d00$/.test(s))return parseInt(s);switch(s){case"bold":return 700;case"normal":default:return 400}}(t.weight),i=function(s){return typeof Q1[s=s||"normal"]=="number"?s:"normal"}(t.stretch);return{family:e,style:n,weight:r,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,n,r].join(" ")}}}function i_(t,e,n,r){var i;for(i=n;i>=0&&i<e.length;i+=r)if(t[e[i]])return t[e[i]];for(i=n;i>=0&&i<e.length;i-=r)if(t[e[i]])return t[e[i]]}var PL={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},s_={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function o_(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function NL(t,e,n){for(var r=(n=n||{}).defaultFontFamily||"times",i=Object.assign({},PL,n.genericFontFamilies||{}),s=null,o=null,a=0;a<e.length;++a)if(i[(s=Y1(e[a])).family]&&(s.family=i[s.family]),t.hasOwnProperty(s.family)){o=t[s.family];break}if(!(o=o||t[r]))throw new Error("Could not find a font-family for the rule '"+o_(s)+"' and default family '"+r+"'.");if(o=function(l,h){if(h[l])return h[l];var p=Q1[l],g=p<=Q1.normal?-1:1,_=i_(h,_b,p,g);if(!_)throw new Error("Could not find a matching font-stretch value for "+l);return _}(s.stretch,o),o=function(l,h){if(h[l])return h[l];for(var p=yb[l],g=0;g<p.length;++g)if(h[p[g]])return h[p[g]];throw new Error("Could not find a matching font-style for "+l)}(s.style,o),!(o=function(l,h){if(h[l])return h[l];if(l===400&&h[500])return h[500];if(l===500&&h[400])return h[400];var p=TL[l],g=i_(h,wb,p,l<400?-1:1);if(!g)throw new Error("Could not find a matching font-weight for value "+l);return g}(s.weight,o)))throw new Error("Failed to resolve a font for the rule '"+o_(s)+"'.");return o}function a_(t){return t.trimLeft()}function xL(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function kL(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var od,l_,u_,vg=["times"];(function(t){var e,n,r,i,s,o,a,l,h,p=function(L){return L=L||{},this.isStrokeTransparent=L.isStrokeTransparent||!1,this.strokeOpacity=L.strokeOpacity||1,this.strokeStyle=L.strokeStyle||"#000000",this.fillStyle=L.fillStyle||"#000000",this.isFillTransparent=L.isFillTransparent||!1,this.fillOpacity=L.fillOpacity||1,this.font=L.font||"10px sans-serif",this.textBaseline=L.textBaseline||"alphabetic",this.textAlign=L.textAlign||"left",this.lineWidth=L.lineWidth||1,this.lineJoin=L.lineJoin||"miter",this.lineCap=L.lineCap||"butt",this.path=L.path||[],this.transform=L.transform!==void 0?L.transform.clone():new l,this.globalCompositeOperation=L.globalCompositeOperation||"normal",this.globalAlpha=L.globalAlpha||1,this.clip_path=L.clip_path||[],this.currentPoint=L.currentPoint||new o,this.miterLimit=L.miterLimit||10,this.lastPoint=L.lastPoint||new o,this.lineDashOffset=L.lineDashOffset||0,this.lineDash=L.lineDash||[],this.margin=L.margin||[0,0,0,0],this.prevPageLastElemOffset=L.prevPageLastElemOffset||0,this.ignoreClearRect=typeof L.ignoreClearRect!="boolean"||L.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new g(this),e=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,o=this.internal.Point,a=this.internal.Rectangle,l=this.internal.Matrix,h=new p}]);var g=function(L){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var q=L;Object.defineProperty(this,"pdf",{get:function(){return q}});var G=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return G},set:function(Ae){G=!!Ae}});var J=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return J},set:function(Ae){J=!!Ae}});var ne=0;Object.defineProperty(this,"posX",{get:function(){return ne},set:function(Ae){isNaN(Ae)||(ne=Ae)}});var ue=0;Object.defineProperty(this,"posY",{get:function(){return ue},set:function(Ae){isNaN(Ae)||(ue=Ae)}}),Object.defineProperty(this,"margin",{get:function(){return h.margin},set:function(Ae){var K;typeof Ae=="number"?K=[Ae,Ae,Ae,Ae]:((K=new Array(4))[0]=Ae[0],K[1]=Ae.length>=2?Ae[1]:K[0],K[2]=Ae.length>=3?Ae[2]:K[0],K[3]=Ae.length>=4?Ae[3]:K[1]),h.margin=K}});var pe=!1;Object.defineProperty(this,"autoPaging",{get:function(){return pe},set:function(Ae){pe=Ae}});var ge=0;Object.defineProperty(this,"lastBreak",{get:function(){return ge},set:function(Ae){ge=Ae}});var Oe=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Oe},set:function(Ae){Oe=Ae}}),Object.defineProperty(this,"ctx",{get:function(){return h},set:function(Ae){Ae instanceof p&&(h=Ae)}}),Object.defineProperty(this,"path",{get:function(){return h.path},set:function(Ae){h.path=Ae}});var ke=[];Object.defineProperty(this,"ctxStack",{get:function(){return ke},set:function(Ae){ke=Ae}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Ae){var K;K=_(Ae),this.ctx.fillStyle=K.style,this.ctx.isFillTransparent=K.a===0,this.ctx.fillOpacity=K.a,this.pdf.setFillColor(K.r,K.g,K.b,{a:K.a}),this.pdf.setTextColor(K.r,K.g,K.b,{a:K.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Ae){var K=_(Ae);this.ctx.strokeStyle=K.style,this.ctx.isStrokeTransparent=K.a===0,this.ctx.strokeOpacity=K.a,K.a===0?this.pdf.setDrawColor(255,255,255):(K.a,this.pdf.setDrawColor(K.r,K.g,K.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Ae){["butt","round","square"].indexOf(Ae)!==-1&&(this.ctx.lineCap=Ae,this.pdf.setLineCap(Ae))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Ae){isNaN(Ae)||(this.ctx.lineWidth=Ae,this.pdf.setLineWidth(Ae))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Ae){["bevel","round","miter"].indexOf(Ae)!==-1&&(this.ctx.lineJoin=Ae,this.pdf.setLineJoin(Ae))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Ae){isNaN(Ae)||(this.ctx.miterLimit=Ae,this.pdf.setMiterLimit(Ae))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Ae){this.ctx.textBaseline=Ae}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Ae){["right","end","center","left","start"].indexOf(Ae)!==-1&&(this.ctx.textAlign=Ae)}});var Ve=null;function Fe(Ae,K){if(Ve===null){var ht=function(Qe){var Le=[];return Object.keys(Qe).forEach(function(De){Qe[De].forEach(function(ze){var Be=null;switch(ze){case"bold":Be={family:De,weight:"bold"};break;case"italic":Be={family:De,style:"italic"};break;case"bolditalic":Be={family:De,weight:"bold",style:"italic"};break;case"":case"normal":Be={family:De}}Be!==null&&(Be.ref={name:De,style:ze},Le.push(Be))})}),Le}(Ae.getFontList());Ve=function(Qe){for(var Le={},De=0;De<Qe.length;++De){var ze=Y1(Qe[De]),Be=ze.family,Ye=ze.stretch,ut=ze.style,dt=ze.weight;Le[Be]=Le[Be]||{},Le[Be][Ye]=Le[Be][Ye]||{},Le[Be][Ye][ut]=Le[Be][Ye][ut]||{},Le[Be][Ye][ut][dt]=ze}return Le}(ht.concat(K))}return Ve}var Ze=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ze},set:function(Ae){Ve=null,Ze=Ae}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Ae){var K;if(this.ctx.font=Ae,(K=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Ae))!==null){var ht=K[1],Qe=(K[2],K[3]),Le=K[4],De=(K[5],K[6]),ze=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Le)[2];Le=Math.floor(ze==="px"?parseFloat(Le)*this.pdf.internal.scaleFactor:ze==="em"?parseFloat(Le)*this.pdf.getFontSize():parseFloat(Le)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Le);var Be=function(rt){var wt,qe,dn=[],Pt=rt.trim();if(Pt==="")return vg;if(Pt in s_)return[s_[Pt]];for(;Pt!=="";){switch(qe=null,wt=(Pt=a_(Pt)).charAt(0)){case'"':case"'":qe=xL(Pt.substring(1),wt);break;default:qe=kL(Pt)}if(qe===null||(dn.push(qe[0]),(Pt=a_(qe[1]))!==""&&Pt.charAt(0)!==","))return vg;Pt=Pt.replace(/^,/,"")}return dn}(De);if(this.fontFaces){var Ye=NL(Fe(this.pdf,this.fontFaces),Be.map(function(rt){return{family:rt,stretch:"normal",weight:Qe,style:ht}}));this.pdf.setFont(Ye.ref.name,Ye.ref.style)}else{var ut="";(Qe==="bold"||parseInt(Qe,10)>=700||ht==="bold")&&(ut="bold"),ht==="italic"&&(ut+="italic"),ut.length===0&&(ut="normal");for(var dt="",Xe={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},st=0;st<Be.length;st++){if(this.pdf.internal.getFont(Be[st],ut,{noFallback:!0,disableWarning:!0})!==void 0){dt=Be[st];break}if(ut==="bolditalic"&&this.pdf.internal.getFont(Be[st],"bold",{noFallback:!0,disableWarning:!0})!==void 0)dt=Be[st],ut="bold";else if(this.pdf.internal.getFont(Be[st],"normal",{noFallback:!0,disableWarning:!0})!==void 0){dt=Be[st],ut="normal";break}}if(dt===""){for(var kt=0;kt<Be.length;kt++)if(Xe[Be[kt]]){dt=Xe[Be[kt]];break}}dt=dt===""?"Times":dt,this.pdf.setFont(dt,ut)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Ae){this.ctx.globalCompositeOperation=Ae}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Ae){this.ctx.globalAlpha=Ae}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Ae){this.ctx.lineDashOffset=Ae,Ce.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Ae){this.ctx.lineDash=Ae,Ce.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Ae){this.ctx.ignoreClearRect=!!Ae}})};g.prototype.setLineDash=function(L){this.lineDash=L},g.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},g.prototype.fill=function(){W.call(this,"fill",!1)},g.prototype.stroke=function(){W.call(this,"stroke",!1)},g.prototype.beginPath=function(){this.path=[{type:"begin"}]},g.prototype.moveTo=function(L,q){if(isNaN(L)||isNaN(q))throw Gt.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var G=this.ctx.transform.applyToPoint(new o(L,q));this.path.push({type:"mt",x:G.x,y:G.y}),this.ctx.lastPoint=new o(L,q)},g.prototype.closePath=function(){var L=new o(0,0),q=0;for(q=this.path.length-1;q!==-1;q--)if(this.path[q].type==="begin"&&zt(this.path[q+1])==="object"&&typeof this.path[q+1].x=="number"){L=new o(this.path[q+1].x,this.path[q+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(L.x,L.y)},g.prototype.lineTo=function(L,q){if(isNaN(L)||isNaN(q))throw Gt.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var G=this.ctx.transform.applyToPoint(new o(L,q));this.path.push({type:"lt",x:G.x,y:G.y}),this.ctx.lastPoint=new o(G.x,G.y)},g.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),W.call(this,null,!0)},g.prototype.quadraticCurveTo=function(L,q,G,J){if(isNaN(G)||isNaN(J)||isNaN(L)||isNaN(q))throw Gt.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ne=this.ctx.transform.applyToPoint(new o(G,J)),ue=this.ctx.transform.applyToPoint(new o(L,q));this.path.push({type:"qct",x1:ue.x,y1:ue.y,x:ne.x,y:ne.y}),this.ctx.lastPoint=new o(ne.x,ne.y)},g.prototype.bezierCurveTo=function(L,q,G,J,ne,ue){if(isNaN(ne)||isNaN(ue)||isNaN(L)||isNaN(q)||isNaN(G)||isNaN(J))throw Gt.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var pe=this.ctx.transform.applyToPoint(new o(ne,ue)),ge=this.ctx.transform.applyToPoint(new o(L,q)),Oe=this.ctx.transform.applyToPoint(new o(G,J));this.path.push({type:"bct",x1:ge.x,y1:ge.y,x2:Oe.x,y2:Oe.y,x:pe.x,y:pe.y}),this.ctx.lastPoint=new o(pe.x,pe.y)},g.prototype.arc=function(L,q,G,J,ne,ue){if(isNaN(L)||isNaN(q)||isNaN(G)||isNaN(J)||isNaN(ne))throw Gt.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ue=!!ue,!this.ctx.transform.isIdentity){var pe=this.ctx.transform.applyToPoint(new o(L,q));L=pe.x,q=pe.y;var ge=this.ctx.transform.applyToPoint(new o(0,G)),Oe=this.ctx.transform.applyToPoint(new o(0,0));G=Math.sqrt(Math.pow(ge.x-Oe.x,2)+Math.pow(ge.y-Oe.y,2))}Math.abs(ne-J)>=2*Math.PI&&(J=0,ne=2*Math.PI),this.path.push({type:"arc",x:L,y:q,radius:G,startAngle:J,endAngle:ne,counterclockwise:ue})},g.prototype.arcTo=function(L,q,G,J,ne){throw new Error("arcTo not implemented.")},g.prototype.rect=function(L,q,G,J){if(isNaN(L)||isNaN(q)||isNaN(G)||isNaN(J))throw Gt.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(L,q),this.lineTo(L+G,q),this.lineTo(L+G,q+J),this.lineTo(L,q+J),this.lineTo(L,q),this.lineTo(L+G,q),this.lineTo(L,q)},g.prototype.fillRect=function(L,q,G,J){if(isNaN(L)||isNaN(q)||isNaN(G)||isNaN(J))throw Gt.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!v.call(this)){var ne={};this.lineCap!=="butt"&&(ne.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ne.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(L,q,G,J),this.fill(),ne.hasOwnProperty("lineCap")&&(this.lineCap=ne.lineCap),ne.hasOwnProperty("lineJoin")&&(this.lineJoin=ne.lineJoin)}},g.prototype.strokeRect=function(L,q,G,J){if(isNaN(L)||isNaN(q)||isNaN(G)||isNaN(J))throw Gt.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");C.call(this)||(this.beginPath(),this.rect(L,q,G,J),this.stroke())},g.prototype.clearRect=function(L,q,G,J){if(isNaN(L)||isNaN(q)||isNaN(G)||isNaN(J))throw Gt.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(L,q,G,J))},g.prototype.save=function(L){L=typeof L!="boolean"||L;for(var q=this.pdf.internal.getCurrentPageInfo().pageNumber,G=0;G<this.pdf.internal.getNumberOfPages();G++)this.pdf.setPage(G+1),this.pdf.internal.out("q");if(this.pdf.setPage(q),L){this.ctx.fontSize=this.pdf.internal.getFontSize();var J=new p(this.ctx);this.ctxStack.push(this.ctx),this.ctx=J}},g.prototype.restore=function(L){L=typeof L!="boolean"||L;for(var q=this.pdf.internal.getCurrentPageInfo().pageNumber,G=0;G<this.pdf.internal.getNumberOfPages();G++)this.pdf.setPage(G+1),this.pdf.internal.out("Q");this.pdf.setPage(q),L&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},g.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var _=function(L){var q,G,J,ne;if(L.isCanvasGradient===!0&&(L=L.getColor()),!L)return{r:0,g:0,b:0,a:0,style:L};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(L))q=0,G=0,J=0,ne=0;else{var ue=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(L);if(ue!==null)q=parseInt(ue[1]),G=parseInt(ue[2]),J=parseInt(ue[3]),ne=1;else if((ue=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(L))!==null)q=parseInt(ue[1]),G=parseInt(ue[2]),J=parseInt(ue[3]),ne=parseFloat(ue[4]);else{if(ne=1,typeof L=="string"&&L.charAt(0)!=="#"){var pe=new hb(L);L=pe.ok?pe.toHex():"#000000"}L.length===4?(q=L.substring(1,2),q+=q,G=L.substring(2,3),G+=G,J=L.substring(3,4),J+=J):(q=L.substring(1,3),G=L.substring(3,5),J=L.substring(5,7)),q=parseInt(q,16),G=parseInt(G,16),J=parseInt(J,16)}}return{r:q,g:G,b:J,a:ne,style:L}},v=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},C=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};g.prototype.fillText=function(L,q,G,J){if(isNaN(q)||isNaN(G)||typeof L!="string")throw Gt.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(J=isNaN(J)?void 0:J,!v.call(this)){var ne=Y(this.ctx.transform.rotation),ue=this.ctx.transform.scaleX;T.call(this,{text:L,x:q,y:G,scale:ue,angle:ne,align:this.textAlign,maxWidth:J})}},g.prototype.strokeText=function(L,q,G,J){if(isNaN(q)||isNaN(G)||typeof L!="string")throw Gt.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!C.call(this)){J=isNaN(J)?void 0:J;var ne=Y(this.ctx.transform.rotation),ue=this.ctx.transform.scaleX;T.call(this,{text:L,x:q,y:G,scale:ue,renderingMode:"stroke",angle:ne,align:this.textAlign,maxWidth:J})}},g.prototype.measureText=function(L){if(typeof L!="string")throw Gt.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var q=this.pdf,G=this.pdf.internal.scaleFactor,J=q.internal.getFontSize(),ne=q.getStringUnitWidth(L)*J/q.internal.scaleFactor,ue=function(pe){var ge=(pe=pe||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ge}}),this};return new ue({width:ne*=Math.round(96*G/72*1e4)/1e4})},g.prototype.scale=function(L,q){if(isNaN(L)||isNaN(q))throw Gt.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var G=new l(L,0,0,q,0,0);this.ctx.transform=this.ctx.transform.multiply(G)},g.prototype.rotate=function(L){if(isNaN(L))throw Gt.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var q=new l(Math.cos(L),Math.sin(L),-Math.sin(L),Math.cos(L),0,0);this.ctx.transform=this.ctx.transform.multiply(q)},g.prototype.translate=function(L,q){if(isNaN(L)||isNaN(q))throw Gt.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var G=new l(1,0,0,1,L,q);this.ctx.transform=this.ctx.transform.multiply(G)},g.prototype.transform=function(L,q,G,J,ne,ue){if(isNaN(L)||isNaN(q)||isNaN(G)||isNaN(J)||isNaN(ne)||isNaN(ue))throw Gt.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var pe=new l(L,q,G,J,ne,ue);this.ctx.transform=this.ctx.transform.multiply(pe)},g.prototype.setTransform=function(L,q,G,J,ne,ue){L=isNaN(L)?1:L,q=isNaN(q)?0:q,G=isNaN(G)?0:G,J=isNaN(J)?1:J,ne=isNaN(ne)?0:ne,ue=isNaN(ue)?0:ue,this.ctx.transform=new l(L,q,G,J,ne,ue)};var P=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};g.prototype.drawImage=function(L,q,G,J,ne,ue,pe,ge,Oe){var ke=this.pdf.getImageProperties(L),Ve=1,Fe=1,Ze=1,Ae=1;J!==void 0&&ge!==void 0&&(Ze=ge/J,Ae=Oe/ne,Ve=ke.width/J*ge/J,Fe=ke.height/ne*Oe/ne),ue===void 0&&(ue=q,pe=G,q=0,G=0),J!==void 0&&ge===void 0&&(ge=J,Oe=ne),J===void 0&&ge===void 0&&(ge=ke.width,Oe=ke.height);for(var K,ht=this.ctx.transform.decompose(),Qe=Y(ht.rotate.shx),Le=new l,De=(Le=(Le=(Le=Le.multiply(ht.translate)).multiply(ht.skew)).multiply(ht.scale)).applyToRectangle(new a(ue-q*Ze,pe-G*Ae,J*Ve,ne*Fe)),ze=U.call(this,De),Be=[],Ye=0;Ye<ze.length;Ye+=1)Be.indexOf(ze[Ye])===-1&&Be.push(ze[Ye]);if(F(Be),this.autoPaging)for(var ut=Be[0],dt=Be[Be.length-1],Xe=ut;Xe<dt+1;Xe++){this.pdf.setPage(Xe);var st=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],kt=Xe===1?this.posY+this.margin[0]:this.margin[0],rt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],wt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],qe=Xe===1?0:rt+(Xe-2)*wt;if(this.ctx.clip_path.length!==0){var dn=this.path;K=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=S(K,this.posX+this.margin[3],-qe+kt+this.ctx.prevPageLastElemOffset),Z.call(this,"fill",!0),this.path=dn}var Pt=JSON.parse(JSON.stringify(De));Pt=S([Pt],this.posX+this.margin[3],-qe+kt+this.ctx.prevPageLastElemOffset)[0];var Dr=(Xe>ut||Xe<dt)&&P.call(this);Dr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],st,wt,null).clip().discardPath()),this.pdf.addImage(L,"JPEG",Pt.x,Pt.y,Pt.w,Pt.h,null,null,Qe),Dr&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(L,"JPEG",De.x,De.y,De.w,De.h,null,null,Qe)};var U=function(L,q,G){var J=[];q=q||this.pdf.internal.pageSize.width,G=G||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ne=this.posY+this.ctx.prevPageLastElemOffset;switch(L.type){default:case"mt":case"lt":J.push(Math.floor((L.y+ne)/G)+1);break;case"arc":J.push(Math.floor((L.y+ne-L.radius)/G)+1),J.push(Math.floor((L.y+ne+L.radius)/G)+1);break;case"qct":var ue=le(this.ctx.lastPoint.x,this.ctx.lastPoint.y,L.x1,L.y1,L.x,L.y);J.push(Math.floor((ue.y+ne)/G)+1),J.push(Math.floor((ue.y+ue.h+ne)/G)+1);break;case"bct":var pe=ce(this.ctx.lastPoint.x,this.ctx.lastPoint.y,L.x1,L.y1,L.x2,L.y2,L.x,L.y);J.push(Math.floor((pe.y+ne)/G)+1),J.push(Math.floor((pe.y+pe.h+ne)/G)+1);break;case"rect":J.push(Math.floor((L.y+ne)/G)+1),J.push(Math.floor((L.y+L.h+ne)/G)+1)}for(var ge=0;ge<J.length;ge+=1)for(;this.pdf.internal.getNumberOfPages()<J[ge];)b.call(this);return J},b=function(){var L=this.fillStyle,q=this.strokeStyle,G=this.font,J=this.lineCap,ne=this.lineWidth,ue=this.lineJoin;this.pdf.addPage(),this.fillStyle=L,this.strokeStyle=q,this.font=G,this.lineCap=J,this.lineWidth=ne,this.lineJoin=ue},S=function(L,q,G){for(var J=0;J<L.length;J++)switch(L[J].type){case"bct":L[J].x2+=q,L[J].y2+=G;case"qct":L[J].x1+=q,L[J].y1+=G;case"mt":case"lt":case"arc":default:L[J].x+=q,L[J].y+=G}return L},F=function(L){return L.sort(function(q,G){return q-G})},W=function(L,q){for(var G,J,ne=this.fillStyle,ue=this.strokeStyle,pe=this.lineCap,ge=this.lineWidth,Oe=Math.abs(ge*this.ctx.transform.scaleX),ke=this.lineJoin,Ve=JSON.parse(JSON.stringify(this.path)),Fe=JSON.parse(JSON.stringify(this.path)),Ze=[],Ae=0;Ae<Fe.length;Ae++)if(Fe[Ae].x!==void 0)for(var K=U.call(this,Fe[Ae]),ht=0;ht<K.length;ht+=1)Ze.indexOf(K[ht])===-1&&Ze.push(K[ht]);for(var Qe=0;Qe<Ze.length;Qe++)for(;this.pdf.internal.getNumberOfPages()<Ze[Qe];)b.call(this);if(F(Ze),this.autoPaging)for(var Le=Ze[0],De=Ze[Ze.length-1],ze=Le;ze<De+1;ze++){this.pdf.setPage(ze),this.fillStyle=ne,this.strokeStyle=ue,this.lineCap=pe,this.lineWidth=Oe,this.lineJoin=ke;var Be=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ye=ze===1?this.posY+this.margin[0]:this.margin[0],ut=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],dt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Xe=ze===1?0:ut+(ze-2)*dt;if(this.ctx.clip_path.length!==0){var st=this.path;G=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=S(G,this.posX+this.margin[3],-Xe+Ye+this.ctx.prevPageLastElemOffset),Z.call(this,L,!0),this.path=st}if(J=JSON.parse(JSON.stringify(Ve)),this.path=S(J,this.posX+this.margin[3],-Xe+Ye+this.ctx.prevPageLastElemOffset),q===!1||ze===0){var kt=(ze>Le||ze<De)&&P.call(this);kt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Be,dt,null).clip().discardPath()),Z.call(this,L,q),kt&&this.pdf.restoreGraphicsState()}this.lineWidth=ge}else this.lineWidth=Oe,Z.call(this,L,q),this.lineWidth=ge;this.path=Ve},Z=function(L,q){if((L!=="stroke"||q||!C.call(this))&&(L==="stroke"||q||!v.call(this))){for(var G,J,ne=[],ue=this.path,pe=0;pe<ue.length;pe++){var ge=ue[pe];switch(ge.type){case"begin":ne.push({begin:!0});break;case"close":ne.push({close:!0});break;case"mt":ne.push({start:ge,deltas:[],abs:[]});break;case"lt":var Oe=ne.length;if(ue[pe-1]&&!isNaN(ue[pe-1].x)&&(G=[ge.x-ue[pe-1].x,ge.y-ue[pe-1].y],Oe>0)){for(;Oe>=0;Oe--)if(ne[Oe-1].close!==!0&&ne[Oe-1].begin!==!0){ne[Oe-1].deltas.push(G),ne[Oe-1].abs.push(ge);break}}break;case"bct":G=[ge.x1-ue[pe-1].x,ge.y1-ue[pe-1].y,ge.x2-ue[pe-1].x,ge.y2-ue[pe-1].y,ge.x-ue[pe-1].x,ge.y-ue[pe-1].y],ne[ne.length-1].deltas.push(G);break;case"qct":var ke=ue[pe-1].x+2/3*(ge.x1-ue[pe-1].x),Ve=ue[pe-1].y+2/3*(ge.y1-ue[pe-1].y),Fe=ge.x+2/3*(ge.x1-ge.x),Ze=ge.y+2/3*(ge.y1-ge.y),Ae=ge.x,K=ge.y;G=[ke-ue[pe-1].x,Ve-ue[pe-1].y,Fe-ue[pe-1].x,Ze-ue[pe-1].y,Ae-ue[pe-1].x,K-ue[pe-1].y],ne[ne.length-1].deltas.push(G);break;case"arc":ne.push({deltas:[],abs:[],arc:!0}),Array.isArray(ne[ne.length-1].abs)&&ne[ne.length-1].abs.push(ge)}}J=q?null:L==="stroke"?"stroke":"fill";for(var ht=!1,Qe=0;Qe<ne.length;Qe++)if(ne[Qe].arc)for(var Le=ne[Qe].abs,De=0;De<Le.length;De++){var ze=Le[De];ze.type==="arc"?E.call(this,ze.x,ze.y,ze.radius,ze.startAngle,ze.endAngle,ze.counterclockwise,void 0,q,!ht):N.call(this,ze.x,ze.y),ht=!0}else if(ne[Qe].close===!0)this.pdf.internal.out("h"),ht=!1;else if(ne[Qe].begin!==!0){var Be=ne[Qe].start.x,Ye=ne[Qe].start.y;Q.call(this,ne[Qe].deltas,Be,Ye),ht=!0}J&&O.call(this,J),q&&B.call(this)}},ae=function(L){var q=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,G=q*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return L-G;case"top":return L+q-G;case"hanging":return L+q-2*G;case"middle":return L+q/2-G;case"ideographic":return L;case"alphabetic":default:return L}},R=function(L){return L+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};g.prototype.createLinearGradient=function(){var L=function(){};return L.colorStops=[],L.addColorStop=function(q,G){this.colorStops.push([q,G])},L.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},L.isCanvasGradient=!0,L},g.prototype.createPattern=function(){return this.createLinearGradient()},g.prototype.createRadialGradient=function(){return this.createLinearGradient()};var E=function(L,q,G,J,ne,ue,pe,ge,Oe){for(var ke=me.call(this,G,J,ne,ue),Ve=0;Ve<ke.length;Ve++){var Fe=ke[Ve];Ve===0&&(Oe?I.call(this,Fe.x1+L,Fe.y1+q):N.call(this,Fe.x1+L,Fe.y1+q)),ve.call(this,L,q,Fe.x2,Fe.y2,Fe.x3,Fe.y3,Fe.x4,Fe.y4)}ge?B.call(this):O.call(this,pe)},O=function(L){switch(L){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},B=function(){this.pdf.clip(),this.pdf.discardPath()},I=function(L,q){this.pdf.internal.out(n(L)+" "+r(q)+" m")},T=function(L){var q;switch(L.align){case"right":case"end":q="right";break;case"center":q="center";break;case"left":case"start":default:q="left"}var G=this.pdf.getTextDimensions(L.text),J=ae.call(this,L.y),ne=R.call(this,J)-G.h,ue=this.ctx.transform.applyToPoint(new o(L.x,J)),pe=this.ctx.transform.decompose(),ge=new l;ge=(ge=(ge=ge.multiply(pe.translate)).multiply(pe.skew)).multiply(pe.scale);for(var Oe,ke,Ve,Fe=this.ctx.transform.applyToRectangle(new a(L.x,J,G.w,G.h)),Ze=ge.applyToRectangle(new a(L.x,ne,G.w,G.h)),Ae=U.call(this,Ze),K=[],ht=0;ht<Ae.length;ht+=1)K.indexOf(Ae[ht])===-1&&K.push(Ae[ht]);if(F(K),this.autoPaging)for(var Qe=K[0],Le=K[K.length-1],De=Qe;De<Le+1;De++){this.pdf.setPage(De);var ze=De===1?this.posY+this.margin[0]:this.margin[0],Be=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ye=this.pdf.internal.pageSize.height-this.margin[2],ut=Ye-this.margin[0],dt=this.pdf.internal.pageSize.width-this.margin[1],Xe=dt-this.margin[3],st=De===1?0:Be+(De-2)*ut;if(this.ctx.clip_path.length!==0){var kt=this.path;Oe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=S(Oe,this.posX+this.margin[3],-1*st+ze),Z.call(this,"fill",!0),this.path=kt}var rt=S([JSON.parse(JSON.stringify(Ze))],this.posX+this.margin[3],-st+ze+this.ctx.prevPageLastElemOffset)[0];L.scale>=.01&&(ke=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ke*L.scale),Ve=this.lineWidth,this.lineWidth=Ve*L.scale);var wt=this.autoPaging!=="text";if(wt||rt.y+rt.h<=Ye){if(wt||rt.y>=ze&&rt.x<=dt){var qe=wt?L.text:this.pdf.splitTextToSize(L.text,L.maxWidth||dt-rt.x)[0],dn=S([JSON.parse(JSON.stringify(Fe))],this.posX+this.margin[3],-st+ze+this.ctx.prevPageLastElemOffset)[0],Pt=wt&&(De>Qe||De<Le)&&P.call(this);Pt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Xe,ut,null).clip().discardPath()),this.pdf.text(qe,dn.x,dn.y,{angle:L.angle,align:q,renderingMode:L.renderingMode}),Pt&&this.pdf.restoreGraphicsState()}}else rt.y<Ye&&(this.ctx.prevPageLastElemOffset+=Ye-rt.y);L.scale>=.01&&(this.pdf.setFontSize(ke),this.lineWidth=Ve)}else L.scale>=.01&&(ke=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ke*L.scale),Ve=this.lineWidth,this.lineWidth=Ve*L.scale),this.pdf.text(L.text,ue.x+this.posX,ue.y+this.posY,{angle:L.angle,align:q,renderingMode:L.renderingMode,maxWidth:L.maxWidth}),L.scale>=.01&&(this.pdf.setFontSize(ke),this.lineWidth=Ve)},N=function(L,q,G,J){G=G||0,J=J||0,this.pdf.internal.out(n(L+G)+" "+r(q+J)+" l")},Q=function(L,q,G){return this.pdf.lines(L,q,G,null,null)},ve=function(L,q,G,J,ne,ue,pe,ge){this.pdf.internal.out([e(i(G+L)),e(s(J+q)),e(i(ne+L)),e(s(ue+q)),e(i(pe+L)),e(s(ge+q)),"c"].join(" "))},me=function(L,q,G,J){for(var ne=2*Math.PI,ue=Math.PI/2;q>G;)q-=ne;var pe=Math.abs(G-q);pe<ne&&J&&(pe=ne-pe);for(var ge=[],Oe=J?-1:1,ke=q;pe>1e-5;){var Ve=ke+Oe*Math.min(pe,ue);ge.push(ye.call(this,L,ke,Ve)),pe-=Math.abs(Ve-ke),ke=Ve}return ge},ye=function(L,q,G){var J=(G-q)/2,ne=L*Math.cos(J),ue=L*Math.sin(J),pe=ne,ge=-ue,Oe=pe*pe+ge*ge,ke=Oe+pe*ne+ge*ue,Ve=4/3*(Math.sqrt(2*Oe*ke)-ke)/(pe*ue-ge*ne),Fe=pe-Ve*ge,Ze=ge+Ve*pe,Ae=Fe,K=-Ze,ht=J+q,Qe=Math.cos(ht),Le=Math.sin(ht);return{x1:L*Math.cos(q),y1:L*Math.sin(q),x2:Fe*Qe-Ze*Le,y2:Fe*Le+Ze*Qe,x3:Ae*Qe-K*Le,y3:Ae*Le+K*Qe,x4:L*Math.cos(G),y4:L*Math.sin(G)}},Y=function(L){return 180*L/Math.PI},le=function(L,q,G,J,ne,ue){var pe=L+.5*(G-L),ge=q+.5*(J-q),Oe=ne+.5*(G-ne),ke=ue+.5*(J-ue),Ve=Math.min(L,ne,pe,Oe),Fe=Math.max(L,ne,pe,Oe),Ze=Math.min(q,ue,ge,ke),Ae=Math.max(q,ue,ge,ke);return new a(Ve,Ze,Fe-Ve,Ae-Ze)},ce=function(L,q,G,J,ne,ue,pe,ge){var Oe,ke,Ve,Fe,Ze,Ae,K,ht,Qe,Le,De,ze,Be,Ye,ut=G-L,dt=J-q,Xe=ne-G,st=ue-J,kt=pe-ne,rt=ge-ue;for(ke=0;ke<41;ke++)Qe=(K=(Ve=L+(Oe=ke/40)*ut)+Oe*((Ze=G+Oe*Xe)-Ve))+Oe*(Ze+Oe*(ne+Oe*kt-Ze)-K),Le=(ht=(Fe=q+Oe*dt)+Oe*((Ae=J+Oe*st)-Fe))+Oe*(Ae+Oe*(ue+Oe*rt-Ae)-ht),ke==0?(De=Qe,ze=Le,Be=Qe,Ye=Le):(De=Math.min(De,Qe),ze=Math.min(ze,Le),Be=Math.max(Be,Qe),Ye=Math.max(Ye,Le));return new a(Math.round(De),Math.round(ze),Math.round(Be-De),Math.round(Ye-ze))},Ce=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var L,q,G=(L=this.ctx.lineDash,q=this.ctx.lineDashOffset,JSON.stringify({lineDash:L,lineDashOffset:q}));this.prevLineDash!==G&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=G)}}})(it.API),function(t){var e=function(s){var o,a,l,h,p,g,_,v,C,P;for(a=[],l=0,h=(s+=o="\0\0\0\0".slice(s.length%4||4)).length;h>l;l+=4)(p=(s.charCodeAt(l)<<24)+(s.charCodeAt(l+1)<<16)+(s.charCodeAt(l+2)<<8)+s.charCodeAt(l+3))!==0?(g=(p=((p=((p=((p=(p-(P=p%85))/85)-(C=p%85))/85)-(v=p%85))/85)-(_=p%85))/85)%85,a.push(g+33,_+33,v+33,C+33,P+33)):a.push(122);return function(U,b){for(var S=b;S>0;S--)U.pop()}(a,o.length),String.fromCharCode.apply(String,a)+"~>"},n=function(s){var o,a,l,h,p,g=String,_="length",v=255,C="charCodeAt",P="slice",U="replace";for(s[P](-2),s=s[P](0,-2)[U](/\s/g,"")[U]("z","!!!!!"),l=[],h=0,p=(s+=o="uuuuu"[P](s[_]%5||5))[_];p>h;h+=5)a=52200625*(s[C](h)-33)+614125*(s[C](h+1)-33)+7225*(s[C](h+2)-33)+85*(s[C](h+3)-33)+(s[C](h+4)-33),l.push(v&a>>24,v&a>>16,v&a>>8,v&a);return function(b,S){for(var F=S;F>0;F--)b.pop()}(l,o[_]),g.fromCharCode.apply(g,l)},r=function(s){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),o.test(s)===!1)return"";for(var a="",l=0;l<s.length;l+=2)a+=String.fromCharCode("0x"+(s[l]+s[l+1]));return a},i=function(s){for(var o=new Uint8Array(s.length),a=s.length;a--;)o[a]=s.charCodeAt(a);return s=(o=$1(o)).reduce(function(l,h){return l+String.fromCharCode(h)},"")};t.processDataByFilters=function(s,o){var a=0,l=s||"",h=[];for(typeof(o=o||[])=="string"&&(o=[o]),a=0;a<o.length;a+=1)switch(o[a]){case"ASCII85Decode":case"/ASCII85Decode":l=n(l),h.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=e(l),h.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=r(l),h.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map(function(p){return("0"+p.charCodeAt().toString(16)).slice(-2)}).join("")+">",h.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=i(l),h.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[a]+'" is not implemented')}return{data:l,reverseChain:h.reverse().join(" ")}}}(it.API),function(t){t.loadFile=function(e,n,r){return function(i,s,o){s=s!==!1,o=typeof o=="function"?o:function(){};var a=void 0;try{a=function(l,h,p){var g=new XMLHttpRequest,_=0,v=function(C){var P=C.length,U=[],b=String.fromCharCode;for(_=0;_<P;_+=1)U.push(b(255&C.charCodeAt(_)));return U.join("")};if(g.open("GET",l,!h),g.overrideMimeType("text/plain; charset=x-user-defined"),h===!1&&(g.onload=function(){g.status===200?p(v(this.responseText)):p(void 0)}),g.send(null),h&&g.status===200)return v(g.responseText)}(i,s,o)}catch{}return a}(e,n,r)},t.loadImageFile=t.loadFile}(it.API),function(t){function e(){return(ot.html2canvas?Promise.resolve(ot.html2canvas):j1(()=>import("./html2canvas.esm-CBrSDip1.js"),[],import.meta.url)).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function n(){return(ot.DOMPurify?Promise.resolve(ot.DOMPurify):j1(()=>import("./purify.es-C_uT9hQ1.js"),[],import.meta.url)).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var r=function(o){var a=zt(o);return a==="undefined"?"undefined":a==="string"||o instanceof String?"string":a==="number"||o instanceof Number?"number":a==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":a==="object"?"object":"unknown"},i=function(o,a){var l=document.createElement(o);for(var h in a.className&&(l.className=a.className),a.innerHTML&&a.dompurify&&(l.innerHTML=a.dompurify.sanitize(a.innerHTML)),a.style)l.style[h]=a.style[h];return l},s=function o(a){var l=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),h=o.convert(Promise.resolve(),l);return h=(h=h.setProgress(1,o,1,[o])).set(a)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(o,a){return o.__proto__=a||s.prototype,o},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(o,a){return this.then(function(){switch(a=a||function(l){switch(r(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(n).then(function(l){return this.set({src:i("div",{innerHTML:o,dompurify:l})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},s.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},a=function l(h,p){for(var g=h.nodeType===3?document.createTextNode(h.nodeValue):h.cloneNode(!1),_=h.firstChild;_;_=_.nextSibling)p!==!0&&_.nodeType===1&&_.nodeName==="SCRIPT"||g.appendChild(l(_,p));return h.nodeType===1&&(h.nodeName==="CANVAS"?(g.width=h.width,g.height=h.height,g.getContext("2d").drawImage(h,0,0)):h.nodeName!=="TEXTAREA"&&h.nodeName!=="SELECT"||(g.value=h.value),g.addEventListener("load",function(){g.scrollTop=h.scrollTop,g.scrollLeft=h.scrollLeft},!0)),g}(this.prop.src,this.opt.html2canvas.javascriptEnabled);a.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(a),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(a){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,a(this.prop.container,l)}).then(function(a){(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(a){var l=this.opt.jsPDF,h=this.opt.fontFaces,p=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,g=Object.assign({async:!0,allowTaint:!0,scale:p,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete g.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=h,h)for(var _=0;_<h.length;++_){var v=h[_],C=v.src.find(function(P){return P.format==="truetype"});C&&l.addFont(C.url,v.ref.name,v.ref.style)}return g.windowHeight=g.windowHeight||0,g.windowHeight=g.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):g.windowHeight,l.context2d.save(!0),a(this.prop.container,g)}).then(function(a){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(o,a,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(o,a):this.outputPdf(o,a)},s.prototype.outputPdf=function(o,a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,a)})},s.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},s.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(o){if(r(o)!=="object")return this;var a=Object.keys(o||{}).map(function(l){if(l in s.template.prop)return function(){this.prop[l]=o[l]};switch(l){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[l]=o[l]}}},this);return this.then(function(){return this.thenList(a)})},s.prototype.get=function(o,a){return this.then(function(){var l=o in s.template.prop?this.prop[o]:this.opt[o];return a?a(l):l})},s.prototype.setMargin=function(o){return this.then(function(){switch(r(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},s.prototype.setPageSize=function(o){function a(l,h){return Math.floor(l*h/72*96)}return this.then(function(){(o=o||it.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:a(o.inner.width,o.k),height:a(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},s.prototype.setProgress=function(o,a,l,h){return o!=null&&(this.progress.val=o),a!=null&&(this.progress.state=a),l!=null&&(this.progress.n=l),h!=null&&(this.progress.stack=h),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(o,a,l,h){return this.setProgress(o?this.progress.val+o:null,a||null,l?this.progress.n+l:null,h?this.progress.stack.concat(h):null)},s.prototype.then=function(o,a){var l=this;return this.thenCore(o,a,function(h,p){return l.updateProgress(null,null,1,[h]),Promise.prototype.then.call(this,function(g){return l.updateProgress(null,h),g}).then(h,p).then(function(g){return l.updateProgress(1),g})})},s.prototype.thenCore=function(o,a,l){l=l||Promise.prototype.then,o&&(o=o.bind(this)),a&&(a=a.bind(this));var h=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:s.convert(Object.assign({},this),Promise.prototype),p=l.call(h,o,a);return s.convert(p,this.__proto__)},s.prototype.thenExternal=function(o,a){return Promise.prototype.then.call(this,o,a)},s.prototype.thenList=function(o){var a=this;return o.forEach(function(l){a=a.thenCore(l)}),a},s.prototype.catch=function(o){o&&(o=o.bind(this));var a=Promise.prototype.catch.call(this,o);return s.convert(a,this)},s.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},s.prototype.error=function(o){return this.then(function(){throw new Error(o)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,it.getPageSize=function(o,a,l){if(zt(o)==="object"){var h=o;o=h.orientation,a=h.unit||a,l=h.format||l}a=a||"mm",l=l||"a4",o=(""+(o||"P")).toLowerCase();var p,g=(""+l).toLowerCase(),_={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(a){case"pt":p=1;break;case"mm":p=72/25.4;break;case"cm":p=72/2.54;break;case"in":p=72;break;case"px":p=.75;break;case"pc":case"em":p=12;break;case"ex":p=6;break;default:throw"Invalid unit: "+a}var v,C=0,P=0;if(_.hasOwnProperty(g))C=_[g][1]/p,P=_[g][0]/p;else try{C=l[1],P=l[0]}catch{throw new Error("Invalid format: "+l)}if(o==="p"||o==="portrait")o="p",P>C&&(v=P,P=C,C=v);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",C>P&&(v=P,P=C,C=v)}return{width:P,height:C,unit:a,k:p,orientation:o}},t.html=function(o,a){(a=a||{}).callback=a.callback||function(){},a.html2canvas=a.html2canvas||{},a.html2canvas.canvas=a.html2canvas.canvas||this.canvas,a.jsPDF=a.jsPDF||this,a.fontFaces=a.fontFaces?a.fontFaces.map(Y1):null;var l=new s(a);return a.worker?l:l.from(o).doCallback()}}(it.API),it.API.addJS=function(t){return u_=t,this.internal.events.subscribe("postPutResources",function(){od=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(od+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),l_=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+u_+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){od!==void 0&&l_!==void 0&&this.internal.out("/Names <</JavaScript "+od+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),s=0;s<i.length;s++){var o=i[s],a=r.exec(o);if(a!=null){var l=a[1];n.internal.newObjectDeferredBegin(l,!1)}n.internal.write(o)}if(this.outline.createNamedDestinations){var h=this.internal.pages.length,p=[];for(s=0;s<h;s++){var g=n.internal.newObject();p.push(g);var _=n.internal.getPageInfo(s+1);n.internal.write("<< /D["+_.objId+" 0 R /XYZ null null null]>> endobj")}var v=n.internal.newObject();for(n.internal.write("<< /Names [ "),s=0;s<p.length;s++)n.internal.write("(page_"+(s+1)+")"+p[s]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+v+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,i,s){var o={title:i,options:s,children:[]};return r==null&&(r=this.root),r.children.push(o),o},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<r.children.length;s++){var o=r.children[s];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(r)),s>0&&this.line("/Prev "+this.makeRef(r.children[s-1])),s<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[s+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var a=this.count=this.count_r({count:0},o);if(a>0&&this.line("/Count "+a),o.options&&o.options.pageNumber){var l=n.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var h=0;h<r.children.length;h++)this.renderItems(r.children[h])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,i){for(var s=0;s<i.children.length;s++)r.count++,this.count_r(r,i.children[s]);return r.count}}])}(it.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,r,i,s,o,a){var l,h=this.decode.DCT_DECODE,p=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=o||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,(l=function(g){for(var _,v=256*g.charCodeAt(4)+g.charCodeAt(5),C=g.length,P={width:0,height:0,numcomponents:1},U=4;U<C;U+=2){if(U+=v,e.indexOf(g.charCodeAt(U+1))!==-1){_=256*g.charCodeAt(U+5)+g.charCodeAt(U+6),P={width:256*g.charCodeAt(U+7)+g.charCodeAt(U+8),height:_,numcomponents:g.charCodeAt(U+9)};break}v=256*g.charCodeAt(U+2)+g.charCodeAt(U+3)}return P}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n)).numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}p={data:n,width:l.width,height:l.height,colorSpace:a,bitsPerComponent:8,filter:h,index:r,alias:i}}return p}}(it.API);var pu,ad,c_,h_,f_,CL=function(){var t,e,n;function r(s){var o,a,l,h,p,g,_,v,C,P,U,b,S,F;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},g=null;;){switch(o=this.readUInt32(),C=(function(){var W,Z;for(Z=[],W=0;W<4;++W)Z.push(String.fromCharCode(this.data[this.pos++]));return Z}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":g&&this.animation.frames.push(g),this.pos+=4,g={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},p=this.readUInt16(),h=this.readUInt16()||100,g.delay=1e3*p/h,g.disposeOp=this.data[this.pos++],g.blendOp=this.data[this.pos++],g.data=[];break;case"IDAT":case"fdAT":for(C==="fdAT"&&(this.pos+=4,o-=4),s=(g!=null?g.data:void 0)||this.imgData,b=0;0<=o?b<o:b>o;0<=o?++b:--b)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((P=l-this.transparency.indexed.length)>0)for(S=0;0<=P?S<P:S>P;0<=P?++S:--S)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":_=(U=this.read(o)).indexOf(0),v=String.fromCharCode.apply(String,U.slice(0,_)),this.text[v]=String.fromCharCode.apply(String,U.slice(_+1));break;case"IEND":return g&&this.animation.frames.push(g),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(F=this.colorType)===4||F===6,a=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*a,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(s){var o,a;for(a=[],o=0;0<=s?o<s:o>s;0<=s?++o:--o)a.push(this.data[this.pos++]);return a},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(s){var o=this.pixelBitlength/8,a=new Uint8Array(this.width*this.height*o),l=0,h=this;if(s==null&&(s=this.imgData),s.length===0)return new Uint8Array(0);function p(g,_,v,C){var P,U,b,S,F,W,Z,ae,R,E,O,B,I,T,N,Q,ve,me,ye,Y,le,ce=Math.ceil((h.width-g)/v),Ce=Math.ceil((h.height-_)/C),L=h.width==ce&&h.height==Ce;for(T=o*ce,B=L?a:new Uint8Array(T*Ce),W=s.length,I=0,U=0;I<Ce&&l<W;){switch(s[l++]){case 0:for(S=ve=0;ve<T;S=ve+=1)B[U++]=s[l++];break;case 1:for(S=me=0;me<T;S=me+=1)P=s[l++],F=S<o?0:B[U-o],B[U++]=(P+F)%256;break;case 2:for(S=ye=0;ye<T;S=ye+=1)P=s[l++],b=(S-S%o)/o,N=I&&B[(I-1)*T+b*o+S%o],B[U++]=(N+P)%256;break;case 3:for(S=Y=0;Y<T;S=Y+=1)P=s[l++],b=(S-S%o)/o,F=S<o?0:B[U-o],N=I&&B[(I-1)*T+b*o+S%o],B[U++]=(P+Math.floor((F+N)/2))%256;break;case 4:for(S=le=0;le<T;S=le+=1)P=s[l++],b=(S-S%o)/o,F=S<o?0:B[U-o],I===0?N=Q=0:(N=B[(I-1)*T+b*o+S%o],Q=b&&B[(I-1)*T+(b-1)*o+S%o]),Z=F+N-Q,ae=Math.abs(Z-F),E=Math.abs(Z-N),O=Math.abs(Z-Q),R=ae<=E&&ae<=O?F:E<=O?N:Q,B[U++]=(P+R)%256;break;default:throw new Error("Invalid filter algorithm: "+s[l-1])}if(!L){var q=((_+I*C)*h.width+g)*o,G=I*T;for(S=0;S<ce;S+=1){for(var J=0;J<o;J+=1)a[q++]=B[G++];q+=(v-1)*o}}I++}}return s=uL(s),h.interlaceMethod==1?(p(0,0,8,8),p(4,0,8,8),p(0,4,4,8),p(2,0,4,4),p(0,2,2,4),p(1,0,2,2),p(0,1,1,2)):p(0,0,1,1),a},r.prototype.decodePalette=function(){var s,o,a,l,h,p,g,_,v;for(a=this.palette,p=this.transparency.indexed||[],h=new Uint8Array((p.length||0)+a.length),l=0,s=0,o=g=0,_=a.length;g<_;o=g+=3)h[l++]=a[o],h[l++]=a[o+1],h[l++]=a[o+2],h[l++]=(v=p[s++])!=null?v:255;return h},r.prototype.copyToImageData=function(s,o){var a,l,h,p,g,_,v,C,P,U,b;if(l=this.colors,P=null,a=this.hasAlphaChannel,this.palette.length&&(P=(b=this._decodedPalette)!=null?b:this._decodedPalette=this.decodePalette(),l=4,a=!0),C=(h=s.data||s).length,g=P||o,p=_=0,l===1)for(;p<C;)v=P?4*o[p/4]:_,U=g[v++],h[p++]=U,h[p++]=U,h[p++]=U,h[p++]=a?g[v++]:255,_=v;else for(;p<C;)v=P?4*o[p/4]:_,h[p++]=g[v++],h[p++]=g[v++],h[p++]=g[v++],h[p++]=a?g[v++]:255,_=v},r.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var i=function(){if(Object.prototype.toString.call(ot)==="[object Window]"){try{e=ot.document.createElement("canvas"),n=e.getContext("2d")}catch{return!1}return!0}return!1};return i(),t=function(s){var o;if(i()===!0)return n.width=s.width,n.height=s.height,n.clearRect(0,0,s.width,s.height),n.putImageData(s,0,0),(o=new Image).src=e.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(s){var o,a,l,h,p,g,_,v;if(this.animation){for(v=[],a=p=0,g=(_=this.animation.frames).length;p<g;a=++p)o=_[a],l=s.createImageData(o.width,o.height),h=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(l,h),o.imageData=l,v.push(o.image=t(l));return v}},r.prototype.renderFrame=function(s,o){var a,l,h;return a=(l=this.animation.frames)[o],h=l[o-1],o===0&&s.clearRect(0,0,this.width,this.height),(h!=null?h.disposeOp:void 0)===1?s.clearRect(h.xOffset,h.yOffset,h.width,h.height):(h!=null?h.disposeOp:void 0)===2&&s.putImageData(h.imageData,h.xOffset,h.yOffset),a.blendOp===0&&s.clearRect(a.xOffset,a.yOffset,a.width,a.height),s.drawImage(a.image,a.xOffset,a.yOffset)},r.prototype.animate=function(s){var o,a,l,h,p,g,_=this;return a=0,g=this.animation,h=g.numFrames,l=g.frames,p=g.numPlays,(o=function(){var v,C;if(v=a++%h,C=l[v],_.renderFrame(s,v),h>1&&a/h<p)return _.animation._timeout=setTimeout(o,C.delay)})()},r.prototype.stopAnimation=function(){var s;return clearTimeout((s=this.animation)!=null?s._timeout:void 0)},r.prototype.render=function(s){var o,a;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,o=s.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(a=o.createImageData(this.width,this.height),this.copyToImageData(a,this.decodePixels()),o.putImageData(a,0,0))},r}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function LL(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,r=t[e++]|t[e++]<<8,i=t[e++],s=i>>7,o=1<<(7&i)+1;t[e++],t[e++];var a=null,l=null;s&&(a=e,l=o,e+=3*o);var h=!0,p=[],g=0,_=null,v=0,C=null;for(this.width=n,this.height=r;h&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,C=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((I=t[e++])>=0))throw Error("Invalid block size");if(I===0)break;e+=I}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var P=t[e++];g=t[e++]|t[e++]<<8,_=t[e++],!(1&P)&&(_=null),v=P>>2&7,e++;break;case 254:for(;;){if(!((I=t[e++])>=0))throw Error("Invalid block size");if(I===0)break;e+=I}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var U=t[e++]|t[e++]<<8,b=t[e++]|t[e++]<<8,S=t[e++]|t[e++]<<8,F=t[e++]|t[e++]<<8,W=t[e++],Z=W>>6&1,ae=1<<(7&W)+1,R=a,E=l,O=!1;W>>7&&(O=!0,R=e,E=ae,e+=3*ae);var B=e;for(e++;;){var I;if(!((I=t[e++])>=0))throw Error("Invalid block size");if(I===0)break;e+=I}p.push({x:U,y:b,width:S,height:F,has_local_palette:O,palette_offset:R,palette_size:E,data_offset:B,data_length:e-B,transparent_index:_,interlaced:!!Z,delay:g,disposal:v});break;case 59:h=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return p.length},this.loopCount=function(){return C},this.frameInfo=function(T){if(T<0||T>=p.length)throw new Error("Frame index out of range.");return p[T]},this.decodeAndBlitFrameBGRA=function(T,N){var Q=this.frameInfo(T),ve=Q.width*Q.height,me=new Uint8Array(ve);d_(t,Q.data_offset,me,ve);var ye=Q.palette_offset,Y=Q.transparent_index;Y===null&&(Y=256);var le=Q.width,ce=n-le,Ce=le,L=4*(Q.y*n+Q.x),q=4*((Q.y+Q.height)*n+Q.x),G=L,J=4*ce;Q.interlaced===!0&&(J+=4*n*7);for(var ne=8,ue=0,pe=me.length;ue<pe;++ue){var ge=me[ue];if(Ce===0&&(Ce=le,(G+=J)>=q&&(J=4*ce+4*n*(ne-1),G=L+(le+ce)*(ne<<1),ne>>=1)),ge===Y)G+=4;else{var Oe=t[ye+3*ge],ke=t[ye+3*ge+1],Ve=t[ye+3*ge+2];N[G++]=Ve,N[G++]=ke,N[G++]=Oe,N[G++]=255}--Ce}},this.decodeAndBlitFrameRGBA=function(T,N){var Q=this.frameInfo(T),ve=Q.width*Q.height,me=new Uint8Array(ve);d_(t,Q.data_offset,me,ve);var ye=Q.palette_offset,Y=Q.transparent_index;Y===null&&(Y=256);var le=Q.width,ce=n-le,Ce=le,L=4*(Q.y*n+Q.x),q=4*((Q.y+Q.height)*n+Q.x),G=L,J=4*ce;Q.interlaced===!0&&(J+=4*n*7);for(var ne=8,ue=0,pe=me.length;ue<pe;++ue){var ge=me[ue];if(Ce===0&&(Ce=le,(G+=J)>=q&&(J=4*ce+4*n*(ne-1),G=L+(le+ce)*(ne<<1),ne>>=1)),ge===Y)G+=4;else{var Oe=t[ye+3*ge],ke=t[ye+3*ge+1],Ve=t[ye+3*ge+2];N[G++]=Oe,N[G++]=ke,N[G++]=Ve,N[G++]=255}--Ce}}}function d_(t,e,n,r){for(var i=t[e++],s=1<<i,o=s+1,a=o+1,l=i+1,h=(1<<l)-1,p=0,g=0,_=0,v=t[e++],C=new Int32Array(4096),P=null;;){for(;p<16&&v!==0;)g|=t[e++]<<p,p+=8,v===1?v=t[e++]:--v;if(p<l)break;var U=g&h;if(g>>=l,p-=l,U!==s){if(U===o)break;for(var b=U<a?U:P,S=0,F=b;F>s;)F=C[F]>>8,++S;var W=F;if(_+S+(b!==U?1:0)>r)return void Gt.log("Warning, gif stream longer than expected.");n[_++]=W;var Z=_+=S;for(b!==U&&(n[_++]=W),F=b;S--;)F=C[F],n[--Z]=255&F,F>>=8;P!==null&&a<4096&&(C[a++]=P<<8|W,a>=h+1&&l<12&&(++l,h=h<<1|1)),P=U}else a=o+1,h=(1<<(l=i+1))-1,P=null}return _!==r&&Gt.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function yg(t){var e,n,r,i,s,o=Math.floor,a=new Array(64),l=new Array(64),h=new Array(64),p=new Array(64),g=new Array(65535),_=new Array(65535),v=new Array(64),C=new Array(64),P=[],U=0,b=7,S=new Array(64),F=new Array(64),W=new Array(64),Z=new Array(256),ae=new Array(2048),R=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],E=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],O=[0,1,2,3,4,5,6,7,8,9,10,11],B=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],I=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],T=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],N=[0,1,2,3,4,5,6,7,8,9,10,11],Q=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ve=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function me(L,q){for(var G=0,J=0,ne=new Array,ue=1;ue<=16;ue++){for(var pe=1;pe<=L[ue];pe++)ne[q[J]]=[],ne[q[J]][0]=G,ne[q[J]][1]=ue,J++,G++;G*=2}return ne}function ye(L){for(var q=L[0],G=L[1]-1;G>=0;)q&1<<G&&(U|=1<<b),G--,--b<0&&(U==255?(Y(255),Y(0)):Y(U),b=7,U=0)}function Y(L){P.push(L)}function le(L){Y(L>>8&255),Y(255&L)}function ce(L,q,G,J,ne){for(var ue,pe=ne[0],ge=ne[240],Oe=function(Le,De){var ze,Be,Ye,ut,dt,Xe,st,kt,rt,wt,qe=0;for(rt=0;rt<8;++rt){ze=Le[qe],Be=Le[qe+1],Ye=Le[qe+2],ut=Le[qe+3],dt=Le[qe+4],Xe=Le[qe+5],st=Le[qe+6];var dn=ze+(kt=Le[qe+7]),Pt=ze-kt,Dr=Be+st,Ot=Be-st,Kt=Ye+Xe,di=Ye-Xe,Nt=ut+dt,ss=ut-dt,Zt=dn+Nt,Qn=dn-Nt,Yr=Dr+Kt,Qt=Dr-Kt;Le[qe]=Zt+Yr,Le[qe+4]=Zt-Yr;var tt=.707106781*(Qt+Qn);Le[qe+2]=Qn+tt,Le[qe+6]=Qn-tt;var Ct=.382683433*((Zt=ss+di)-(Qt=Ot+Pt)),pi=.5411961*Zt+Ct,Nn=1.306562965*Qt+Ct,or=.707106781*(Yr=di+Ot),Jr=Pt+or,We=Pt-or;Le[qe+5]=We+pi,Le[qe+3]=We-pi,Le[qe+1]=Jr+Nn,Le[qe+7]=Jr-Nn,qe+=8}for(qe=0,rt=0;rt<8;++rt){ze=Le[qe],Be=Le[qe+8],Ye=Le[qe+16],ut=Le[qe+24],dt=Le[qe+32],Xe=Le[qe+40],st=Le[qe+48];var Fr=ze+(kt=Le[qe+56]),ar=ze-kt,xn=Be+st,_n=Be-st,pn=Ye+Xe,kn=Ye-Xe,Ao=ut+dt,Li=ut-dt,lr=Fr+Ao,Mr=Fr-Ao,Sr=xn+pn,Ir=xn-pn;Le[qe]=lr+Sr,Le[qe+32]=lr-Sr;var wn=.707106781*(Ir+Mr);Le[qe+16]=Mr+wn,Le[qe+48]=Mr-wn;var Xr=.382683433*((lr=Li+kn)-(Ir=_n+ar)),os=.5411961*lr+Xr,as=1.306562965*Ir+Xr,ls=.707106781*(Sr=kn+_n),Fs=ar+ls,Ms=ar-ls;Le[qe+40]=Ms+os,Le[qe+24]=Ms-os,Le[qe+8]=Fs+as,Le[qe+56]=Fs-as,qe++}for(rt=0;rt<64;++rt)wt=Le[rt]*De[rt],v[rt]=wt>0?wt+.5|0:wt-.5|0;return v}(L,q),ke=0;ke<64;++ke)C[R[ke]]=Oe[ke];var Ve=C[0]-G;G=C[0],Ve==0?ye(J[0]):(ye(J[_[ue=32767+Ve]]),ye(g[ue]));for(var Fe=63;Fe>0&&C[Fe]==0;)Fe--;if(Fe==0)return ye(pe),G;for(var Ze,Ae=1;Ae<=Fe;){for(var K=Ae;C[Ae]==0&&Ae<=Fe;)++Ae;var ht=Ae-K;if(ht>=16){Ze=ht>>4;for(var Qe=1;Qe<=Ze;++Qe)ye(ge);ht&=15}ue=32767+C[Ae],ye(ne[(ht<<4)+_[ue]]),ye(g[ue]),Ae++}return Fe!=63&&ye(pe),G}function Ce(L){L=Math.min(Math.max(L,1),100),s!=L&&(function(q){for(var G=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],J=0;J<64;J++){var ne=o((G[J]*q+50)/100);ne=Math.min(Math.max(ne,1),255),a[R[J]]=ne}for(var ue=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],pe=0;pe<64;pe++){var ge=o((ue[pe]*q+50)/100);ge=Math.min(Math.max(ge,1),255),l[R[pe]]=ge}for(var Oe=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],ke=0,Ve=0;Ve<8;Ve++)for(var Fe=0;Fe<8;Fe++)h[ke]=1/(a[R[ke]]*Oe[Ve]*Oe[Fe]*8),p[ke]=1/(l[R[ke]]*Oe[Ve]*Oe[Fe]*8),ke++}(L<50?Math.floor(5e3/L):Math.floor(200-2*L)),s=L)}this.encode=function(L,q){q&&Ce(q),P=new Array,U=0,b=7,le(65496),le(65504),le(16),Y(74),Y(70),Y(73),Y(70),Y(0),Y(1),Y(1),Y(0),le(1),le(1),Y(0),Y(0),function(){le(65499),le(132),Y(0);for(var Be=0;Be<64;Be++)Y(a[Be]);Y(1);for(var Ye=0;Ye<64;Ye++)Y(l[Ye])}(),function(Be,Ye){le(65472),le(17),Y(8),le(Ye),le(Be),Y(3),Y(1),Y(17),Y(0),Y(2),Y(17),Y(1),Y(3),Y(17),Y(1)}(L.width,L.height),function(){le(65476),le(418),Y(0);for(var Be=0;Be<16;Be++)Y(E[Be+1]);for(var Ye=0;Ye<=11;Ye++)Y(O[Ye]);Y(16);for(var ut=0;ut<16;ut++)Y(B[ut+1]);for(var dt=0;dt<=161;dt++)Y(I[dt]);Y(1);for(var Xe=0;Xe<16;Xe++)Y(T[Xe+1]);for(var st=0;st<=11;st++)Y(N[st]);Y(17);for(var kt=0;kt<16;kt++)Y(Q[kt+1]);for(var rt=0;rt<=161;rt++)Y(ve[rt])}(),le(65498),le(12),Y(3),Y(1),Y(0),Y(2),Y(17),Y(3),Y(17),Y(0),Y(63),Y(0);var G=0,J=0,ne=0;U=0,b=7,this.encode.displayName="_encode_";for(var ue,pe,ge,Oe,ke,Ve,Fe,Ze,Ae,K=L.data,ht=L.width,Qe=L.height,Le=4*ht,De=0;De<Qe;){for(ue=0;ue<Le;){for(ke=Le*De+ue,Fe=-1,Ze=0,Ae=0;Ae<64;Ae++)Ve=ke+(Ze=Ae>>3)*Le+(Fe=4*(7&Ae)),De+Ze>=Qe&&(Ve-=Le*(De+1+Ze-Qe)),ue+Fe>=Le&&(Ve-=ue+Fe-Le+4),pe=K[Ve++],ge=K[Ve++],Oe=K[Ve++],S[Ae]=(ae[pe]+ae[ge+256>>0]+ae[Oe+512>>0]>>16)-128,F[Ae]=(ae[pe+768>>0]+ae[ge+1024>>0]+ae[Oe+1280>>0]>>16)-128,W[Ae]=(ae[pe+1280>>0]+ae[ge+1536>>0]+ae[Oe+1792>>0]>>16)-128;G=ce(S,h,G,e,r),J=ce(F,p,J,n,i),ne=ce(W,p,ne,n,i),ue+=32}De+=8}if(b>=0){var ze=[];ze[1]=b+1,ze[0]=(1<<b+1)-1,ye(ze)}return le(65497),new Uint8Array(P)},t=t||50,function(){for(var L=String.fromCharCode,q=0;q<256;q++)Z[q]=L(q)}(),e=me(E,O),n=me(T,N),r=me(B,I),i=me(Q,ve),function(){for(var L=1,q=2,G=1;G<=15;G++){for(var J=L;J<q;J++)_[32767+J]=G,g[32767+J]=[],g[32767+J][1]=G,g[32767+J][0]=J;for(var ne=-(q-1);ne<=-L;ne++)_[32767+ne]=G,g[32767+ne]=[],g[32767+ne][1]=G,g[32767+ne][0]=q-1+ne;L<<=1,q<<=1}}(),function(){for(var L=0;L<256;L++)ae[L]=19595*L,ae[L+256>>0]=38470*L,ae[L+512>>0]=7471*L+32768,ae[L+768>>0]=-11059*L,ae[L+1024>>0]=-21709*L,ae[L+1280>>0]=32768*L+8421375,ae[L+1536>>0]=-27439*L,ae[L+1792>>0]=-5329*L}(),Ce(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Hi(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function p_(t){function e(E){if(!E)throw Error("assert :P")}function n(E,O,B){for(var I=0;4>I;I++)if(E[O+I]!=B.charCodeAt(I))return!0;return!1}function r(E,O,B,I,T){for(var N=0;N<T;N++)E[O+N]=B[I+N]}function i(E,O,B,I){for(var T=0;T<I;T++)E[O+T]=B}function s(E){return new Int32Array(E)}function o(E,O){for(var B=[],I=0;I<E;I++)B.push(new O);return B}function a(E,O){var B=[];return function I(T,N,Q){for(var ve=Q[N],me=0;me<ve&&(T.push(Q.length>N+1?[]:new O),!(Q.length<N+1));me++)I(T[me],N+1,Q)}(B,0,E),B}var l=function(){var E=this;function O(u,f){for(var m=1<<f-1>>>0;u&m;)m>>>=1;return m?(u&m-1)+m:u}function B(u,f,m,w,k){e(!(w%m));do u[f+(w-=m)]=k;while(0<w)}function I(u,f,m,w,k){if(e(2328>=k),512>=k)var D=s(512);else if((D=s(k))==null)return 0;return function(M,j,z,$,ee,he){var fe,oe,Se=j,_e=1<<z,te=s(16),re=s(16);for(e(ee!=0),e($!=null),e(M!=null),e(0<z),oe=0;oe<ee;++oe){if(15<$[oe])return 0;++te[$[oe]]}if(te[0]==ee)return 0;for(re[1]=0,fe=1;15>fe;++fe){if(te[fe]>1<<fe)return 0;re[fe+1]=re[fe]+te[fe]}for(oe=0;oe<ee;++oe)fe=$[oe],0<$[oe]&&(he[re[fe]++]=oe);if(re[15]==1)return($=new T).g=0,$.value=he[0],B(M,Se,1,_e,$),_e;var be,Te=-1,Ee=_e-1,$e=0,Me=1,nt=1,Ue=1<<z;for(oe=0,fe=1,ee=2;fe<=z;++fe,ee<<=1){if(Me+=nt<<=1,0>(nt-=te[fe]))return 0;for(;0<te[fe];--te[fe])($=new T).g=fe,$.value=he[oe++],B(M,Se+$e,ee,Ue,$),$e=O($e,fe)}for(fe=z+1,ee=2;15>=fe;++fe,ee<<=1){if(Me+=nt<<=1,0>(nt-=te[fe]))return 0;for(;0<te[fe];--te[fe]){if($=new T,($e&Ee)!=Te){for(Se+=Ue,be=1<<(Te=fe)-z;15>Te&&!(0>=(be-=te[Te]));)++Te,be<<=1;_e+=Ue=1<<(be=Te-z),M[j+(Te=$e&Ee)].g=be+z,M[j+Te].value=Se-j-Te}$.g=fe-z,$.value=he[oe++],B(M,Se+($e>>z),ee,Ue,$),$e=O($e,fe)}}return Me!=2*re[15]-1?0:_e}(u,f,m,w,k,D)}function T(){this.value=this.g=0}function N(){this.value=this.g=0}function Q(){this.G=o(5,T),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Xn,N)}function ve(u,f,m,w){e(u!=null),e(f!=null),e(2147483648>w),u.Ca=254,u.I=0,u.b=-8,u.Ka=0,u.oa=f,u.pa=m,u.Jd=f,u.Yc=m+w,u.Zc=4<=w?m+w-4+1:m,ue(u)}function me(u,f){for(var m=0;0<f--;)m|=ge(u,128)<<f;return m}function ye(u,f){var m=me(u,f);return pe(u)?-m:m}function Y(u,f,m,w){var k,D=0;for(e(u!=null),e(f!=null),e(4294967288>w),u.Sb=w,u.Ra=0,u.u=0,u.h=0,4<w&&(w=4),k=0;k<w;++k)D+=f[m+k]<<8*k;u.Ra=D,u.bb=w,u.oa=f,u.pa=m}function le(u){for(;8<=u.u&&u.bb<u.Sb;)u.Ra>>>=8,u.Ra+=u.oa[u.pa+u.bb]<<nu-8>>>0,++u.bb,u.u-=8;G(u)&&(u.h=1,u.u=0)}function ce(u,f){if(e(0<=f),!u.h&&f<=tu){var m=q(u)&eu[f];return u.u+=f,le(u),m}return u.h=1,u.u=0}function Ce(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function L(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function q(u){return u.Ra>>>(u.u&nu-1)>>>0}function G(u){return e(u.bb<=u.Sb),u.h||u.bb==u.Sb&&u.u>nu}function J(u,f){u.u=f,u.h=G(u)}function ne(u){u.u>=Pc&&(e(u.u>=Pc),le(u))}function ue(u){e(u!=null&&u.oa!=null),u.pa<u.Zc?(u.I=(u.oa[u.pa++]|u.I<<8)>>>0,u.b+=8):(e(u!=null&&u.oa!=null),u.pa<u.Yc?(u.b+=8,u.I=u.oa[u.pa++]|u.I<<8):u.Ka?u.b=0:(u.I<<=8,u.b+=8,u.Ka=1))}function pe(u){return me(u,1)}function ge(u,f){var m=u.Ca;0>u.b&&ue(u);var w=u.b,k=m*f>>>8,D=(u.I>>>w>k)+0;for(D?(m-=k,u.I-=k+1<<w>>>0):m=k+1,w=m,k=0;256<=w;)k+=8,w>>=8;return w=7^k+jr[w],u.b-=w,u.Ca=(m<<w)-1,D}function Oe(u,f,m){u[f+0]=m>>24&255,u[f+1]=m>>16&255,u[f+2]=m>>8&255,u[f+3]=m>>0&255}function ke(u,f){return u[f+0]<<0|u[f+1]<<8}function Ve(u,f){return ke(u,f)|u[f+2]<<16}function Fe(u,f){return ke(u,f)|ke(u,f+2)<<16}function Ze(u,f){var m=1<<f;return e(u!=null),e(0<f),u.X=s(m),u.X==null?0:(u.Mb=32-f,u.Xa=f,1)}function Ae(u,f){e(u!=null),e(f!=null),e(u.Xa==f.Xa),r(f.X,0,u.X,0,1<<f.Xa)}function K(){this.X=[],this.Xa=this.Mb=0}function ht(u,f,m,w){e(m!=null),e(w!=null);var k=m[0],D=w[0];return k==0&&(k=(u*D+f/2)/f),D==0&&(D=(f*k+u/2)/u),0>=k||0>=D?0:(m[0]=k,w[0]=D,1)}function Qe(u,f){return u+(1<<f)-1>>>f}function Le(u,f){return((4278255360&u)+(4278255360&f)>>>0&4278255360)+((16711935&u)+(16711935&f)>>>0&16711935)>>>0}function De(u,f){E[f]=function(m,w,k,D,M,j,z){var $;for($=0;$<M;++$){var ee=E[u](j[z+$-1],k,D+$);j[z+$]=Le(m[w+$],ee)}}}function ze(){this.ud=this.hd=this.jd=0}function Be(u,f){return((4278124286&(u^f))>>>1)+(u&f)>>>0}function Ye(u){return 0<=u&&256>u?u:0>u?0:255<u?255:void 0}function ut(u,f){return Ye(u+(u-f+.5>>1))}function dt(u,f,m){return Math.abs(f-m)-Math.abs(u-m)}function Xe(u,f,m,w,k,D,M){for(w=D[M-1],m=0;m<k;++m)D[M+m]=w=Le(u[f+m],w)}function st(u,f,m,w,k){var D;for(D=0;D<m;++D){var M=u[f+D],j=M>>8&255,z=16711935&(z=(z=16711935&M)+((j<<16)+j));w[k+D]=(4278255360&M)+z>>>0}}function kt(u,f){f.jd=u>>0&255,f.hd=u>>8&255,f.ud=u>>16&255}function rt(u,f,m,w,k,D){var M;for(M=0;M<w;++M){var j=f[m+M],z=j>>>8,$=j,ee=255&(ee=(ee=j>>>16)+((u.jd<<24>>24)*(z<<24>>24)>>>5));$=255&($=($=$+((u.hd<<24>>24)*(z<<24>>24)>>>5))+((u.ud<<24>>24)*(ee<<24>>24)>>>5)),k[D+M]=(4278255360&j)+(ee<<16)+$}}function wt(u,f,m,w,k){E[f]=function(D,M,j,z,$,ee,he,fe,oe){for(z=he;z<fe;++z)for(he=0;he<oe;++he)$[ee++]=k(j[w(D[M++])])},E[u]=function(D,M,j,z,$,ee,he){var fe=8>>D.b,oe=D.Ea,Se=D.K[0],_e=D.w;if(8>fe)for(D=(1<<D.b)-1,_e=(1<<fe)-1;M<j;++M){var te,re=0;for(te=0;te<oe;++te)te&D||(re=w(z[$++])),ee[he++]=k(Se[re&_e]),re>>=fe}else E["VP8LMapColor"+m](z,$,Se,_e,ee,he,M,j,oe)}}function qe(u,f,m,w,k){for(m=f+m;f<m;){var D=u[f++];w[k++]=D>>16&255,w[k++]=D>>8&255,w[k++]=D>>0&255}}function dn(u,f,m,w,k){for(m=f+m;f<m;){var D=u[f++];w[k++]=D>>16&255,w[k++]=D>>8&255,w[k++]=D>>0&255,w[k++]=D>>24&255}}function Pt(u,f,m,w,k){for(m=f+m;f<m;){var D=(M=u[f++])>>16&240|M>>12&15,M=M>>0&240|M>>28&15;w[k++]=D,w[k++]=M}}function Dr(u,f,m,w,k){for(m=f+m;f<m;){var D=(M=u[f++])>>16&248|M>>13&7,M=M>>5&224|M>>3&31;w[k++]=D,w[k++]=M}}function Ot(u,f,m,w,k){for(m=f+m;f<m;){var D=u[f++];w[k++]=D>>0&255,w[k++]=D>>8&255,w[k++]=D>>16&255}}function Kt(u,f,m,w,k,D){if(D==0)for(m=f+m;f<m;)Oe(w,((D=u[f++])[0]>>24|D[1]>>8&65280|D[2]<<8&16711680|D[3]<<24)>>>0),k+=32;else r(w,k,u,f,m)}function di(u,f){E[f][0]=E[u+"0"],E[f][1]=E[u+"1"],E[f][2]=E[u+"2"],E[f][3]=E[u+"3"],E[f][4]=E[u+"4"],E[f][5]=E[u+"5"],E[f][6]=E[u+"6"],E[f][7]=E[u+"7"],E[f][8]=E[u+"8"],E[f][9]=E[u+"9"],E[f][10]=E[u+"10"],E[f][11]=E[u+"11"],E[f][12]=E[u+"12"],E[f][13]=E[u+"13"],E[f][14]=E[u+"0"],E[f][15]=E[u+"0"]}function Nt(u){return u==fm||u==dm||u==Af||u==pm}function ss(){this.eb=[],this.size=this.A=this.fb=0}function Zt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Qn(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new ss,this.f.kb=new Zt,this.sd=null}function Yr(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Qt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function tt(u){return alert("todo:WebPSamplerProcessPlane"),u.T}function Ct(u,f){var m=u.T,w=f.ba.f.RGBA,k=w.eb,D=w.fb+u.ka*w.A,M=Ai[f.ba.S],j=u.y,z=u.O,$=u.f,ee=u.N,he=u.ea,fe=u.W,oe=f.cc,Se=f.dc,_e=f.Mc,te=f.Nc,re=u.ka,be=u.ka+u.T,Te=u.U,Ee=Te+1>>1;for(re==0?M(j,z,null,null,$,ee,he,fe,$,ee,he,fe,k,D,null,null,Te):(M(f.ec,f.fc,j,z,oe,Se,_e,te,$,ee,he,fe,k,D-w.A,k,D,Te),++m);re+2<be;re+=2)oe=$,Se=ee,_e=he,te=fe,ee+=u.Rc,fe+=u.Rc,D+=2*w.A,M(j,(z+=2*u.fa)-u.fa,j,z,oe,Se,_e,te,$,ee,he,fe,k,D-w.A,k,D,Te);return z+=u.fa,u.j+be<u.o?(r(f.ec,f.fc,j,z,Te),r(f.cc,f.dc,$,ee,Ee),r(f.Mc,f.Nc,he,fe,Ee),m--):1&be||M(j,z,null,null,$,ee,he,fe,$,ee,he,fe,k,D+w.A,null,null,Te),m}function pi(u,f,m){var w=u.F,k=[u.J];if(w!=null){var D=u.U,M=f.ba.S,j=M==wf||M==Af;f=f.ba.f.RGBA;var z=[0],$=u.ka;z[0]=u.T,u.Kb&&($==0?--z[0]:(--$,k[0]-=u.width),u.j+u.ka+u.T==u.o&&(z[0]=u.o-u.j-$));var ee=f.eb;$=f.fb+$*f.A,u=Jt(w,k[0],u.width,D,z,ee,$+(j?0:3),f.A),e(m==z),u&&Nt(M)&&_i(ee,$,j,D,z,f.A)}return 0}function Nn(u){var f=u.ma,m=f.ba.S,w=11>m,k=m==yf||m==_f||m==wf||m==hm||m==12||Nt(m);if(f.memory=null,f.Ib=null,f.Jb=null,f.Nd=null,!Ic(f.Oa,u,k?11:12))return 0;if(k&&Nt(m)&&Pe(),u.da)alert("todo:use_scaling");else{if(w){if(f.Ib=tt,u.Kb){if(m=u.U+1>>1,f.memory=s(u.U+2*m),f.memory==null)return 0;f.ec=f.memory,f.fc=0,f.cc=f.ec,f.dc=f.fc+u.U,f.Mc=f.cc,f.Nc=f.dc+m,f.Ib=Ct,Pe()}}else alert("todo:EmitYUV");k&&(f.Jb=pi,w&&se())}if(w&&!G0){for(u=0;256>u;++u)Ub[u]=89858*(u-128)+Ef>>bf,$b[u]=-22014*(u-128)+Ef,qb[u]=-45773*(u-128),zb[u]=113618*(u-128)+Ef>>bf;for(u=Oc;u<vm;++u)f=76283*(u-16)+Ef>>bf,Hb[u-Oc]=Mt(f,255),Wb[u-Oc]=Mt(f+8>>4,15);G0=1}return 1}function or(u){var f=u.ma,m=u.U,w=u.T;return e(!(1&u.ka)),0>=m||0>=w?0:(m=f.Ib(u,f),f.Jb!=null&&f.Jb(u,f,m),f.Dc+=m,1)}function Jr(u){u.ma.memory=null}function We(u,f,m,w){return ce(u,8)!=47?0:(f[0]=ce(u,14)+1,m[0]=ce(u,14)+1,w[0]=ce(u,1),ce(u,3)!=0?0:!u.h)}function Fr(u,f){if(4>u)return u+1;var m=u-2>>1;return(2+(1&u)<<m)+ce(f,m)+1}function ar(u,f){return 120<f?f-120:1<=(m=((m=Pb[f-1])>>4)*u+(8-(15&m)))?m:1;var m}function xn(u,f,m){var w=q(m),k=u[f+=255&w].g-8;return 0<k&&(J(m,m.u+8),w=q(m),f+=u[f].value,f+=w&(1<<k)-1),J(m,m.u+u[f].g),u[f].value}function _n(u,f,m){return m.g+=u.g,m.value+=u.value<<f>>>0,e(8>=m.g),u.g}function pn(u,f,m){var w=u.xc;return e((f=w==0?0:u.vc[u.md*(m>>w)+(f>>w)])<u.Wb),u.Ya[f]}function kn(u,f,m,w){var k=u.ab,D=u.c*f,M=u.C;f=M+f;var j=m,z=w;for(w=u.Ta,m=u.Ua;0<k--;){var $=u.gc[k],ee=M,he=f,fe=j,oe=z,Se=(z=w,j=m,$.Ea);switch(e(ee<he),e(he<=$.nc),$.hc){case 2:hf(fe,oe,(he-ee)*Se,z,j);break;case 0:var _e=ee,te=he,re=z,be=j,Te=(Ue=$).Ea;_e==0&&(um(fe,oe,null,null,1,re,be),Xe(fe,oe+1,0,0,Te-1,re,be+1),oe+=Te,be+=Te,++_e);for(var Ee=1<<Ue.b,$e=Ee-1,Me=Qe(Te,Ue.b),nt=Ue.K,Ue=Ue.w+(_e>>Ue.b)*Me;_e<te;){var Dt=nt,Bt=Ue,Lt=1;for(Nc(fe,oe,re,be-Te,1,re,be);Lt<Te;){var St=(Lt&~$e)+Ee;St>Te&&(St=Te),(0,jo[Dt[Bt++]>>8&15])(fe,oe+ +Lt,re,be+Lt-Te,St-Lt,re,be+Lt),Lt=St}oe+=Te,be+=Te,++_e&$e||(Ue+=Me)}he!=$.nc&&r(z,j-Se,z,j+(he-ee-1)*Se,Se);break;case 1:for(Se=fe,te=oe,Te=(fe=$.Ea)-(be=fe&~(re=(oe=1<<$.b)-1)),_e=Qe(fe,$.b),Ee=$.K,$=$.w+(ee>>$.b)*_e;ee<he;){for($e=Ee,Me=$,nt=new ze,Ue=te+be,Dt=te+fe;te<Ue;)kt($e[Me++],nt),rl(nt,Se,te,oe,z,j),te+=oe,j+=oe;te<Dt&&(kt($e[Me++],nt),rl(nt,Se,te,Te,z,j),te+=Te,j+=Te),++ee&re||($+=_e)}break;case 3:if(fe==z&&oe==j&&0<$.b){for(te=z,fe=Se=j+(he-ee)*Se-(be=(he-ee)*Qe($.Ea,$.b)),oe=z,re=j,_e=[],be=(Te=be)-1;0<=be;--be)_e[be]=oe[re+be];for(be=Te-1;0<=be;--be)te[fe+be]=_e[be];gi($,ee,he,z,Se,z,j)}else gi($,ee,he,fe,oe,z,j)}j=w,z=m}z!=m&&r(w,m,j,z,D)}function Ao(u,f){var m=u.V,w=u.Ba+u.c*u.C,k=f-u.C;if(e(f<=u.l.o),e(16>=k),0<k){var D=u.l,M=u.Ta,j=u.Ua,z=D.width;if(kn(u,k,m,w),k=j=[j],e((m=u.C)<(w=f)),e(D.v<D.va),w>D.o&&(w=D.o),m<D.j){var $=D.j-m;m=D.j,k[0]+=$*z}if(m>=w?m=0:(k[0]+=4*D.v,D.ka=m-D.j,D.U=D.va-D.v,D.T=w-m,m=1),m){if(j=j[0],11>(m=u.ca).S){var ee=m.f.RGBA,he=(w=m.S,k=D.U,D=D.T,$=ee.eb,ee.A),fe=D;for(ee=ee.fb+u.Ma*ee.A;0<fe--;){var oe=M,Se=j,_e=k,te=$,re=ee;switch(w){case vf:Br(oe,Se,_e,te,re);break;case yf:Pr(oe,Se,_e,te,re);break;case fm:Pr(oe,Se,_e,te,re),_i(te,re,0,_e,1,0);break;case V0:Ks(oe,Se,_e,te,re);break;case _f:Kt(oe,Se,_e,te,re,1);break;case dm:Kt(oe,Se,_e,te,re,1),_i(te,re,0,_e,1,0);break;case wf:Kt(oe,Se,_e,te,re,0);break;case Af:Kt(oe,Se,_e,te,re,0),_i(te,re,1,_e,1,0);break;case hm:Bo(oe,Se,_e,te,re);break;case pm:Bo(oe,Se,_e,te,re),Yt(te,re,_e,1,0);break;case j0:Gs(oe,Se,_e,te,re);break;default:e(0)}j+=z,ee+=he}u.Ma+=D}else alert("todo:EmitRescaledRowsYUVA");e(u.Ma<=m.height)}}u.C=f,e(u.C<=u.i)}function Li(u){var f;if(0<u.ua)return 0;for(f=0;f<u.Wb;++f){var m=u.Ya[f].G,w=u.Ya[f].H;if(0<m[1][w[1]+0].g||0<m[2][w[2]+0].g||0<m[3][w[3]+0].g)return 0}return 1}function lr(u,f,m,w,k,D){if(u.Z!=0){var M=u.qd,j=u.rd;for(e($o[u.Z]!=null);f<m;++f)$o[u.Z](M,j,w,k,w,k,D),M=w,j=k,k+=D;u.qd=M,u.rd=j}}function Mr(u,f){var m=u.l.ma,w=m.Z==0||m.Z==1?u.l.j:u.C;if(w=u.C<w?w:u.C,e(f<=u.l.o),f>w){var k=u.l.width,D=m.ca,M=m.tb+k*w,j=u.V,z=u.Ba+u.c*w,$=u.gc;e(u.ab==1),e($[0].hc==3),ff($[0],w,f,j,z,D,M),lr(m,w,f,D,M,k)}u.C=u.Ma=f}function Sr(u,f,m,w,k,D,M){var j=u.$/w,z=u.$%w,$=u.m,ee=u.s,he=m+u.$,fe=he;k=m+w*k;var oe=m+w*D,Se=280+ee.ua,_e=u.Pb?j:16777216,te=0<ee.ua?ee.Wa:null,re=ee.wc,be=he<oe?pn(ee,z,j):null;e(u.C<D),e(oe<=k);var Te=!1;e:for(;;){for(;Te||he<oe;){var Ee=0;if(j>=_e){var $e=he-m;e((_e=u).Pb),_e.wd=_e.m,_e.xd=$e,0<_e.s.ua&&Ae(_e.s.Wa,_e.s.vb),_e=j+xb}if(z&re||(be=pn(ee,z,j)),e(be!=null),be.Qb&&(f[he]=be.qb,Te=!0),!Te)if(ne($),be.jc){Ee=$,$e=f;var Me=he,nt=be.pd[q(Ee)&Xn-1];e(be.jc),256>nt.g?(J(Ee,Ee.u+nt.g),$e[Me]=nt.value,Ee=0):(J(Ee,Ee.u+nt.g-256),e(256<=nt.value),Ee=nt.value),Ee==0&&(Te=!0)}else Ee=xn(be.G[0],be.H[0],$);if($.h)break;if(Te||256>Ee){if(!Te)if(be.nd)f[he]=(be.qb|Ee<<8)>>>0;else{if(ne($),Te=xn(be.G[1],be.H[1],$),ne($),$e=xn(be.G[2],be.H[2],$),Me=xn(be.G[3],be.H[3],$),$.h)break;f[he]=(Me<<24|Te<<16|Ee<<8|$e)>>>0}if(Te=!1,++he,++z>=w&&(z=0,++j,M!=null&&j<=D&&!(j%16)&&M(u,j),te!=null))for(;fe<he;)Ee=f[fe++],te.X[(506832829*Ee&4294967295)>>>te.Mb]=Ee}else if(280>Ee){if(Ee=Fr(Ee-256,$),$e=xn(be.G[4],be.H[4],$),ne($),$e=ar(w,$e=Fr($e,$)),$.h)break;if(he-m<$e||k-he<Ee)break e;for(Me=0;Me<Ee;++Me)f[he+Me]=f[he+Me-$e];for(he+=Ee,z+=Ee;z>=w;)z-=w,++j,M!=null&&j<=D&&!(j%16)&&M(u,j);if(e(he<=k),z&re&&(be=pn(ee,z,j)),te!=null)for(;fe<he;)Ee=f[fe++],te.X[(506832829*Ee&4294967295)>>>te.Mb]=Ee}else{if(!(Ee<Se))break e;for(Te=Ee-280,e(te!=null);fe<he;)Ee=f[fe++],te.X[(506832829*Ee&4294967295)>>>te.Mb]=Ee;Ee=he,e(!(Te>>>($e=te).Xa)),f[Ee]=$e.X[Te],Te=!0}Te||e($.h==G($))}if(u.Pb&&$.h&&he<k)e(u.m.h),u.a=5,u.m=u.wd,u.$=u.xd,0<u.s.ua&&Ae(u.s.vb,u.s.Wa);else{if($.h)break e;M!=null&&M(u,j>D?D:j),u.a=0,u.$=he-m}return 1}return u.a=3,0}function Ir(u){e(u!=null),u.vc=null,u.yc=null,u.Ya=null;var f=u.Wa;f!=null&&(f.X=null),u.vb=null,e(u!=null)}function wn(){var u=new Xl;return u==null?null:(u.a=0,u.xb=z0,di("Predictor","VP8LPredictors"),di("Predictor","VP8LPredictors_C"),di("PredictorAdd","VP8LPredictorsAdd"),di("PredictorAdd","VP8LPredictorsAdd_C"),hf=st,rl=rt,Br=qe,Pr=dn,Bo=Pt,Gs=Dr,Ks=Ot,E.VP8LMapColor32b=ru,E.VP8LMapColor8b=df,u)}function Xr(u,f,m,w,k){var D=1,M=[u],j=[f],z=w.m,$=w.s,ee=null,he=0;e:for(;;){if(m)for(;D&&ce(z,1);){var fe=M,oe=j,Se=w,_e=1,te=Se.m,re=Se.gc[Se.ab],be=ce(te,2);if(Se.Oc&1<<be)D=0;else{switch(Se.Oc|=1<<be,re.hc=be,re.Ea=fe[0],re.nc=oe[0],re.K=[null],++Se.ab,e(4>=Se.ab),be){case 0:case 1:re.b=ce(te,3)+2,_e=Xr(Qe(re.Ea,re.b),Qe(re.nc,re.b),0,Se,re.K),re.K=re.K[0];break;case 3:var Te,Ee=ce(te,8)+1,$e=16<Ee?0:4<Ee?1:2<Ee?2:3;if(fe[0]=Qe(re.Ea,$e),re.b=$e,Te=_e=Xr(Ee,1,0,Se,re.K)){var Me,nt=Ee,Ue=re,Dt=1<<(8>>Ue.b),Bt=s(Dt);if(Bt==null)Te=0;else{var Lt=Ue.K[0],St=Ue.w;for(Bt[0]=Ue.K[0][0],Me=1;Me<1*nt;++Me)Bt[Me]=Le(Lt[St+Me],Bt[Me-1]);for(;Me<4*Dt;++Me)Bt[Me]=0;Ue.K[0]=null,Ue.K[0]=Bt,Te=1}}_e=Te;break;case 2:break;default:e(0)}D=_e}}if(M=M[0],j=j[0],D&&ce(z,1)&&!(D=1<=(he=ce(z,4))&&11>=he)){w.a=3;break e}var Wt;if(Wt=D)t:{var $t,yt,Cn,Ur=w,Ln=M,zr=j,Ut=he,ri=m,ii=Ur.m,qn=Ur.s,Zn=[null],xr=1,bi=0,ys=Nb[Ut];n:for(;;){if(ri&&ce(ii,1)){var $n=ce(ii,3)+2,Xs=Qe(Ln,$n),ll=Qe(zr,$n),lu=Xs*ll;if(!Xr(Xs,ll,0,Ur,Zn))break n;for(Zn=Zn[0],qn.xc=$n,$t=0;$t<lu;++$t){var Ho=Zn[$t]>>8&65535;Zn[$t]=Ho,Ho>=xr&&(xr=Ho+1)}}if(ii.h)break n;for(yt=0;5>yt;++yt){var gn=B0[yt];!yt&&0<Ut&&(gn+=1<<Ut),bi<gn&&(bi=gn)}var ym=o(xr*ys,T),Y0=xr,J0=o(Y0,Q);if(J0==null)var If=null;else e(65536>=Y0),If=J0;var Dc=s(bi);if(If==null||Dc==null||ym==null){Ur.a=1;break n}var Tf=ym;for($t=Cn=0;$t<xr;++$t){var zi=If[$t],uu=zi.G,cu=zi.H,X0=0,Pf=1,Z0=0;for(yt=0;5>yt;++yt){gn=B0[yt],uu[yt]=Tf,cu[yt]=Cn,!yt&&0<Ut&&(gn+=1<<Ut);i:{var Nf,_m=gn,xf=Ur,Fc=Dc,Qb=Tf,Yb=Cn,wm=0,Wo=xf.m,Jb=ce(Wo,1);if(i(Fc,0,0,_m),Jb){var Xb=ce(Wo,1)+1,Zb=ce(Wo,1),e5=ce(Wo,Zb==0?1:8);Fc[e5]=1,Xb==2&&(Fc[e5=ce(Wo,8)]=1);var kf=1}else{var t5=s(19),n5=ce(Wo,4)+4;if(19<n5){xf.a=3;var Cf=0;break i}for(Nf=0;Nf<n5;++Nf)t5[Tb[Nf]]=ce(Wo,3);var Am=void 0,Mc=void 0,r5=xf,eE=t5,Lf=_m,i5=Fc,bm=0,Go=r5.m,s5=8,o5=o(128,T);r:for(;I(o5,0,7,eE,19);){if(ce(Go,1)){var tE=2+2*ce(Go,3);if((Am=2+ce(Go,tE))>Lf)break r}else Am=Lf;for(Mc=0;Mc<Lf&&Am--;){ne(Go);var a5=o5[0+(127&q(Go))];J(Go,Go.u+a5.g);var hu=a5.value;if(16>hu)i5[Mc++]=hu,hu!=0&&(s5=hu);else{var nE=hu==16,l5=hu-16,rE=Sb[l5],u5=ce(Go,Eb[l5])+rE;if(Mc+u5>Lf)break r;for(var iE=nE?s5:0;0<u5--;)i5[Mc++]=iE}}bm=1;break r}bm||(r5.a=3),kf=bm}(kf=kf&&!Wo.h)&&(wm=I(Qb,Yb,8,Fc,_m)),kf&&wm!=0?Cf=wm:(xf.a=3,Cf=0)}if(Cf==0)break n;if(Pf&&Ib[yt]==1&&(Pf=Tf[Cn].g==0),X0+=Tf[Cn].g,Cn+=Cf,3>=yt){var Vc,Em=Dc[0];for(Vc=1;Vc<gn;++Vc)Dc[Vc]>Em&&(Em=Dc[Vc]);Z0+=Em}}if(zi.nd=Pf,zi.Qb=0,Pf&&(zi.qb=(uu[3][cu[3]+0].value<<24|uu[1][cu[1]+0].value<<16|uu[2][cu[2]+0].value)>>>0,X0==0&&256>uu[0][cu[0]+0].value&&(zi.Qb=1,zi.qb+=uu[0][cu[0]+0].value<<8)),zi.jc=!zi.Qb&&6>Z0,zi.jc){var Rf,Zs=zi;for(Rf=0;Rf<Xn;++Rf){var Ko=Rf,Qo=Zs.pd[Ko],Of=Zs.G[0][Zs.H[0]+Ko];256<=Of.value?(Qo.g=Of.g+256,Qo.value=Of.value):(Qo.g=0,Qo.value=0,Ko>>=_n(Of,8,Qo),Ko>>=_n(Zs.G[1][Zs.H[1]+Ko],16,Qo),Ko>>=_n(Zs.G[2][Zs.H[2]+Ko],0,Qo),_n(Zs.G[3][Zs.H[3]+Ko],24,Qo))}}}qn.vc=Zn,qn.Wb=xr,qn.Ya=If,qn.yc=ym,Wt=1;break t}Wt=0}if(!(D=Wt)){w.a=3;break e}if(0<he){if($.ua=1<<he,!Ze($.Wa,he)){w.a=1,D=0;break e}}else $.ua=0;var Sm=w,c5=M,sE=j,Im=Sm.s,Tm=Im.xc;if(Sm.c=c5,Sm.i=sE,Im.md=Qe(c5,Tm),Im.wc=Tm==0?-1:(1<<Tm)-1,m){w.xb=Fb;break e}if((ee=s(M*j))==null){w.a=1,D=0;break e}D=(D=Sr(w,ee,0,M,j,j,null))&&!z.h;break e}return D?(k!=null?k[0]=ee:(e(ee==null),e(m)),w.$=0,m||Ir($)):Ir($),D}function os(u,f){var m=u.c*u.i,w=m+f+16*f;return e(u.c<=f),u.V=s(w),u.V==null?(u.Ta=null,u.Ua=0,u.a=1,0):(u.Ta=u.V,u.Ua=u.Ba+m+f,1)}function as(u,f){var m=u.C,w=f-m,k=u.V,D=u.Ba+u.c*m;for(e(f<=u.l.o);0<w;){var M=16<w?16:w,j=u.l.ma,z=u.l.width,$=z*M,ee=j.ca,he=j.tb+z*m,fe=u.Ta,oe=u.Ua;kn(u,M,k,D),bn(fe,oe,ee,he,$),lr(j,m,m+M,ee,he,z),w-=M,k+=M*u.c,m+=M}e(m==f),u.C=u.Ma=f}function ls(){this.ub=this.yd=this.td=this.Rb=0}function Fs(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Ms(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function zl(){this.Yb=function(){var u=[];return function f(m,w,k){for(var D=k[w],M=0;M<D&&(m.push(k.length>w+1?[]:0),!(k.length<w+1));M++)f(m[M],w+1,k)}(u,0,[3,11]),u}()}function bo(){this.jb=s(3),this.Wc=a([4,8],zl),this.Xc=a([4,17],zl)}function ql(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function us(){this.ld=this.La=this.dd=this.tc=0}function cs(){this.Na=this.la=0}function Ri(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Vs(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Ac(){this.uc=this.M=this.Nb=0,this.wa=Array(new us),this.Y=0,this.ya=Array(new Vs),this.aa=0,this.l=new js}function qa(){this.y=s(16),this.f=s(8),this.ea=s(8)}function $l(){this.cb=this.a=0,this.sc="",this.m=new Ce,this.Od=new ls,this.Kc=new Fs,this.ed=new ql,this.Qa=new Ms,this.Ic=this.$c=this.Aa=0,this.D=new Ac,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,Ce),this.ia=0,this.pb=o(4,Ri),this.Pa=new bo,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new qa),this.Hd=0,this.rb=Array(new cs),this.sb=0,this.wa=Array(new us),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Vs),this.L=this.aa=0,this.gd=a([4,2],us),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function js(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function $a(){var u=new $l;return u!=null&&(u.a=0,u.sc="OK",u.cb=0,u.Xb=0,Rc||(Rc=Hl)),u}function en(u,f,m){return u.a==0&&(u.a=f,u.sc=m,u.cb=0),0}function Ha(u,f,m){return 3<=m&&u[f+0]==157&&u[f+1]==1&&u[f+2]==42}function Wa(u,f){if(u==null)return 0;if(u.a=0,u.sc="OK",f==null)return en(u,2,"null VP8Io passed to VP8GetHeaders()");var m=f.data,w=f.w,k=f.ha;if(4>k)return en(u,7,"Truncated header.");var D=m[w+0]|m[w+1]<<8|m[w+2]<<16,M=u.Od;if(M.Rb=!(1&D),M.td=D>>1&7,M.yd=D>>4&1,M.ub=D>>5,3<M.td)return en(u,3,"Incorrect keyframe parameters.");if(!M.yd)return en(u,4,"Frame not displayable.");w+=3,k-=3;var j=u.Kc;if(M.Rb){if(7>k)return en(u,7,"cannot parse picture header");if(!Ha(m,w,k))return en(u,3,"Bad code word");j.c=16383&(m[w+4]<<8|m[w+3]),j.Td=m[w+4]>>6,j.i=16383&(m[w+6]<<8|m[w+5]),j.Ud=m[w+6]>>6,w+=7,k-=7,u.za=j.c+15>>4,u.Ub=j.i+15>>4,f.width=j.c,f.height=j.i,f.Da=0,f.j=0,f.v=0,f.va=f.width,f.o=f.height,f.da=0,f.ib=f.width,f.hb=f.height,f.U=f.width,f.T=f.height,i((D=u.Pa).jb,0,255,D.jb.length),e((D=u.Qa)!=null),D.Cb=0,D.Bb=0,D.Fb=1,i(D.Zb,0,0,D.Zb.length),i(D.Lb,0,0,D.Lb)}if(M.ub>k)return en(u,7,"bad partition length");ve(D=u.m,m,w,M.ub),w+=M.ub,k-=M.ub,M.Rb&&(j.Ld=pe(D),j.Kd=pe(D)),j=u.Qa;var z,$=u.Pa;if(e(D!=null),e(j!=null),j.Cb=pe(D),j.Cb){if(j.Bb=pe(D),pe(D)){for(j.Fb=pe(D),z=0;4>z;++z)j.Zb[z]=pe(D)?ye(D,7):0;for(z=0;4>z;++z)j.Lb[z]=pe(D)?ye(D,6):0}if(j.Bb)for(z=0;3>z;++z)$.jb[z]=pe(D)?me(D,8):255}else j.Bb=0;if(D.Ka)return en(u,3,"cannot parse segment header");if((j=u.ed).zd=pe(D),j.Tb=me(D,6),j.wb=me(D,3),j.Pc=pe(D),j.Pc&&pe(D)){for($=0;4>$;++$)pe(D)&&(j.vd[$]=ye(D,6));for($=0;4>$;++$)pe(D)&&(j.od[$]=ye(D,6))}if(u.L=j.Tb==0?0:j.zd?1:2,D.Ka)return en(u,3,"cannot parse filter header");var ee=k;if(k=z=w,w=z+ee,j=ee,u.Xb=(1<<me(u.m,2))-1,ee<3*($=u.Xb))m=7;else{for(z+=3*$,j-=3*$,ee=0;ee<$;++ee){var he=m[k+0]|m[k+1]<<8|m[k+2]<<16;he>j&&(he=j),ve(u.Jc[+ee],m,z,he),z+=he,j-=he,k+=3}ve(u.Jc[+$],m,z,j),m=z<w?0:5}if(m!=0)return en(u,m,"cannot parse partitions");for(m=me(z=u.m,7),k=pe(z)?ye(z,4):0,w=pe(z)?ye(z,4):0,j=pe(z)?ye(z,4):0,$=pe(z)?ye(z,4):0,z=pe(z)?ye(z,4):0,ee=u.Qa,he=0;4>he;++he){if(ee.Cb){var fe=ee.Zb[he];ee.Fb||(fe+=m)}else{if(0<he){u.pb[he]=u.pb[0];continue}fe=m}var oe=u.pb[he];oe.Sc[0]=mm[Mt(fe+k,127)],oe.Sc[1]=gm[Mt(fe+0,127)],oe.Eb[0]=2*mm[Mt(fe+w,127)],oe.Eb[1]=101581*gm[Mt(fe+j,127)]>>16,8>oe.Eb[1]&&(oe.Eb[1]=8),oe.Qc[0]=mm[Mt(fe+$,117)],oe.Qc[1]=gm[Mt(fe+z,127)],oe.lc=fe+z}if(!M.Rb)return en(u,4,"Not a key frame.");for(pe(D),M=u.Pa,m=0;4>m;++m){for(k=0;8>k;++k)for(w=0;3>w;++w)for(j=0;11>j;++j)$=ge(D,Ob[m][k][w][j])?me(D,8):Lb[m][k][w][j],M.Wc[m][k].Yb[w][j]=$;for(k=0;17>k;++k)M.Xc[m][k]=M.Wc[m][Db[k]]}return u.kc=pe(D),u.kc&&(u.Bd=me(D,8)),u.cb=1}function Hl(u,f,m,w,k,D,M){var j=f[k].Yb[m];for(m=0;16>k;++k){if(!ge(u,j[m+0]))return k;for(;!ge(u,j[m+1]);)if(j=f[++k].Yb[0],m=0,k==16)return 16;var z=f[k+1].Yb;if(ge(u,j[m+2])){var $=u,ee=0;if(ge($,(fe=j)[(he=m)+3]))if(ge($,fe[he+6])){for(j=0,he=2*(ee=ge($,fe[he+8]))+(fe=ge($,fe[he+9+ee])),ee=0,fe=kb[he];fe[j];++j)ee+=ee+ge($,fe[j]);ee+=3+(8<<he)}else ge($,fe[he+7])?(ee=7+2*ge($,165),ee+=ge($,145)):ee=5+ge($,159);else ee=ge($,fe[he+4])?3+ge($,fe[he+5]):2;j=z[2]}else ee=1,j=z[1];z=M+Cb[k],0>($=u).b&&ue($);var he,fe=$.b,oe=(he=$.Ca>>1)-($.I>>fe)>>31;--$.b,$.Ca+=oe,$.Ca|=1,$.I-=(he+1&oe)<<fe,D[z]=((ee^oe)-oe)*w[(0<k)+0]}return 16}function Ga(u){var f=u.rb[u.sb-1];f.la=0,f.Na=0,i(u.zc,0,0,u.zc.length),u.ja=0}function Wl(u,f){if(u==null)return 0;if(f==null)return en(u,2,"NULL VP8Io parameter in VP8Decode().");if(!u.cb&&!Wa(u,f))return 0;if(e(u.cb),f.ac==null||f.ac(f)){f.ob&&(u.L=0);var m=Sf[u.L];if(u.L==2?(u.yb=0,u.zb=0):(u.yb=f.v-m>>4,u.zb=f.j-m>>4,0>u.yb&&(u.yb=0),0>u.zb&&(u.zb=0)),u.Va=f.o+15+m>>4,u.Hb=f.va+15+m>>4,u.Hb>u.za&&(u.Hb=u.za),u.Va>u.Ub&&(u.Va=u.Ub),0<u.L){var w=u.ed;for(m=0;4>m;++m){var k;if(u.Qa.Cb){var D=u.Qa.Lb[m];u.Qa.Fb||(D+=w.Tb)}else D=w.Tb;for(k=0;1>=k;++k){var M=u.gd[m][k],j=D;if(w.Pc&&(j+=w.vd[0],k&&(j+=w.od[0])),0<(j=0>j?0:63<j?63:j)){var z=j;0<w.wb&&(z=4<w.wb?z>>2:z>>1)>9-w.wb&&(z=9-w.wb),1>z&&(z=1),M.dd=z,M.tc=2*j+z,M.ld=40<=j?2:15<=j?1:0}else M.tc=0;M.La=k}}}m=0}else en(u,6,"Frame setup failed"),m=u.a;if(m=m==0){if(m){u.$c=0,0<u.Aa||(u.Ic=Kb);e:{m=u.Ic,w=4*(z=u.za);var $=32*z,ee=z+1,he=0<u.L?z*(0<u.Aa?2:1):0,fe=(u.Aa==2?2:1)*z;if((M=w+832+(k=3*(16*m+Sf[u.L])/2*$)+(D=u.Fa!=null&&0<u.Fa.length?u.Kc.c*u.Kc.i:0))!=M)m=0;else{if(M>u.Vb){if(u.Vb=0,u.Ec=s(M),u.Fc=0,u.Ec==null){m=en(u,1,"no memory during frame initialization.");break e}u.Vb=M}M=u.Ec,j=u.Fc,u.Ac=M,u.Bc=j,j+=w,u.Gd=o($,qa),u.Hd=0,u.rb=o(ee+1,cs),u.sb=1,u.wa=he?o(he,us):null,u.Y=0,u.D.Nb=0,u.D.wa=u.wa,u.D.Y=u.Y,0<u.Aa&&(u.D.Y+=z),e(!0),u.oc=M,u.pc=j,j+=832,u.ya=o(fe,Vs),u.aa=0,u.D.ya=u.ya,u.D.aa=u.aa,u.Aa==2&&(u.D.aa+=z),u.R=16*z,u.B=8*z,z=($=Sf[u.L])*u.R,$=$/2*u.B,u.sa=M,u.ta=j+z,u.qa=u.sa,u.ra=u.ta+16*m*u.R+$,u.Ha=u.qa,u.Ia=u.ra+8*m*u.B+$,u.$c=0,j+=k,u.mb=D?M:null,u.nb=D?j:null,e(j+D<=u.Fc+u.Vb),Ga(u),i(u.Ac,u.Bc,0,w),m=1}}if(m){if(f.ka=0,f.y=u.sa,f.O=u.ta,f.f=u.qa,f.N=u.ra,f.ea=u.Ha,f.Vd=u.Ia,f.fa=u.R,f.Rc=u.B,f.F=null,f.J=0,!mf){for(m=-255;255>=m;++m)Mn[255+m]=0>m?-m:m;for(m=-1020;1020>=m;++m)Ys[1020+m]=-128>m?-128:127<m?127:m;for(m=-112;112>=m;++m)Lc[112+m]=-16>m?-16:15<m?15:m;for(m=-255;510>=m;++m)au[255+m]=0>m?0:255<m?255:m;mf=1}iu=zs,Qs=So,xc=Ka,Nr=jt,vi=Us,An=Bs,su=Co,pf=Vi,kc=Ro,il=nl,sl=Lo,Uo=$s,ol=Oo,ou=ps,al=qs,zo=ti,Cc=Fn,yi=Jl,Ui[0]=mi,Ui[1]=bc,Ui[2]=fs,Ui[3]=Sc,Ui[4]=Ql,Ui[5]=Po,Ui[6]=Zr,Ui[7]=Ya,Ui[8]=xo,Ui[9]=No,qo[0]=hs,qo[1]=Ec,qo[2]=Di,qo[3]=Io,qo[4]=tn,qo[5]=Kl,qo[6]=Qa,Js[0]=Mi,Js[1]=Gl,Js[2]=Yl,Js[3]=Fi,Js[4]=Ft,Js[5]=Ja,Js[6]=Xa,m=1}else m=0}m&&(m=function(oe,Se){for(oe.M=0;oe.M<oe.Va;++oe.M){var _e,te=oe.Jc[oe.M&oe.Xb],re=oe.m,be=oe;for(_e=0;_e<be.za;++_e){var Te=re,Ee=be,$e=Ee.Ac,Me=Ee.Bc+4*_e,nt=Ee.zc,Ue=Ee.ya[Ee.aa+_e];if(Ee.Qa.Bb?Ue.$b=ge(Te,Ee.Pa.jb[0])?2+ge(Te,Ee.Pa.jb[2]):ge(Te,Ee.Pa.jb[1]):Ue.$b=0,Ee.kc&&(Ue.Ad=ge(Te,Ee.Bd)),Ue.Za=!ge(Te,145)+0,Ue.Za){var Dt=Ue.Ob,Bt=0;for(Ee=0;4>Ee;++Ee){var Lt,St=nt[0+Ee];for(Lt=0;4>Lt;++Lt){St=Rb[$e[Me+Lt]][St];for(var Wt=U0[ge(Te,St[0])];0<Wt;)Wt=U0[2*Wt+ge(Te,St[Wt])];St=-Wt,$e[Me+Lt]=St}r(Dt,Bt,$e,Me,4),Bt+=4,nt[0+Ee]=St}}else St=ge(Te,156)?ge(Te,128)?1:3:ge(Te,163)?2:0,Ue.Ob[0]=St,i($e,Me,St,4),i(nt,0,St,4);Ue.Dd=ge(Te,142)?ge(Te,114)?ge(Te,183)?1:3:2:0}if(be.m.Ka)return en(oe,7,"Premature end-of-partition0 encountered.");for(;oe.ja<oe.za;++oe.ja){if(be=te,Te=(re=oe).rb[re.sb-1],$e=re.rb[re.sb+re.ja],_e=re.ya[re.aa+re.ja],Me=re.kc?_e.Ad:0)Te.la=$e.la=0,_e.Za||(Te.Na=$e.Na=0),_e.Hc=0,_e.Gc=0,_e.ia=0;else{var $t,yt;if(Te=$e,$e=be,Me=re.Pa.Xc,nt=re.ya[re.aa+re.ja],Ue=re.pb[nt.$b],Ee=nt.ad,Dt=0,Bt=re.rb[re.sb-1],St=Lt=0,i(Ee,Dt,0,384),nt.Za)var Cn=0,Ur=Me[3];else{Wt=s(16);var Ln=Te.Na+Bt.Na;if(Ln=Rc($e,Me[1],Ln,Ue.Eb,0,Wt,0),Te.Na=Bt.Na=(0<Ln)+0,1<Ln)iu(Wt,0,Ee,Dt);else{var zr=Wt[0]+3>>3;for(Wt=0;256>Wt;Wt+=16)Ee[Dt+Wt]=zr}Cn=1,Ur=Me[0]}var Ut=15&Te.la,ri=15&Bt.la;for(Wt=0;4>Wt;++Wt){var ii=1&ri;for(zr=yt=0;4>zr;++zr)Ut=Ut>>1|(ii=(Ln=Rc($e,Ur,Ln=ii+(1&Ut),Ue.Sc,Cn,Ee,Dt))>Cn)<<7,yt=yt<<2|(3<Ln?3:1<Ln?2:Ee[Dt+0]!=0),Dt+=16;Ut>>=4,ri=ri>>1|ii<<7,Lt=(Lt<<8|yt)>>>0}for(Ur=Ut,Cn=ri>>4,$t=0;4>$t;$t+=2){for(yt=0,Ut=Te.la>>4+$t,ri=Bt.la>>4+$t,Wt=0;2>Wt;++Wt){for(ii=1&ri,zr=0;2>zr;++zr)Ln=ii+(1&Ut),Ut=Ut>>1|(ii=0<(Ln=Rc($e,Me[2],Ln,Ue.Qc,0,Ee,Dt)))<<3,yt=yt<<2|(3<Ln?3:1<Ln?2:Ee[Dt+0]!=0),Dt+=16;Ut>>=2,ri=ri>>1|ii<<5}St|=yt<<4*$t,Ur|=Ut<<4<<$t,Cn|=(240&ri)<<$t}Te.la=Ur,Bt.la=Cn,nt.Hc=Lt,nt.Gc=St,nt.ia=43690&St?0:Ue.ia,Me=!(Lt|St)}if(0<re.L&&(re.wa[re.Y+re.ja]=re.gd[_e.$b][_e.Za],re.wa[re.Y+re.ja].La|=!Me),be.Ka)return en(oe,7,"Premature end-of-file encountered.")}if(Ga(oe),re=Se,be=1,_e=(te=oe).D,Te=0<te.L&&te.M>=te.zb&&te.M<=te.Va,te.Aa==0)e:{if(_e.M=te.M,_e.uc=Te,gs(te,_e),be=1,_e=(yt=te.D).Nb,Te=(St=Sf[te.L])*te.R,$e=St/2*te.B,Wt=16*_e*te.R,zr=8*_e*te.B,Me=te.sa,nt=te.ta-Te+Wt,Ue=te.qa,Ee=te.ra-$e+zr,Dt=te.Ha,Bt=te.Ia-$e+zr,ri=(Ut=yt.M)==0,Lt=Ut>=te.Va-1,te.Aa==2&&gs(te,yt),yt.uc)for(ii=(Ln=te).D.M,e(Ln.D.uc),yt=Ln.yb;yt<Ln.Hb;++yt){Cn=yt,Ur=ii;var qn=(Zn=(gn=Ln).D).Nb;$t=gn.R;var Zn=Zn.wa[Zn.Y+Cn],xr=gn.sa,bi=gn.ta+16*qn*$t+16*Cn,ys=Zn.dd,$n=Zn.tc;if($n!=0)if(e(3<=$n),gn.L==1)0<Cn&&zo(xr,bi,$t,$n+4),Zn.La&&yi(xr,bi,$t,$n),0<Ur&&al(xr,bi,$t,$n+4),Zn.La&&Cc(xr,bi,$t,$n);else{var Xs=gn.B,ll=gn.qa,lu=gn.ra+8*qn*Xs+8*Cn,Ho=gn.Ha,gn=gn.Ia+8*qn*Xs+8*Cn;qn=Zn.ld,0<Cn&&(pf(xr,bi,$t,$n+4,ys,qn),il(ll,lu,Ho,gn,Xs,$n+4,ys,qn)),Zn.La&&(Uo(xr,bi,$t,$n,ys,qn),ou(ll,lu,Ho,gn,Xs,$n,ys,qn)),0<Ur&&(su(xr,bi,$t,$n+4,ys,qn),kc(ll,lu,Ho,gn,Xs,$n+4,ys,qn)),Zn.La&&(sl(xr,bi,$t,$n,ys,qn),ol(ll,lu,Ho,gn,Xs,$n,ys,qn))}}if(te.ia&&alert("todo:DitherRow"),re.put!=null){if(yt=16*Ut,Ut=16*(Ut+1),ri?(re.y=te.sa,re.O=te.ta+Wt,re.f=te.qa,re.N=te.ra+zr,re.ea=te.Ha,re.W=te.Ia+zr):(yt-=St,re.y=Me,re.O=nt,re.f=Ue,re.N=Ee,re.ea=Dt,re.W=Bt),Lt||(Ut-=St),Ut>re.o&&(Ut=re.o),re.F=null,re.J=null,te.Fa!=null&&0<te.Fa.length&&yt<Ut&&(re.J=Vo(te,re,yt,Ut-yt),re.F=te.mb,re.F==null&&re.F.length==0)){be=en(te,3,"Could not decode alpha data.");break e}yt<re.j&&(St=re.j-yt,yt=re.j,e(!(1&St)),re.O+=te.R*St,re.N+=te.B*(St>>1),re.W+=te.B*(St>>1),re.F!=null&&(re.J+=re.width*St)),yt<Ut&&(re.O+=re.v,re.N+=re.v>>1,re.W+=re.v>>1,re.F!=null&&(re.J+=re.v),re.ka=yt-re.j,re.U=re.va-re.v,re.T=Ut-yt,be=re.put(re))}_e+1!=te.Ic||Lt||(r(te.sa,te.ta-Te,Me,nt+16*te.R,Te),r(te.qa,te.ra-$e,Ue,Ee+8*te.B,$e),r(te.Ha,te.Ia-$e,Dt,Bt+8*te.B,$e))}if(!be)return en(oe,6,"Output aborted.")}return 1}(u,f)),f.bc!=null&&f.bc(f),m&=1}return m?(u.cb=0,m):0}function Vr(u,f,m,w,k){k=u[f+m+32*w]+(k>>3),u[f+m+32*w]=-256&k?0>k?0:255:k}function Eo(u,f,m,w,k,D){Vr(u,f,0,m,w+k),Vr(u,f,1,m,w+D),Vr(u,f,2,m,w-D),Vr(u,f,3,m,w-k)}function mn(u){return(20091*u>>16)+u}function Tr(u,f,m,w){var k,D=0,M=s(16);for(k=0;4>k;++k){var j=u[f+0]+u[f+8],z=u[f+0]-u[f+8],$=(35468*u[f+4]>>16)-mn(u[f+12]),ee=mn(u[f+4])+(35468*u[f+12]>>16);M[D+0]=j+ee,M[D+1]=z+$,M[D+2]=z-$,M[D+3]=j-ee,D+=4,f++}for(k=D=0;4>k;++k)j=(u=M[D+0]+4)+M[D+8],z=u-M[D+8],$=(35468*M[D+4]>>16)-mn(M[D+12]),Vr(m,w,0,0,j+(ee=mn(M[D+4])+(35468*M[D+12]>>16))),Vr(m,w,1,0,z+$),Vr(m,w,2,0,z-$),Vr(m,w,3,0,j-ee),D++,w+=32}function Bs(u,f,m,w){var k=u[f+0]+4,D=35468*u[f+4]>>16,M=mn(u[f+4]),j=35468*u[f+1]>>16;Eo(m,w,0,k+M,u=mn(u[f+1]),j),Eo(m,w,1,k+D,u,j),Eo(m,w,2,k-D,u,j),Eo(m,w,3,k-M,u,j)}function So(u,f,m,w,k){Tr(u,f,m,w),k&&Tr(u,f+16,m,w+4)}function Ka(u,f,m,w){Qs(u,f+0,m,w,1),Qs(u,f+32,m,w+128,1)}function jt(u,f,m,w){var k;for(u=u[f+0]+4,k=0;4>k;++k)for(f=0;4>f;++f)Vr(m,w,f,k,u)}function Us(u,f,m,w){u[f+0]&&Nr(u,f+0,m,w),u[f+16]&&Nr(u,f+16,m,w+4),u[f+32]&&Nr(u,f+32,m,w+128),u[f+48]&&Nr(u,f+48,m,w+128+4)}function zs(u,f,m,w){var k,D=s(16);for(k=0;4>k;++k){var M=u[f+0+k]+u[f+12+k],j=u[f+4+k]+u[f+8+k],z=u[f+4+k]-u[f+8+k],$=u[f+0+k]-u[f+12+k];D[0+k]=M+j,D[8+k]=M-j,D[4+k]=$+z,D[12+k]=$-z}for(k=0;4>k;++k)M=(u=D[0+4*k]+3)+D[3+4*k],j=D[1+4*k]+D[2+4*k],z=D[1+4*k]-D[2+4*k],$=u-D[3+4*k],m[w+0]=M+j>>3,m[w+16]=$+z>>3,m[w+32]=M-j>>3,m[w+48]=$-z>>3,w+=64}function Oi(u,f,m){var w,k=f-32,D=ni,M=255-u[k-1];for(w=0;w<m;++w){var j,z=D,$=M+u[f-1];for(j=0;j<m;++j)u[f+j]=z[$+u[k+j]];f+=32}}function bc(u,f){Oi(u,f,4)}function Gl(u,f){Oi(u,f,8)}function Ec(u,f){Oi(u,f,16)}function Di(u,f){var m;for(m=0;16>m;++m)r(u,f+32*m,u,f-32,16)}function Io(u,f){var m;for(m=16;0<m;--m)i(u,f,u[f-1],16),f+=32}function To(u,f,m){var w;for(w=0;16>w;++w)i(f,m+32*w,u,16)}function hs(u,f){var m,w=16;for(m=0;16>m;++m)w+=u[f-1+32*m]+u[f+m-32];To(w>>5,u,f)}function tn(u,f){var m,w=8;for(m=0;16>m;++m)w+=u[f-1+32*m];To(w>>4,u,f)}function Kl(u,f){var m,w=8;for(m=0;16>m;++m)w+=u[f+m-32];To(w>>4,u,f)}function Qa(u,f){To(128,u,f)}function ct(u,f,m){return u+2*f+m+2>>2}function fs(u,f){var m,w=f-32;for(w=new Uint8Array([ct(u[w-1],u[w+0],u[w+1]),ct(u[w+0],u[w+1],u[w+2]),ct(u[w+1],u[w+2],u[w+3]),ct(u[w+2],u[w+3],u[w+4])]),m=0;4>m;++m)r(u,f+32*m,w,0,w.length)}function Sc(u,f){var m=u[f-1],w=u[f-1+32],k=u[f-1+64],D=u[f-1+96];Oe(u,f+0,16843009*ct(u[f-1-32],m,w)),Oe(u,f+32,16843009*ct(m,w,k)),Oe(u,f+64,16843009*ct(w,k,D)),Oe(u,f+96,16843009*ct(k,D,D))}function mi(u,f){var m,w=4;for(m=0;4>m;++m)w+=u[f+m-32]+u[f-1+32*m];for(w>>=3,m=0;4>m;++m)i(u,f+32*m,w,4)}function Ql(u,f){var m=u[f-1+0],w=u[f-1+32],k=u[f-1+64],D=u[f-1-32],M=u[f+0-32],j=u[f+1-32],z=u[f+2-32],$=u[f+3-32];u[f+0+96]=ct(w,k,u[f-1+96]),u[f+1+96]=u[f+0+64]=ct(m,w,k),u[f+2+96]=u[f+1+64]=u[f+0+32]=ct(D,m,w),u[f+3+96]=u[f+2+64]=u[f+1+32]=u[f+0+0]=ct(M,D,m),u[f+3+64]=u[f+2+32]=u[f+1+0]=ct(j,M,D),u[f+3+32]=u[f+2+0]=ct(z,j,M),u[f+3+0]=ct($,z,j)}function Zr(u,f){var m=u[f+1-32],w=u[f+2-32],k=u[f+3-32],D=u[f+4-32],M=u[f+5-32],j=u[f+6-32],z=u[f+7-32];u[f+0+0]=ct(u[f+0-32],m,w),u[f+1+0]=u[f+0+32]=ct(m,w,k),u[f+2+0]=u[f+1+32]=u[f+0+64]=ct(w,k,D),u[f+3+0]=u[f+2+32]=u[f+1+64]=u[f+0+96]=ct(k,D,M),u[f+3+32]=u[f+2+64]=u[f+1+96]=ct(D,M,j),u[f+3+64]=u[f+2+96]=ct(M,j,z),u[f+3+96]=ct(j,z,z)}function Po(u,f){var m=u[f-1+0],w=u[f-1+32],k=u[f-1+64],D=u[f-1-32],M=u[f+0-32],j=u[f+1-32],z=u[f+2-32],$=u[f+3-32];u[f+0+0]=u[f+1+64]=D+M+1>>1,u[f+1+0]=u[f+2+64]=M+j+1>>1,u[f+2+0]=u[f+3+64]=j+z+1>>1,u[f+3+0]=z+$+1>>1,u[f+0+96]=ct(k,w,m),u[f+0+64]=ct(w,m,D),u[f+0+32]=u[f+1+96]=ct(m,D,M),u[f+1+32]=u[f+2+96]=ct(D,M,j),u[f+2+32]=u[f+3+96]=ct(M,j,z),u[f+3+32]=ct(j,z,$)}function Ya(u,f){var m=u[f+0-32],w=u[f+1-32],k=u[f+2-32],D=u[f+3-32],M=u[f+4-32],j=u[f+5-32],z=u[f+6-32],$=u[f+7-32];u[f+0+0]=m+w+1>>1,u[f+1+0]=u[f+0+64]=w+k+1>>1,u[f+2+0]=u[f+1+64]=k+D+1>>1,u[f+3+0]=u[f+2+64]=D+M+1>>1,u[f+0+32]=ct(m,w,k),u[f+1+32]=u[f+0+96]=ct(w,k,D),u[f+2+32]=u[f+1+96]=ct(k,D,M),u[f+3+32]=u[f+2+96]=ct(D,M,j),u[f+3+64]=ct(M,j,z),u[f+3+96]=ct(j,z,$)}function No(u,f){var m=u[f-1+0],w=u[f-1+32],k=u[f-1+64],D=u[f-1+96];u[f+0+0]=m+w+1>>1,u[f+2+0]=u[f+0+32]=w+k+1>>1,u[f+2+32]=u[f+0+64]=k+D+1>>1,u[f+1+0]=ct(m,w,k),u[f+3+0]=u[f+1+32]=ct(w,k,D),u[f+3+32]=u[f+1+64]=ct(k,D,D),u[f+3+64]=u[f+2+64]=u[f+0+96]=u[f+1+96]=u[f+2+96]=u[f+3+96]=D}function xo(u,f){var m=u[f-1+0],w=u[f-1+32],k=u[f-1+64],D=u[f-1+96],M=u[f-1-32],j=u[f+0-32],z=u[f+1-32],$=u[f+2-32];u[f+0+0]=u[f+2+32]=m+M+1>>1,u[f+0+32]=u[f+2+64]=w+m+1>>1,u[f+0+64]=u[f+2+96]=k+w+1>>1,u[f+0+96]=D+k+1>>1,u[f+3+0]=ct(j,z,$),u[f+2+0]=ct(M,j,z),u[f+1+0]=u[f+3+32]=ct(m,M,j),u[f+1+32]=u[f+3+64]=ct(w,m,M),u[f+1+64]=u[f+3+96]=ct(k,w,m),u[f+1+96]=ct(D,k,w)}function Yl(u,f){var m;for(m=0;8>m;++m)r(u,f+32*m,u,f-32,8)}function Fi(u,f){var m;for(m=0;8>m;++m)i(u,f,u[f-1],8),f+=32}function ei(u,f,m){var w;for(w=0;8>w;++w)i(f,m+32*w,u,8)}function Mi(u,f){var m,w=8;for(m=0;8>m;++m)w+=u[f+m-32]+u[f-1+32*m];ei(w>>4,u,f)}function Ja(u,f){var m,w=4;for(m=0;8>m;++m)w+=u[f+m-32];ei(w>>3,u,f)}function Ft(u,f){var m,w=4;for(m=0;8>m;++m)w+=u[f-1+32*m];ei(w>>3,u,f)}function Xa(u,f){ei(128,u,f)}function ko(u,f,m){var w=u[f-m],k=u[f+0],D=3*(k-w)+cm[1020+u[f-2*m]-u[f+m]],M=gf[112+(D+4>>3)];u[f-m]=ni[255+w+gf[112+(D+3>>3)]],u[f+0]=ni[255+k-M]}function Za(u,f,m,w){var k=u[f+0],D=u[f+m];return wi[255+u[f-2*m]-u[f-m]]>w||wi[255+D-k]>w}function el(u,f,m,w){return 4*wi[255+u[f-m]-u[f+0]]+wi[255+u[f-2*m]-u[f+m]]<=w}function tl(u,f,m,w,k){var D=u[f-3*m],M=u[f-2*m],j=u[f-m],z=u[f+0],$=u[f+m],ee=u[f+2*m],he=u[f+3*m];return 4*wi[255+j-z]+wi[255+M-$]>w?0:wi[255+u[f-4*m]-D]<=k&&wi[255+D-M]<=k&&wi[255+M-j]<=k&&wi[255+he-ee]<=k&&wi[255+ee-$]<=k&&wi[255+$-z]<=k}function qs(u,f,m,w){var k=2*w+1;for(w=0;16>w;++w)el(u,f+w,m,k)&&ko(u,f+w,m)}function ti(u,f,m,w){var k=2*w+1;for(w=0;16>w;++w)el(u,f+w*m,1,k)&&ko(u,f+w*m,1)}function Fn(u,f,m,w){var k;for(k=3;0<k;--k)qs(u,f+=4*m,m,w)}function Jl(u,f,m,w){var k;for(k=3;0<k;--k)ti(u,f+=4,m,w)}function ds(u,f,m,w,k,D,M,j){for(D=2*D+1;0<k--;){if(tl(u,f,m,D,M))if(Za(u,f,m,j))ko(u,f,m);else{var z=u,$=f,ee=m,he=z[$-2*ee],fe=z[$-ee],oe=z[$+0],Se=z[$+ee],_e=z[$+2*ee],te=27*(be=cm[1020+3*(oe-fe)+cm[1020+he-Se]])+63>>7,re=18*be+63>>7,be=9*be+63>>7;z[$-3*ee]=ni[255+z[$-3*ee]+be],z[$-2*ee]=ni[255+he+re],z[$-ee]=ni[255+fe+te],z[$+0]=ni[255+oe-te],z[$+ee]=ni[255+Se-re],z[$+2*ee]=ni[255+_e-be]}f+=w}}function Yn(u,f,m,w,k,D,M,j){for(D=2*D+1;0<k--;){if(tl(u,f,m,D,M))if(Za(u,f,m,j))ko(u,f,m);else{var z=u,$=f,ee=m,he=z[$-ee],fe=z[$+0],oe=z[$+ee],Se=gf[112+((_e=3*(fe-he))+4>>3)],_e=gf[112+(_e+3>>3)],te=Se+1>>1;z[$-2*ee]=ni[255+z[$-2*ee]+te],z[$-ee]=ni[255+he+_e],z[$+0]=ni[255+fe-Se],z[$+ee]=ni[255+oe-te]}f+=w}}function Co(u,f,m,w,k,D){ds(u,f,m,1,16,w,k,D)}function Vi(u,f,m,w,k,D){ds(u,f,1,m,16,w,k,D)}function Lo(u,f,m,w,k,D){var M;for(M=3;0<M;--M)Yn(u,f+=4*m,m,1,16,w,k,D)}function $s(u,f,m,w,k,D){var M;for(M=3;0<M;--M)Yn(u,f+=4,1,m,16,w,k,D)}function Ro(u,f,m,w,k,D,M,j){ds(u,f,k,1,8,D,M,j),ds(m,w,k,1,8,D,M,j)}function nl(u,f,m,w,k,D,M,j){ds(u,f,1,k,8,D,M,j),ds(m,w,1,k,8,D,M,j)}function Oo(u,f,m,w,k,D,M,j){Yn(u,f+4*k,k,1,8,D,M,j),Yn(m,w+4*k,k,1,8,D,M,j)}function ps(u,f,m,w,k,D,M,j){Yn(u,f+4,1,k,8,D,M,j),Yn(m,w+4,1,k,8,D,M,j)}function Hs(){this.ba=new Qn,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Qt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Do(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Ws(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Fo(){this.ua=0,this.Wa=new K,this.vb=new K,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new Q,this.yc=new T}function Xl(){this.xb=this.a=0,this.l=new js,this.ca=new Qn,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new L,this.Pb=0,this.wd=new L,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Fo,this.ab=0,this.gc=o(4,Ws),this.Oc=0}function ji(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new js,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function ms(u,f,m,w,k,D,M){for(u=u==null?0:u[f+0],f=0;f<M;++f)k[D+f]=u+m[w+f]&255,u=k[D+f]}function Mo(u,f,m,w,k,D,M){var j;if(u==null)ms(null,null,m,w,k,D,M);else for(j=0;j<M;++j)k[D+j]=u[f+j]+m[w+j]&255}function ur(u,f,m,w,k,D,M){if(u==null)ms(null,null,m,w,k,D,M);else{var j,z=u[f+0],$=z,ee=z;for(j=0;j<M;++j)$=ee+(z=u[f+j])-$,ee=m[w+j]+(-256&$?0>$?0:255:$)&255,$=z,k[D+j]=ee}}function Vo(u,f,m,w){var k=f.width,D=f.o;if(e(u!=null&&f!=null),0>m||0>=w||m+w>D)return null;if(!u.Cc){if(u.ga==null){var M;if(u.ga=new ji,(M=u.ga==null)||(M=f.width*f.o,e(u.Gb.length==0),u.Gb=s(M),u.Uc=0,u.Gb==null?M=0:(u.mb=u.Gb,u.nb=u.Uc,u.rc=null,M=1),M=!M),!M){M=u.ga;var j=u.Fa,z=u.P,$=u.qc,ee=u.mb,he=u.nb,fe=z+1,oe=$-1,Se=M.l;if(e(j!=null&&ee!=null&&f!=null),$o[0]=null,$o[1]=ms,$o[2]=Mo,$o[3]=ur,M.ca=ee,M.tb=he,M.c=f.width,M.i=f.height,e(0<M.c&&0<M.i),1>=$)f=0;else if(M.$a=j[z+0]>>0&3,M.Z=j[z+0]>>2&3,M.Lc=j[z+0]>>4&3,z=j[z+0]>>6&3,0>M.$a||1<M.$a||4<=M.Z||1<M.Lc||z)f=0;else if(Se.put=or,Se.ac=Nn,Se.bc=Jr,Se.ma=M,Se.width=f.width,Se.height=f.height,Se.Da=f.Da,Se.v=f.v,Se.va=f.va,Se.j=f.j,Se.o=f.o,M.$a)e:{e(M.$a==1),f=wn();t:for(;;){if(f==null){f=0;break e}if(e(M!=null),M.mc=f,f.c=M.c,f.i=M.i,f.l=M.l,f.l.ma=M,f.l.width=M.c,f.l.height=M.i,f.a=0,Y(f.m,j,fe,oe),!Xr(M.c,M.i,1,f,null)||(f.ab==1&&f.gc[0].hc==3&&Li(f.s)?(M.ic=1,j=f.c*f.i,f.Ta=null,f.Ua=0,f.V=s(j),f.Ba=0,f.V==null?(f.a=1,f=0):f=1):(M.ic=0,f=os(f,M.c)),!f))break t;f=1;break e}M.mc=null,f=0}else f=oe>=M.c*M.i;M=!f}if(M)return null;u.ga.Lc!=1?u.Ga=0:w=D-m}e(u.ga!=null),e(m+w<=D);e:{if(f=(j=u.ga).c,D=j.l.o,j.$a==0){if(fe=u.rc,oe=u.Vc,Se=u.Fa,z=u.P+1+m*f,$=u.mb,ee=u.nb+m*f,e(z<=u.P+u.qc),j.Z!=0)for(e($o[j.Z]!=null),M=0;M<w;++M)$o[j.Z](fe,oe,Se,z,$,ee,f),fe=$,oe=ee,ee+=f,z+=f;else for(M=0;M<w;++M)r($,ee,Se,z,f),fe=$,oe=ee,ee+=f,z+=f;u.rc=fe,u.Vc=oe}else{if(e(j.mc!=null),f=m+w,e((M=j.mc)!=null),e(f<=M.i),M.C>=f)f=1;else if(j.ic||se(),j.ic){j=M.V,fe=M.Ba,oe=M.c;var _e=M.i,te=(Se=1,z=M.$/oe,$=M.$%oe,ee=M.m,he=M.s,M.$),re=oe*_e,be=oe*f,Te=he.wc,Ee=te<be?pn(he,$,z):null;e(te<=re),e(f<=_e),e(Li(he));t:for(;;){for(;!ee.h&&te<be;){if($&Te||(Ee=pn(he,$,z)),e(Ee!=null),ne(ee),256>(_e=xn(Ee.G[0],Ee.H[0],ee)))j[fe+te]=_e,++te,++$>=oe&&($=0,++z<=f&&!(z%16)&&Mr(M,z));else{if(!(280>_e)){Se=0;break t}_e=Fr(_e-256,ee);var $e,Me=xn(Ee.G[4],Ee.H[4],ee);if(ne(ee),!(te>=(Me=ar(oe,Me=Fr(Me,ee)))&&re-te>=_e)){Se=0;break t}for($e=0;$e<_e;++$e)j[fe+te+$e]=j[fe+te+$e-Me];for(te+=_e,$+=_e;$>=oe;)$-=oe,++z<=f&&!(z%16)&&Mr(M,z);te<be&&$&Te&&(Ee=pn(he,$,z))}e(ee.h==G(ee))}Mr(M,z>f?f:z);break t}!Se||ee.h&&te<re?(Se=0,M.a=ee.h?5:3):M.$=te,f=Se}else f=Sr(M,M.V,M.Ba,M.c,M.i,f,as);if(!f){w=0;break e}}m+w>=D&&(u.Cc=1),w=1}if(!w)return null;if(u.Cc&&((w=u.ga)!=null&&(w.mc=null),u.ga=null,0<u.Ga))return alert("todo:WebPDequantizeLevels"),null}return u.nb+m*k}function d(u,f,m,w,k,D){for(;0<k--;){var M,j=u,z=f+(m?1:0),$=u,ee=f+(m?0:3);for(M=0;M<w;++M){var he=$[ee+4*M];he!=255&&(he*=32897,j[z+4*M+0]=j[z+4*M+0]*he>>23,j[z+4*M+1]=j[z+4*M+1]*he>>23,j[z+4*M+2]=j[z+4*M+2]*he>>23)}f+=D}}function x(u,f,m,w,k){for(;0<w--;){var D;for(D=0;D<m;++D){var M=u[f+2*D+0],j=15&($=u[f+2*D+1]),z=4369*j,$=(240&$|$>>4)*z>>16;u[f+2*D+0]=(240&M|M>>4)*z>>16&240|(15&M|M<<4)*z>>16>>4&15,u[f+2*D+1]=240&$|j}f+=k}}function H(u,f,m,w,k,D,M,j){var z,$,ee=255;for($=0;$<k;++$){for(z=0;z<w;++z){var he=u[f+z];D[M+4*z]=he,ee&=he}f+=m,M+=j}return ee!=255}function X(u,f,m,w,k){var D;for(D=0;D<k;++D)m[w+D]=u[f+D]>>8}function se(){_i=d,Yt=x,Jt=H,bn=X}function we(u,f,m){E[u]=function(w,k,D,M,j,z,$,ee,he,fe,oe,Se,_e,te,re,be,Te){var Ee,$e=Te-1>>1,Me=j[z+0]|$[ee+0]<<16,nt=he[fe+0]|oe[Se+0]<<16;e(w!=null);var Ue=3*Me+nt+131074>>2;for(f(w[k+0],255&Ue,Ue>>16,_e,te),D!=null&&(Ue=3*nt+Me+131074>>2,f(D[M+0],255&Ue,Ue>>16,re,be)),Ee=1;Ee<=$e;++Ee){var Dt=j[z+Ee]|$[ee+Ee]<<16,Bt=he[fe+Ee]|oe[Se+Ee]<<16,Lt=Me+Dt+nt+Bt+524296,St=Lt+2*(Dt+nt)>>3;Ue=St+Me>>1,Me=(Lt=Lt+2*(Me+Bt)>>3)+Dt>>1,f(w[k+2*Ee-1],255&Ue,Ue>>16,_e,te+(2*Ee-1)*m),f(w[k+2*Ee-0],255&Me,Me>>16,_e,te+(2*Ee-0)*m),D!=null&&(Ue=Lt+nt>>1,Me=St+Bt>>1,f(D[M+2*Ee-1],255&Ue,Ue>>16,re,be+(2*Ee-1)*m),f(D[M+2*Ee+0],255&Me,Me>>16,re,be+(2*Ee+0)*m)),Me=Dt,nt=Bt}1&Te||(Ue=3*Me+nt+131074>>2,f(w[k+Te-1],255&Ue,Ue>>16,_e,te+(Te-1)*m),D!=null&&(Ue=3*nt+Me+131074>>2,f(D[M+Te-1],255&Ue,Ue>>16,re,be+(Te-1)*m)))}}function Pe(){Ai[vf]=Mb,Ai[yf]=q0,Ai[V0]=Vb,Ai[_f]=$0,Ai[wf]=H0,Ai[hm]=W0,Ai[j0]=jb,Ai[fm]=q0,Ai[dm]=$0,Ai[Af]=H0,Ai[pm]=W0}function je(u){return u&-16384?0>u?0:255:u>>Bb}function c(u,f){return je((19077*u>>8)+(26149*f>>8)-14234)}function y(u,f,m){return je((19077*u>>8)-(6419*f>>8)-(13320*m>>8)+8708)}function A(u,f){return je((19077*u>>8)+(33050*f>>8)-17685)}function V(u,f,m,w,k){w[k+0]=c(u,m),w[k+1]=y(u,f,m),w[k+2]=A(u,f)}function ie(u,f,m,w,k){w[k+0]=A(u,f),w[k+1]=y(u,f,m),w[k+2]=c(u,m)}function de(u,f,m,w,k){var D=y(u,f,m);f=D<<3&224|A(u,f)>>3,w[k+0]=248&c(u,m)|D>>5,w[k+1]=f}function Ne(u,f,m,w,k){var D=240&A(u,f)|15;w[k+0]=240&c(u,m)|y(u,f,m)>>4,w[k+1]=D}function pt(u,f,m,w,k){w[k+0]=255,V(u,f,m,w,k+1)}function Et(u,f,m,w,k){ie(u,f,m,w,k),w[k+3]=255}function mt(u,f,m,w,k){V(u,f,m,w,k),w[k+3]=255}function Mt(u,f){return 0>u?0:u>f?f:u}function Ht(u,f,m){E[u]=function(w,k,D,M,j,z,$,ee,he){for(var fe=ee+(-2&he)*m;ee!=fe;)f(w[k+0],D[M+0],j[z+0],$,ee),f(w[k+1],D[M+0],j[z+0],$,ee+m),k+=2,++M,++z,ee+=2*m;1&he&&f(w[k+0],D[M+0],j[z+0],$,ee)}}function Bi(u,f,m){return m==0?u==0?f==0?6:5:f==0?4:0:m}function Jn(u,f,m,w,k){switch(u>>>30){case 3:Qs(f,m,w,k,0);break;case 2:An(f,m,w,k);break;case 1:Nr(f,m,w,k)}}function gs(u,f){var m,w,k=f.M,D=f.Nb,M=u.oc,j=u.pc+40,z=u.oc,$=u.pc+584,ee=u.oc,he=u.pc+600;for(m=0;16>m;++m)M[j+32*m-1]=129;for(m=0;8>m;++m)z[$+32*m-1]=129,ee[he+32*m-1]=129;for(0<k?M[j-1-32]=z[$-1-32]=ee[he-1-32]=129:(i(M,j-32-1,127,21),i(z,$-32-1,127,9),i(ee,he-32-1,127,9)),w=0;w<u.za;++w){var fe=f.ya[f.aa+w];if(0<w){for(m=-1;16>m;++m)r(M,j+32*m-4,M,j+32*m+12,4);for(m=-1;8>m;++m)r(z,$+32*m-4,z,$+32*m+4,4),r(ee,he+32*m-4,ee,he+32*m+4,4)}var oe=u.Gd,Se=u.Hd+w,_e=fe.ad,te=fe.Hc;if(0<k&&(r(M,j-32,oe[Se].y,0,16),r(z,$-32,oe[Se].f,0,8),r(ee,he-32,oe[Se].ea,0,8)),fe.Za){var re=M,be=j-32+16;for(0<k&&(w>=u.za-1?i(re,be,oe[Se].y[15],4):r(re,be,oe[Se+1].y,0,4)),m=0;4>m;m++)re[be+128+m]=re[be+256+m]=re[be+384+m]=re[be+0+m];for(m=0;16>m;++m,te<<=2)re=M,be=j+K0[m],Ui[fe.Ob[m]](re,be),Jn(te,_e,16*+m,re,be)}else if(re=Bi(w,k,fe.Ob[0]),qo[re](M,j),te!=0)for(m=0;16>m;++m,te<<=2)Jn(te,_e,16*+m,M,j+K0[m]);for(m=fe.Gc,re=Bi(w,k,fe.Dd),Js[re](z,$),Js[re](ee,he),te=_e,re=z,be=$,255&(fe=m>>0)&&(170&fe?xc(te,256,re,be):vi(te,256,re,be)),fe=ee,te=he,255&(m>>=8)&&(170&m?xc(_e,320,fe,te):vi(_e,320,fe,te)),k<u.Ub-1&&(r(oe[Se].y,0,M,j+480,16),r(oe[Se].f,0,z,$+224,8),r(oe[Se].ea,0,ee,he+224,8)),m=8*D*u.B,oe=u.sa,Se=u.ta+16*w+16*D*u.R,_e=u.qa,fe=u.ra+8*w+m,te=u.Ha,re=u.Ia+8*w+m,m=0;16>m;++m)r(oe,Se+m*u.R,M,j+32*m,16);for(m=0;8>m;++m)r(_e,fe+m*u.B,z,$+32*m,8),r(te,re+m*u.B,ee,he+32*m,8)}}function vs(u,f,m,w,k,D,M,j,z){var $=[0],ee=[0],he=0,fe=z!=null?z.kd:0,oe=z??new Do;if(u==null||12>m)return 7;oe.data=u,oe.w=f,oe.ha=m,f=[f],m=[m],oe.gb=[oe.gb];e:{var Se=f,_e=m,te=oe.gb;if(e(u!=null),e(_e!=null),e(te!=null),te[0]=0,12<=_e[0]&&!n(u,Se[0],"RIFF")){if(n(u,Se[0]+8,"WEBP")){te=3;break e}var re=Fe(u,Se[0]+4);if(12>re||4294967286<re){te=3;break e}if(fe&&re>_e[0]-8){te=7;break e}te[0]=re,Se[0]+=12,_e[0]-=12}te=0}if(te!=0)return te;for(re=0<oe.gb[0],m=m[0];;){e:{var be=u;_e=f,te=m;var Te=$,Ee=ee,$e=Se=[0];if((Ue=he=[he])[0]=0,8>te[0])te=7;else{if(!n(be,_e[0],"VP8X")){if(Fe(be,_e[0]+4)!=10){te=3;break e}if(18>te[0]){te=7;break e}var Me=Fe(be,_e[0]+8),nt=1+Ve(be,_e[0]+12);if(2147483648<=nt*(be=1+Ve(be,_e[0]+15))){te=3;break e}$e!=null&&($e[0]=Me),Te!=null&&(Te[0]=nt),Ee!=null&&(Ee[0]=be),_e[0]+=18,te[0]-=18,Ue[0]=1}te=0}}if(he=he[0],Se=Se[0],te!=0)return te;if(_e=!!(2&Se),!re&&he)return 3;if(D!=null&&(D[0]=!!(16&Se)),M!=null&&(M[0]=_e),j!=null&&(j[0]=0),M=$[0],Se=ee[0],he&&_e&&z==null){te=0;break}if(4>m){te=7;break}if(re&&he||!re&&!he&&!n(u,f[0],"ALPH")){m=[m],oe.na=[oe.na],oe.P=[oe.P],oe.Sa=[oe.Sa];e:{Me=u,te=f,re=m;var Ue=oe.gb;Te=oe.na,Ee=oe.P,$e=oe.Sa,nt=22,e(Me!=null),e(re!=null),be=te[0];var Dt=re[0];for(e(Te!=null),e($e!=null),Te[0]=null,Ee[0]=null,$e[0]=0;;){if(te[0]=be,re[0]=Dt,8>Dt){te=7;break e}var Bt=Fe(Me,be+4);if(4294967286<Bt){te=3;break e}var Lt=8+Bt+1&-2;if(nt+=Lt,0<Ue&&nt>Ue){te=3;break e}if(!n(Me,be,"VP8 ")||!n(Me,be,"VP8L")){te=0;break e}if(Dt[0]<Lt){te=7;break e}n(Me,be,"ALPH")||(Te[0]=Me,Ee[0]=be+8,$e[0]=Bt),be+=Lt,Dt-=Lt}}if(m=m[0],oe.na=oe.na[0],oe.P=oe.P[0],oe.Sa=oe.Sa[0],te!=0)break}m=[m],oe.Ja=[oe.Ja],oe.xa=[oe.xa];e:if(Ue=u,te=f,re=m,Te=oe.gb[0],Ee=oe.Ja,$e=oe.xa,Me=te[0],be=!n(Ue,Me,"VP8 "),nt=!n(Ue,Me,"VP8L"),e(Ue!=null),e(re!=null),e(Ee!=null),e($e!=null),8>re[0])te=7;else{if(be||nt){if(Ue=Fe(Ue,Me+4),12<=Te&&Ue>Te-12){te=3;break e}if(fe&&Ue>re[0]-8){te=7;break e}Ee[0]=Ue,te[0]+=8,re[0]-=8,$e[0]=nt}else $e[0]=5<=re[0]&&Ue[Me+0]==47&&!(Ue[Me+4]>>5),Ee[0]=re[0];te=0}if(m=m[0],oe.Ja=oe.Ja[0],oe.xa=oe.xa[0],f=f[0],te!=0)break;if(4294967286<oe.Ja)return 3;if(j==null||_e||(j[0]=oe.xa?2:1),M=[M],Se=[Se],oe.xa){if(5>m){te=7;break}j=M,fe=Se,_e=D,u==null||5>m?u=0:5<=m&&u[f+0]==47&&!(u[f+4]>>5)?(re=[0],Ue=[0],Te=[0],Y(Ee=new L,u,f,m),We(Ee,re,Ue,Te)?(j!=null&&(j[0]=re[0]),fe!=null&&(fe[0]=Ue[0]),_e!=null&&(_e[0]=Te[0]),u=1):u=0):u=0}else{if(10>m){te=7;break}j=Se,u==null||10>m||!Ha(u,f+3,m-3)?u=0:(fe=u[f+0]|u[f+1]<<8|u[f+2]<<16,_e=16383&(u[f+7]<<8|u[f+6]),u=16383&(u[f+9]<<8|u[f+8]),1&fe||3<(fe>>1&7)||!(fe>>4&1)||fe>>5>=oe.Ja||!_e||!u?u=0:(M&&(M[0]=_e),j&&(j[0]=u),u=1))}if(!u||(M=M[0],Se=Se[0],he&&($[0]!=M||ee[0]!=Se)))return 3;z!=null&&(z[0]=oe,z.offset=f-z.w,e(4294967286>f-z.w),e(z.offset==z.ha-m));break}return te==0||te==7&&he&&z==null?(D!=null&&(D[0]|=oe.na!=null&&0<oe.na.length),w!=null&&(w[0]=M),k!=null&&(k[0]=Se),0):te}function Ic(u,f,m){var w=f.width,k=f.height,D=0,M=0,j=w,z=k;if(f.Da=u!=null&&0<u.Da,f.Da&&(j=u.cd,z=u.bd,D=u.v,M=u.j,11>m||(D&=-2,M&=-2),0>D||0>M||0>=j||0>=z||D+j>w||M+z>k))return 0;if(f.v=D,f.j=M,f.va=D+j,f.o=M+z,f.U=j,f.T=z,f.da=u!=null&&0<u.da,f.da){if(!ht(j,z,m=[u.ib],D=[u.hb]))return 0;f.ib=m[0],f.hb=D[0]}return f.ob=u!=null&&u.ob,f.Kb=u==null||!u.Sd,f.da&&(f.ob=f.ib<3*w/4&&f.hb<3*k/4,f.Kb=0),1}function Tc(u){if(u==null)return 2;if(11>u.S){var f=u.f.RGBA;f.fb+=(u.height-1)*f.A,f.A=-f.A}else f=u.f.kb,u=u.height,f.O+=(u-1)*f.fa,f.fa=-f.fa,f.N+=(u-1>>1)*f.Ab,f.Ab=-f.Ab,f.W+=(u-1>>1)*f.Db,f.Db=-f.Db,f.F!=null&&(f.J+=(u-1)*f.lb,f.lb=-f.lb);return 0}function Zl(u,f,m,w){if(w==null||0>=u||0>=f)return 2;if(m!=null){if(m.Da){var k=m.cd,D=m.bd,M=-2&m.v,j=-2&m.j;if(0>M||0>j||0>=k||0>=D||M+k>u||j+D>f)return 2;u=k,f=D}if(m.da){if(!ht(u,f,k=[m.ib],D=[m.hb]))return 2;u=k[0],f=D[0]}}w.width=u,w.height=f;e:{var z=w.width,$=w.height;if(u=w.S,0>=z||0>=$||!(u>=vf&&13>u))u=2;else{if(0>=w.Rd&&w.sd==null){M=D=k=f=0;var ee=(j=z*Q0[u])*$;if(11>u||(D=($+1)/2*(f=(z+1)/2),u==12&&(M=(k=z)*$)),($=s(ee+2*D+M))==null){u=1;break e}w.sd=$,11>u?((z=w.f.RGBA).eb=$,z.fb=0,z.A=j,z.size=ee):((z=w.f.kb).y=$,z.O=0,z.fa=j,z.Fd=ee,z.f=$,z.N=0+ee,z.Ab=f,z.Cd=D,z.ea=$,z.W=0+ee+D,z.Db=f,z.Ed=D,u==12&&(z.F=$,z.J=0+ee+2*D),z.Tc=M,z.lb=k)}if(f=1,k=w.S,D=w.width,M=w.height,k>=vf&&13>k)if(11>k)u=w.f.RGBA,f&=(j=Math.abs(u.A))*(M-1)+D<=u.size,f&=j>=D*Q0[k],f&=u.eb!=null;else{u=w.f.kb,j=(D+1)/2,ee=(M+1)/2,z=Math.abs(u.fa),$=Math.abs(u.Ab);var he=Math.abs(u.Db),fe=Math.abs(u.lb),oe=fe*(M-1)+D;f&=z*(M-1)+D<=u.Fd,f&=$*(ee-1)+j<=u.Cd,f=(f&=he*(ee-1)+j<=u.Ed)&z>=D&$>=j&he>=j,f&=u.y!=null,f&=u.f!=null,f&=u.ea!=null,k==12&&(f&=fe>=D,f&=oe<=u.Tc,f&=u.F!=null)}else f=0;u=f?0:2}}return u!=0||m!=null&&m.fd&&(u=Tc(w)),u}var Xn=64,eu=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],tu=24,nu=32,Pc=8,jr=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];De("Predictor0","PredictorAdd0"),E.Predictor0=function(){return 4278190080},E.Predictor1=function(u){return u},E.Predictor2=function(u,f,m){return f[m+0]},E.Predictor3=function(u,f,m){return f[m+1]},E.Predictor4=function(u,f,m){return f[m-1]},E.Predictor5=function(u,f,m){return Be(Be(u,f[m+1]),f[m+0])},E.Predictor6=function(u,f,m){return Be(u,f[m-1])},E.Predictor7=function(u,f,m){return Be(u,f[m+0])},E.Predictor8=function(u,f,m){return Be(f[m-1],f[m+0])},E.Predictor9=function(u,f,m){return Be(f[m+0],f[m+1])},E.Predictor10=function(u,f,m){return Be(Be(u,f[m-1]),Be(f[m+0],f[m+1]))},E.Predictor11=function(u,f,m){var w=f[m+0];return 0>=dt(w>>24&255,u>>24&255,(f=f[m-1])>>24&255)+dt(w>>16&255,u>>16&255,f>>16&255)+dt(w>>8&255,u>>8&255,f>>8&255)+dt(255&w,255&u,255&f)?w:u},E.Predictor12=function(u,f,m){var w=f[m+0];return(Ye((u>>24&255)+(w>>24&255)-((f=f[m-1])>>24&255))<<24|Ye((u>>16&255)+(w>>16&255)-(f>>16&255))<<16|Ye((u>>8&255)+(w>>8&255)-(f>>8&255))<<8|Ye((255&u)+(255&w)-(255&f)))>>>0},E.Predictor13=function(u,f,m){var w=f[m-1];return(ut((u=Be(u,f[m+0]))>>24&255,w>>24&255)<<24|ut(u>>16&255,w>>16&255)<<16|ut(u>>8&255,w>>8&255)<<8|ut(u>>0&255,w>>0&255))>>>0};var um=E.PredictorAdd0;E.PredictorAdd1=Xe,De("Predictor2","PredictorAdd2"),De("Predictor3","PredictorAdd3"),De("Predictor4","PredictorAdd4"),De("Predictor5","PredictorAdd5"),De("Predictor6","PredictorAdd6"),De("Predictor7","PredictorAdd7"),De("Predictor8","PredictorAdd8"),De("Predictor9","PredictorAdd9"),De("Predictor10","PredictorAdd10"),De("Predictor11","PredictorAdd11"),De("Predictor12","PredictorAdd12"),De("Predictor13","PredictorAdd13");var Nc=E.PredictorAdd2;wt("ColorIndexInverseTransform","MapARGB","32b",function(u){return u>>8&255},function(u){return u}),wt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(u){return u},function(u){return u>>8&255});var hf,gi=E.ColorIndexInverseTransform,ru=E.MapARGB,ff=E.VP8LColorIndexInverseTransformAlpha,df=E.MapAlpha,jo=E.VP8LPredictorsAdd=[];jo.length=16,(E.VP8LPredictors=[]).length=16,(E.VP8LPredictorsAdd_C=[]).length=16,(E.VP8LPredictors_C=[]).length=16;var rl,Br,Pr,Bo,Gs,Ks,iu,Qs,An,xc,Nr,vi,su,pf,kc,il,sl,Uo,ol,ou,al,zo,Cc,yi,_i,Yt,Jt,bn,Mn=s(511),Ys=s(2041),Lc=s(225),au=s(767),mf=0,cm=Ys,gf=Lc,ni=au,wi=Mn,vf=0,yf=1,V0=2,_f=3,wf=4,hm=5,j0=6,fm=7,dm=8,Af=9,pm=10,Eb=[2,3,7],Sb=[3,3,11],B0=[280,256,256,256,40],Ib=[0,1,1,1,0],Tb=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Pb=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Nb=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],xb=8,mm=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],gm=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Rc=null,kb=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Cb=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],U0=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Lb=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Rb=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Ob=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Db=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],qo=[],Ui=[],Js=[],Fb=1,z0=2,$o=[],Ai=[];we("UpsampleRgbLinePair",V,3),we("UpsampleBgrLinePair",ie,3),we("UpsampleRgbaLinePair",mt,4),we("UpsampleBgraLinePair",Et,4),we("UpsampleArgbLinePair",pt,4),we("UpsampleRgba4444LinePair",Ne,2),we("UpsampleRgb565LinePair",de,2);var Mb=E.UpsampleRgbLinePair,Vb=E.UpsampleBgrLinePair,q0=E.UpsampleRgbaLinePair,$0=E.UpsampleBgraLinePair,H0=E.UpsampleArgbLinePair,W0=E.UpsampleRgba4444LinePair,jb=E.UpsampleRgb565LinePair,bf=16,Ef=1<<bf-1,Oc=-227,vm=482,Bb=6,G0=0,Ub=s(256),zb=s(256),qb=s(256),$b=s(256),Hb=s(vm-Oc),Wb=s(vm-Oc);Ht("YuvToRgbRow",V,3),Ht("YuvToBgrRow",ie,3),Ht("YuvToRgbaRow",mt,4),Ht("YuvToBgraRow",Et,4),Ht("YuvToArgbRow",pt,4),Ht("YuvToRgba4444Row",Ne,2),Ht("YuvToRgb565Row",de,2);var K0=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Sf=[0,2,8],Gb=[8,7,6,4,4,2,2,2,1,1,1,1],Kb=1;this.WebPDecodeRGBA=function(u,f,m,w,k){var D=yf,M=new Hs,j=new Qn;M.ba=j,j.S=D,j.width=[j.width],j.height=[j.height];var z=j.width,$=j.height,ee=new Yr;if(ee==null||u==null)var he=2;else e(ee!=null),he=vs(u,f,m,ee.width,ee.height,ee.Pd,ee.Qd,ee.format,null);if(he!=0?z=0:(z!=null&&(z[0]=ee.width[0]),$!=null&&($[0]=ee.height[0]),z=1),z){j.width=j.width[0],j.height=j.height[0],w!=null&&(w[0]=j.width),k!=null&&(k[0]=j.height);e:{if(w=new js,(k=new Do).data=u,k.w=f,k.ha=m,k.kd=1,f=[0],e(k!=null),((u=vs(k.data,k.w,k.ha,null,null,null,f,null,k))==0||u==7)&&f[0]&&(u=4),(f=u)==0){if(e(M!=null),w.data=k.data,w.w=k.w+k.offset,w.ha=k.ha-k.offset,w.put=or,w.ac=Nn,w.bc=Jr,w.ma=M,k.xa){if((u=wn())==null){M=1;break e}if(function(fe,oe){var Se=[0],_e=[0],te=[0];t:for(;;){if(fe==null)return 0;if(oe==null)return fe.a=2,0;if(fe.l=oe,fe.a=0,Y(fe.m,oe.data,oe.w,oe.ha),!We(fe.m,Se,_e,te)){fe.a=3;break t}if(fe.xb=z0,oe.width=Se[0],oe.height=_e[0],!Xr(Se[0],_e[0],1,fe,null))break t;return 1}return e(fe.a!=0),0}(u,w)){if(w=(f=Zl(w.width,w.height,M.Oa,M.ba))==0){t:{w=u;n:for(;;){if(w==null){w=0;break t}if(e(w.s.yc!=null),e(w.s.Ya!=null),e(0<w.s.Wb),e((m=w.l)!=null),e((k=m.ma)!=null),w.xb!=0){if(w.ca=k.ba,w.tb=k.tb,e(w.ca!=null),!Ic(k.Oa,m,_f)){w.a=2;break n}if(!os(w,m.width)||m.da)break n;if((m.da||Nt(w.ca.S))&&se(),11>w.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),w.ca.f.kb.F!=null&&se()),w.Pb&&0<w.s.ua&&w.s.vb.X==null&&!Ze(w.s.vb,w.s.Wa.Xa)){w.a=1;break n}w.xb=0}if(!Sr(w,w.V,w.Ba,w.c,w.i,m.o,Ao))break n;k.Dc=w.Ma,w=1;break t}e(w.a!=0),w=0}w=!w}w&&(f=u.a)}else f=u.a}else{if((u=new $a)==null){M=1;break e}if(u.Fa=k.na,u.P=k.P,u.qc=k.Sa,Wa(u,w)){if((f=Zl(w.width,w.height,M.Oa,M.ba))==0){if(u.Aa=0,m=M.Oa,e((k=u)!=null),m!=null){if(0<(z=0>(z=m.Md)?0:100<z?255:255*z/100)){for($=ee=0;4>$;++$)12>(he=k.pb[$]).lc&&(he.ia=z*Gb[0>he.lc?0:he.lc]>>3),ee|=he.ia;ee&&(alert("todo:VP8InitRandom"),k.ia=1)}k.Ga=m.Id,100<k.Ga?k.Ga=100:0>k.Ga&&(k.Ga=0)}Wl(u,w)||(f=u.a)}}else f=u.a}f==0&&M.Oa!=null&&M.Oa.fd&&(f=Tc(M.ba))}M=f}D=M!=0?null:11>D?j.f.RGBA.eb:j.f.kb.y}else D=null;return D};var Q0=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function h(E,O){for(var B="",I=0;I<4;I++)B+=String.fromCharCode(E[O++]);return B}function p(E,O){return(E[O+0]<<0|E[O+1]<<8|E[O+2]<<16)>>>0}function g(E,O){return(E[O+0]<<0|E[O+1]<<8|E[O+2]<<16|E[O+3]<<24)>>>0}new l;var _=[0],v=[0],C=[],P=new l,U=t,b=function(E,O){var B={},I=0,T=!1,N=0,Q=0;if(B.frames=[],!function(q,G,J,ne){for(var ue=0;ue<ne;ue++)if(q[G+ue]!=J.charCodeAt(ue))return!0;return!1}(E,O,"RIFF",4)){var ve,me;for(g(E,O+=4),O+=8;O<E.length;){var ye=h(E,O),Y=g(E,O+=4);O+=4;var le=Y+(1&Y);switch(ye){case"VP8 ":case"VP8L":B.frames[I]===void 0&&(B.frames[I]={}),(L=B.frames[I]).src_off=T?Q:O-8,L.src_size=N+Y+8,I++,T&&(T=!1,N=0,Q=0);break;case"VP8X":(L=B.header={}).feature_flags=E[O];var ce=O+4;L.canvas_width=1+p(E,ce),ce+=3,L.canvas_height=1+p(E,ce),ce+=3;break;case"ALPH":T=!0,N=le+8,Q=O-8;break;case"ANIM":(L=B.header).bgcolor=g(E,O),ce=O+4,L.loop_count=(ve=E)[(me=ce)+0]<<0|ve[me+1]<<8,ce+=2;break;case"ANMF":var Ce,L;(L=B.frames[I]={}).offset_x=2*p(E,O),O+=3,L.offset_y=2*p(E,O),O+=3,L.width=1+p(E,O),O+=3,L.height=1+p(E,O),O+=3,L.duration=p(E,O),O+=3,Ce=E[O++],L.dispose=1&Ce,L.blend=Ce>>1&1}ye!="ANMF"&&(O+=le)}return B}}(U,0);b.response=U,b.rgbaoutput=!0,b.dataurl=!1;var S=b.header?b.header:null,F=b.frames?b.frames:null;if(S){S.loop_counter=S.loop_count,_=[S.canvas_height],v=[S.canvas_width];for(var W=0;W<F.length&&F[W].blend!=0;W++);}var Z=F[0],ae=P.WebPDecodeRGBA(U,Z.src_off,Z.src_size,v,_);Z.rgba=ae,Z.imgwidth=v[0],Z.imgheight=_[0];for(var R=0;R<v[0]*_[0]*4;R++)C[R]=ae[R];return this.width=v,this.height=_,this.data=C,this}(function(t){var e=function(){return typeof $1=="function"},n=function(_,v,C,P){var U=4,b=o;switch(P){case t.image_compression.FAST:U=1,b=s;break;case t.image_compression.MEDIUM:U=6,b=a;break;case t.image_compression.SLOW:U=9,b=l}_=r(_,v,C,b);var S=$1(_,{level:U});return t.__addimage__.arrayBufferToBinaryString(S)},r=function(_,v,C,P){for(var U,b,S,F=_.length/v,W=new Uint8Array(_.length+F),Z=p(),ae=0;ae<F;ae+=1){if(S=ae*v,U=_.subarray(S,S+v),P)W.set(P(U,C,b),S+ae);else{for(var R,E=Z.length,O=[];R<E;R+=1)O[R]=Z[R](U,C,b);var B=g(O.concat());W.set(O[B],S+ae)}b=U}return W},i=function(_){var v=Array.apply([],_);return v.unshift(0),v},s=function(_,v){var C,P=[],U=_.length;P[0]=1;for(var b=0;b<U;b+=1)C=_[b-v]||0,P[b+1]=_[b]-C+256&255;return P},o=function(_,v,C){var P,U=[],b=_.length;U[0]=2;for(var S=0;S<b;S+=1)P=C&&C[S]||0,U[S+1]=_[S]-P+256&255;return U},a=function(_,v,C){var P,U,b=[],S=_.length;b[0]=3;for(var F=0;F<S;F+=1)P=_[F-v]||0,U=C&&C[F]||0,b[F+1]=_[F]+256-(P+U>>>1)&255;return b},l=function(_,v,C){var P,U,b,S,F=[],W=_.length;F[0]=4;for(var Z=0;Z<W;Z+=1)P=_[Z-v]||0,U=C&&C[Z]||0,b=C&&C[Z-v]||0,S=h(P,U,b),F[Z+1]=_[Z]-S+256&255;return F},h=function(_,v,C){if(_===v&&v===C)return _;var P=Math.abs(v-C),U=Math.abs(_-C),b=Math.abs(_+v-C-C);return P<=U&&P<=b?_:U<=b?v:C},p=function(){return[i,s,o,a,l]},g=function(_){var v=_.map(function(C){return C.reduce(function(P,U){return P+Math.abs(U)},0)});return v.indexOf(Math.min.apply(null,v))};t.processPNG=function(_,v,C,P){var U,b,S,F,W,Z,ae,R,E,O,B,I,T,N,Q,ve=this.decode.FLATE_DECODE,me="";if(this.__addimage__.isArrayBuffer(_)&&(_=new Uint8Array(_)),this.__addimage__.isArrayBufferView(_)){if(_=(S=new CL(_)).imgData,b=S.bits,U=S.colorSpace,W=S.colors,[4,6].indexOf(S.colorType)!==-1){if(S.bits===8){E=(R=S.pixelBitlength==32?new Uint32Array(S.decodePixels().buffer):S.pixelBitlength==16?new Uint16Array(S.decodePixels().buffer):new Uint8Array(S.decodePixels().buffer)).length,B=new Uint8Array(E*S.colors),O=new Uint8Array(E);var ye,Y=S.pixelBitlength-S.bits;for(N=0,Q=0;N<E;N++){for(T=R[N],ye=0;ye<Y;)B[Q++]=T>>>ye&255,ye+=S.bits;O[N]=T>>>ye&255}}if(S.bits===16){E=(R=new Uint32Array(S.decodePixels().buffer)).length,B=new Uint8Array(E*(32/S.pixelBitlength)*S.colors),O=new Uint8Array(E*(32/S.pixelBitlength)),I=S.colors>1,N=0,Q=0;for(var le=0;N<E;)T=R[N++],B[Q++]=T>>>0&255,I&&(B[Q++]=T>>>16&255,T=R[N++],B[Q++]=T>>>0&255),O[le++]=T>>>16&255;b=8}P!==t.image_compression.NONE&&e()?(_=n(B,S.width*S.colors,S.colors,P),ae=n(O,S.width,1,P)):(_=B,ae=O,ve=void 0)}if(S.colorType===3&&(U=this.color_spaces.INDEXED,Z=S.palette,S.transparency.indexed)){var ce=S.transparency.indexed,Ce=0;for(N=0,E=ce.length;N<E;++N)Ce+=ce[N];if((Ce/=255)===E-1&&ce.indexOf(0)!==-1)F=[ce.indexOf(0)];else if(Ce!==E){for(R=S.decodePixels(),O=new Uint8Array(R.length),N=0,E=R.length;N<E;N++)O[N]=ce[R[N]];ae=n(O,S.width,1)}}var L=function(q){var G;switch(q){case t.image_compression.FAST:G=11;break;case t.image_compression.MEDIUM:G=13;break;case t.image_compression.SLOW:G=14;break;default:G=12}return G}(P);return ve===this.decode.FLATE_DECODE&&(me="/Predictor "+L+" "),me+="/Colors "+W+" /BitsPerComponent "+b+" /Columns "+S.width,(this.__addimage__.isArrayBuffer(_)||this.__addimage__.isArrayBufferView(_))&&(_=this.__addimage__.arrayBufferToBinaryString(_)),(ae&&this.__addimage__.isArrayBuffer(ae)||this.__addimage__.isArrayBufferView(ae))&&(ae=this.__addimage__.arrayBufferToBinaryString(ae)),{alias:C,data:_,index:v,filter:ve,decodeParameters:me,transparency:F,palette:Z,sMask:ae,predictor:L,width:S.width,height:S.height,bitsPerComponent:b,colorSpace:U}}}})(it.API),function(t){t.processGIF89A=function(e,n,r,i){var s=new LL(e),o=s.width,a=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var h={data:l,width:o,height:a},p=new yg(100).encode(h,100);return t.processJPEG.call(this,p,n,r,i)},t.processGIF87A=t.processGIF89A}(it.API),Hi.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:n,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Hi.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(n){Gt.log("bit decode error:"+n)}},Hi.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+8*i*4,a=0;a<8&&8*i+a<this.width;a++){var l=this.palette[s>>7-a&1];this.data[o+4*a]=l.blue,this.data[o+4*a+1]=l.green,this.data[o+4*a+2]=l.red,this.data[o+4*a+3]=255}n!==0&&(this.pos+=4-n)}},Hi.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<t;i++){var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+2*i*4,a=s>>4,l=15&s,h=this.palette[a];if(this.data[o]=h.blue,this.data[o+1]=h.green,this.data[o+2]=h.red,this.data[o+3]=255,2*i+1>=this.width)break;h=this.palette[l],this.data[o+4]=h.blue,this.data[o+4+1]=h.green,this.data[o+4+2]=h.red,this.data[o+4+3]=255}e!==0&&(this.pos+=4-e)}},Hi.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+4*r;if(i<this.palette.length){var o=this.palette[i];this.data[s]=o.red,this.data[s+1]=o.green,this.data[s+2]=o.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}t!==0&&(this.pos+=4-t)}},Hi.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&e)/e*255|0,a=(s>>5&e)/e*255|0,l=(s>>10&e)/e*255|0,h=s>>15?255:0,p=r*this.width*4+4*i;this.data[p]=l,this.data[p+1]=a,this.data[p+2]=o,this.data[p+3]=h}this.pos+=t}},Hi.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(o&e)/e*255|0,l=(o>>5&n)/n*255|0,h=(o>>11)/e*255|0,p=i*this.width*4+4*s;this.data[p]=h,this.data[p+1]=l,this.data[p+2]=a,this.data[p+3]=255}this.pos+=t}},Hi.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*n;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=255}this.pos+=this.width%4}},Hi.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*n;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=o}},Hi.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,n,r,i){var s=new Hi(e,!1),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},h=new yg(100).encode(l,100);return t.processJPEG.call(this,h,n,r,i)}}(it.API),p_.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,n,r,i){var s=new p_(e),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},h=new yg(100).encode(l,100);return t.processJPEG.call(this,h,n,r,i)}}(it.API),it.API.processRGBA=function(t,e,n){for(var r=t.data,i=r.length,s=new Uint8Array(i/4*3),o=new Uint8Array(i/4),a=0,l=0,h=0;h<i;h+=4){var p=r[h],g=r[h+1],_=r[h+2],v=r[h+3];s[a++]=p,s[a++]=g,s[a++]=_,o[l++]=v}var C=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:C,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},it.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},pu=it.API,ad=pu.getCharWidthsArray=function(t,e){var n,r,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),o=e.charSpace||this.internal.getCharSpace(),a=e.widths?e.widths:i.metadata.Unicode.widths,l=a.fof?a.fof:1,h=e.kerning?e.kerning:i.metadata.Unicode.kerning,p=h.fof?h.fof:1,g=e.doKerning!==!1,_=0,v=t.length,C=0,P=a[0]||l,U=[];for(n=0;n<v;n++)r=t.charCodeAt(n),typeof i.metadata.widthOfString=="function"?U.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+o*(1e3/s)||0)/1e3):(_=g&&zt(h[r])==="object"&&!isNaN(parseInt(h[r][C],10))?h[r][C]/p:0,U.push((a[r]||P)/l+_)),C=r;return U},c_=pu.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return pu.processArabic&&(t=pu.processArabic(t)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(t,n,i)/n:ad.apply(this,arguments).reduce(function(s,o){return s+o},0)},h_=function(t,e,n,r){for(var i=[],s=0,o=t.length,a=0;s!==o&&a+e[s]<n;)a+=e[s],s++;i.push(t.slice(0,s));var l=s;for(a=0;s!==o;)a+e[s]>r&&(i.push(t.slice(l,s)),a=0,l=s),a+=e[s],s++;return l!==s&&i.push(t.slice(l,s)),i},f_=function(t,e,n){n||(n={});var r,i,s,o,a,l,h,p=[],g=[p],_=n.textIndent||0,v=0,C=0,P=t.split(" "),U=ad.apply(this,[" ",n])[0];if(l=n.lineIndent===-1?P[0].length+2:n.lineIndent||0){var b=Array(l).join(" "),S=[];P.map(function(W){(W=W.split(/\s*\n/)).length>1?S=S.concat(W.map(function(Z,ae){return(ae&&Z.length?`
`:"")+Z})):S.push(W[0])}),P=S,l=c_.apply(this,[b,n])}for(s=0,o=P.length;s<o;s++){var F=0;if(r=P[s],l&&r[0]==`
`&&(r=r.substr(1),F=1),_+v+(C=(i=ad.apply(this,[r,n])).reduce(function(W,Z){return W+Z},0))>e||F){if(C>e){for(a=h_.apply(this,[r,i,e-(_+v),e]),p.push(a.shift()),p=[a.pop()];a.length;)g.push([a.shift()]);C=i.slice(r.length-(p[0]?p[0].length:0)).reduce(function(W,Z){return W+Z},0)}else p=[r];g.push(p),_=C+l,v=U}else p.push(r),_+=v+C,v=U}return h=l?function(W,Z){return(Z?b:"")+W.join(" ")}:function(W){return W.join(" ")},g.map(h)},pu.splitTextToSize=function(t,e,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),s=(function(p){if(p.widths&&p.kerning)return{widths:p.widths,kerning:p.kerning};var g=this.internal.getFont(p.fontName,p.fontStyle);return g.metadata.Unicode?{widths:g.metadata.Unicode.widths||{0:1},kerning:g.metadata.Unicode.kerning||{}}:{font:g.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(t)?t:String(t).split(/\r?\n/);var o=1*this.internal.scaleFactor*e/i;s.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=n.lineIndent;var a,l,h=[];for(a=0,l=r.length;a<l;a++)h=h.concat(f_.apply(this,[r[a],o,s]));return h},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",n={},r={},i=0;i<e.length;i++)n[e[i]]="0123456789abcdef"[i],r["0123456789abcdef"[i]]=e[i];var s=function(g){return"0x"+parseInt(g,10).toString(16)},o=t.__fontmetrics__.compress=function(g){var _,v,C,P,U=["{"];for(var b in g){if(_=g[b],isNaN(parseInt(b,10))?v="'"+b+"'":(b=parseInt(b,10),v=(v=s(b).slice(2)).slice(0,-1)+r[v.slice(-1)]),typeof _=="number")_<0?(C=s(_).slice(3),P="-"):(C=s(_).slice(2),P=""),C=P+C.slice(0,-1)+r[C.slice(-1)];else{if(zt(_)!=="object")throw new Error("Don't know what to do with value type "+zt(_)+".");C=o(_)}U.push(v+C)}return U.push("}"),U.join("")},a=t.__fontmetrics__.uncompress=function(g){if(typeof g!="string")throw new Error("Invalid argument passed to uncompress.");for(var _,v,C,P,U={},b=1,S=U,F=[],W="",Z="",ae=g.length-1,R=1;R<ae;R+=1)(P=g[R])=="'"?_?(C=_.join(""),_=void 0):_=[]:_?_.push(P):P=="{"?(F.push([S,C]),S={},C=void 0):P=="}"?((v=F.pop())[0][v[1]]=S,C=void 0,S=v[0]):P=="-"?b=-1:C===void 0?n.hasOwnProperty(P)?(W+=n[P],C=parseInt(W,16)*b,b=1,W=""):W+=P:n.hasOwnProperty(P)?(Z+=n[P],S[C]=parseInt(Z,16)*b,b=1,C=void 0,Z=""):Z+=P;return U},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:a("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},h={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},p={Unicode:{"Courier-Oblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":a("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":a("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:a("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:a("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":a("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":a("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(g){var _=g.font,v=p.Unicode[_.postScriptName];v&&(_.metadata.Unicode={},_.metadata.Unicode.widths=v.widths,_.metadata.Unicode.kerning=v.kerning);var C=h.Unicode[_.postScriptName];C&&(_.metadata.Unicode.encoding=C,_.encoding=C.codePages[0])}])}(it.API),function(t){var e=function(n){for(var r=n.length,i=new Uint8Array(r),s=0;s<r;s++)i[s]=n.charCodeAt(s);return i};t.API.events.push(["addFont",function(n){var r=void 0,i=n.font,s=n.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(o,a){a=/^\x00\x01\x00\x00/.test(a)?e(a):e(wh(a)),o.metadata=t.API.TTFFont.open(a),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(i,r)}}])}(it),function(t){function e(){return(ot.canvg?Promise.resolve(ot.canvg):j1(()=>import("./index.es-DjcnMm2W.js"),[],import.meta.url)).catch(function(n){return Promise.reject(new Error("Could not load canvg: "+n))}).then(function(n){return n.default?n.default:n})}it.API.addSvgAsImage=function(n,r,i,s,o,a,l,h){if(isNaN(r)||isNaN(i))throw Gt.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(o))throw Gt.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var p=document.createElement("canvas");p.width=s,p.height=o;var g=p.getContext("2d");g.fillStyle="#fff",g.fillRect(0,0,p.width,p.height);var _={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},v=this;return e().then(function(C){return C.fromString(g,n,_)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(C){return C.render(_)}).then(function(){v.addImage(p.toDataURL("image/jpeg",1),r,i,s,o,l,h)})}}(),it.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,n);return this},it.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var r,i,s,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(o),l=[],h=0,p=0,g=0;function _(C,P){var U,b=!1;for(U=0;U<C.length;U+=1)C[U]===P&&(b=!0);return b}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var v=a.length;for(g=0;g<v;g+=1)n[a[g]].value=n[a[g]].defaultValue,n[a[g]].explicitSet=!1}if(zt(t)==="object"){for(i in t)if(s=t[i],_(a,i)&&s!==void 0){if(n[i].type==="boolean"&&typeof s=="boolean")n[i].value=s;else if(n[i].type==="name"&&_(n[i].valueSet,s))n[i].value=s;else if(n[i].type==="integer"&&Number.isInteger(s))n[i].value=s;else if(n[i].type==="array"){for(h=0;h<s.length;h+=1)if(r=!0,s[h].length===1&&typeof s[h][0]=="number")l.push(String(s[h]-1));else if(s[h].length>1){for(p=0;p<s[h].length;p+=1)typeof s[h][p]!="number"&&(r=!1);r===!0&&l.push([s[h][0]-1,s[h][1]-1].join(" "))}n[i].value="["+l.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var C,P=[];for(C in n)n[C].explicitSet===!0&&(n[C].type==="name"?P.push("/"+C+" /"+n[C].value):P.push("/"+C+" "+n[C].value));P.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+P.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(t){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(r)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),a=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),h=s.length+o.length+a.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+h+" >>"),this.internal.write("stream"),this.internal.write(i+s+o+a+l),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",e)),this}}(it.API),function(t){var e=t.API,n=e.pdfEscape16=function(s,o){for(var a,l=o.metadata.Unicode.widths,h=["","0","00","000","0000"],p=[""],g=0,_=s.length;g<_;++g){if(a=o.metadata.characterToGlyph(s.charCodeAt(g)),o.metadata.glyIdsUsed.push(a),o.metadata.toUnicode[a]=s.charCodeAt(g),l.indexOf(a)==-1&&(l.push(a),l.push([parseInt(o.metadata.widthOfGlyph(a),10)])),a=="0")return p.join("");a=a.toString(16),p.push(h[4-a.length],a)}return p.join("")},r=function(s){var o,a,l,h,p,g,_;for(p=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],g=0,_=(a=Object.keys(s).sort(function(v,C){return v-C})).length;g<_;g++)o=a[g],l.length>=100&&(p+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),s[o]!==void 0&&s[o]!==null&&typeof s[o].toString=="function"&&(h=("0000"+s[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),l.push("<"+o+"><"+h+">"));return l.length&&(p+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),p+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(o){var a=o.font,l=o.out,h=o.newObject,p=o.putStream;if(a.metadata instanceof t.API.TTFFont&&a.encoding==="Identity-H"){for(var g=a.metadata.Unicode.widths,_=a.metadata.subset.encode(a.metadata.glyIdsUsed,1),v="",C=0;C<_.length;C++)v+=String.fromCharCode(_[C]);var P=h();p({data:v,addLength1:!0,objectId:P}),l("endobj");var U=h();p({data:r(a.metadata.toUnicode),addLength1:!0,objectId:U}),l("endobj");var b=h();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+wu(a.fontName)),l("/FontFile2 "+P+" 0 R"),l("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),l("/Flags "+a.metadata.flags),l("/StemV "+a.metadata.stemV),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l(">>"),l("endobj");var S=h();l("<<"),l("/Type /Font"),l("/BaseFont /"+wu(a.fontName)),l("/FontDescriptor "+b+" 0 R"),l("/W "+t.API.PDFObject.convert(g)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+a.encoding+")"),l(">>"),l(">>"),l("endobj"),a.objectNumber=h(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+U+" 0 R"),l("/BaseFont /"+wu(a.fontName)),l("/Encoding /"+a.encoding),l("/DescendantFonts ["+S+" 0 R]"),l(">>"),l("endobj"),a.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(o){var a=o.font,l=o.out,h=o.newObject,p=o.putStream;if(a.metadata instanceof t.API.TTFFont&&a.encoding==="WinAnsiEncoding"){for(var g=a.metadata.rawData,_="",v=0;v<g.length;v++)_+=String.fromCharCode(g[v]);var C=h();p({data:_,addLength1:!0,objectId:C}),l("endobj");var P=h();p({data:r(a.metadata.toUnicode),addLength1:!0,objectId:P}),l("endobj");var U=h();l("<<"),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l("/StemV "+a.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+C+" 0 R"),l("/Flags 96"),l("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),l("/FontName /"+wu(a.fontName)),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l(">>"),l("endobj"),a.objectNumber=h();for(var b=0;b<a.metadata.hmtx.widths.length;b++)a.metadata.hmtx.widths[b]=parseInt(a.metadata.hmtx.widths[b]*(1e3/a.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+P+" 0 R/BaseFont/"+wu(a.fontName)+"/FontDescriptor "+U+" 0 R/Encoding/"+a.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(a.metadata.hmtx.widths)+">>"),l("endobj"),a.isAlreadyPutted=!0}})(s)}]);var i=function(s){var o,a=s.text||"",l=s.x,h=s.y,p=s.options||{},g=s.mutex||{},_=g.pdfEscape,v=g.activeFontKey,C=g.fonts,P=v,U="",b=0,S="",F=C[P].encoding;if(C[P].encoding!=="Identity-H")return{text:a,x:l,y:h,options:p,mutex:g};for(S=a,P=v,Array.isArray(a)&&(S=a[0]),b=0;b<S.length;b+=1)C[P].metadata.hasOwnProperty("cmap")&&(o=C[P].metadata.cmap.unicode.codeMap[S[b].charCodeAt(0)]),o||S[b].charCodeAt(0)<256&&C[P].metadata.hasOwnProperty("Unicode")?U+=S[b]:U+="";var W="";return parseInt(P.slice(1))<14||F==="WinAnsiEncoding"?W=_(U,P).split("").map(function(Z){return Z.charCodeAt(0).toString(16)}).join(""):F==="Identity-H"&&(W=n(U,C[P])),g.isHex=!0,{text:W,x:l,y:h,options:p,mutex:g}};e.events.push(["postProcessText",function(s){var o=s.text||"",a=[],l={text:o,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(o)){var h=0;for(h=0;h<o.length;h+=1)Array.isArray(o[h])&&o[h].length===3?a.push([i(Object.assign({},l,{text:o[h][0]})).text,o[h][1],o[h][2]]):a.push(i(Object.assign({},l,{text:o[h]})).text);s.text=a}else s.text=i(Object.assign({},l,{text:o})).text}])}(it),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0},t.addFileToVFS=function(n,r){return e.call(this),this.internal.vFS[n]=r,this},t.getFileFromVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(it.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(r){var i,s,o,a,l,h,p,g=e,_=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],v=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],C={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},P={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},U=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],b=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),S=!1,F=0;this.__bidiEngine__={};var W=function(I){var T=I.charCodeAt(),N=T>>8,Q=P[N];return Q!==void 0?g[256*Q+(255&T)]:N===252||N===253?"AL":b.test(N)?"L":N===8?"R":"N"},Z=function(I){for(var T,N=0;N<I.length;N++){if((T=W(I.charAt(N)))==="L")return!1;if(T==="R")return!0}return!1},ae=function(I,T,N,Q){var ve,me,ye,Y,le=T[Q];switch(le){case"L":case"R":S=!1;break;case"N":case"AN":break;case"EN":S&&(le="AN");break;case"AL":S=!0,le="R";break;case"WS":le="N";break;case"CS":Q<1||Q+1>=T.length||(ve=N[Q-1])!=="EN"&&ve!=="AN"||(me=T[Q+1])!=="EN"&&me!=="AN"?le="N":S&&(me="AN"),le=me===ve?me:"N";break;case"ES":le=(ve=Q>0?N[Q-1]:"B")==="EN"&&Q+1<T.length&&T[Q+1]==="EN"?"EN":"N";break;case"ET":if(Q>0&&N[Q-1]==="EN"){le="EN";break}if(S){le="N";break}for(ye=Q+1,Y=T.length;ye<Y&&T[ye]==="ET";)ye++;le=ye<Y&&T[ye]==="EN"?"EN":"N";break;case"NSM":if(o&&!a){for(Y=T.length,ye=Q+1;ye<Y&&T[ye]==="NSM";)ye++;if(ye<Y){var ce=I[Q],Ce=ce>=1425&&ce<=2303||ce===64286;if(ve=T[ye],Ce&&(ve==="R"||ve==="AL")){le="R";break}}}le=Q<1||(ve=T[Q-1])==="B"?"N":N[Q-1];break;case"B":S=!1,i=!0,le=F;break;case"S":s=!0,le="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":S=!1;break;case"BN":le="N"}return le},R=function(I,T,N){var Q=I.split("");return N&&E(Q,N,{hiLevel:F}),Q.reverse(),T&&T.reverse(),Q.join("")},E=function(I,T,N){var Q,ve,me,ye,Y,le=-1,ce=I.length,Ce=0,L=[],q=F?v:_,G=[];for(S=!1,i=!1,s=!1,ve=0;ve<ce;ve++)G[ve]=W(I[ve]);for(me=0;me<ce;me++){if(Y=Ce,L[me]=ae(I,G,L,me),Q=240&(Ce=q[Y][C[L[me]]]),Ce&=15,T[me]=ye=q[Ce][5],Q>0)if(Q===16){for(ve=le;ve<me;ve++)T[ve]=1;le=-1}else le=-1;if(q[Ce][6])le===-1&&(le=me);else if(le>-1){for(ve=le;ve<me;ve++)T[ve]=ye;le=-1}G[me]==="B"&&(T[me]=0),N.hiLevel|=ye}s&&function(J,ne,ue){for(var pe=0;pe<ue;pe++)if(J[pe]==="S"){ne[pe]=F;for(var ge=pe-1;ge>=0&&J[ge]==="WS";ge--)ne[ge]=F}}(G,T,ce)},O=function(I,T,N,Q,ve){if(!(ve.hiLevel<I)){if(I===1&&F===1&&!i)return T.reverse(),void(N&&N.reverse());for(var me,ye,Y,le,ce=T.length,Ce=0;Ce<ce;){if(Q[Ce]>=I){for(Y=Ce+1;Y<ce&&Q[Y]>=I;)Y++;for(le=Ce,ye=Y-1;le<ye;le++,ye--)me=T[le],T[le]=T[ye],T[ye]=me,N&&(me=N[le],N[le]=N[ye],N[ye]=me);Ce=Y}Ce++}}},B=function(I,T,N){var Q=I.split(""),ve={hiLevel:F};return N||(N=[]),E(Q,N,ve),function(me,ye,Y){if(Y.hiLevel!==0&&p)for(var le,ce=0;ce<me.length;ce++)ye[ce]===1&&(le=U.indexOf(me[ce]))>=0&&(me[ce]=U[le+1])}(Q,N,ve),O(2,Q,T,N,ve),O(1,Q,T,N,ve),Q.join("")};return this.__bidiEngine__.doBidiReorder=function(I,T,N){if(function(ve,me){if(me)for(var ye=0;ye<ve.length;ye++)me[ye]=ye;a===void 0&&(a=Z(ve)),h===void 0&&(h=Z(ve))}(I,T),o||!l||h)if(o&&l&&a^h)F=a?1:0,I=R(I,T,N);else if(!o&&l&&h)F=a?1:0,I=B(I,T,N),I=R(I,T);else if(!o||a||l||h){if(o&&!l&&a^h)I=R(I,T),a?(F=0,I=B(I,T,N)):(F=1,I=B(I,T,N),I=R(I,T));else if(o&&a&&!l&&h)F=1,I=B(I,T,N),I=R(I,T);else if(!o&&!l&&a^h){var Q=p;a?(F=1,I=B(I,T,N),F=0,p=!1,I=B(I,T,N),p=Q):(F=0,I=B(I,T,N),I=R(I,T),F=1,p=!1,I=B(I,T,N),p=Q,I=R(I,T))}}else F=0,I=B(I,T,N);else F=a?1:0,I=B(I,T,N);return I},this.__bidiEngine__.setOptions=function(I){I&&(o=I.isInputVisual,l=I.isOutputVisual,a=I.isInputRtl,h=I.isOutputRtl,p=I.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(r){var i=r.text,s=(r.x,r.y,r.options||{}),o=(r.mutex,s.lang,[]);if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,n.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var a=0;for(o=[],a=0;a<i.length;a+=1)Object.prototype.toString.call(i[a])==="[object Array]"?o.push([n.doBidiReorder(i[a][0]),i[a][1],i[a][2]]):o.push([n.doBidiReorder(i[a])]);r.text=o}else r.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])}(it),it.API.TTFFont=function(){function t(e){var n;if(this.rawData=e,n=this.contents=new Fa(e),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new GL(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new RL(this.contents),this.head=new DL(this),this.name=new BL(this),this.cmap=new Ab(this),this.toUnicode={},this.hhea=new FL(this),this.maxp=new UL(this),this.hmtx=new zL(this),this.post=new VL(this),this.os2=new ML(this),this.loca=new WL(this),this.glyf=new qL(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,n,r,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,a,l,h;for(h=[],o=0,a=(l=this.bbox).length;o<a;o++)e=l[o],h.push(Math.round(e*this.scaleFactor));return h}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(n=i>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var n;return((n=this.cmap.unicode)!=null?n.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},t.prototype.widthOfString=function(e,n,r){var i,s,o,a;for(o=0,s=0,a=(e=""+e).length;0<=a?s<a:s>a;s=0<=a?++s:--s)i=e.charCodeAt(s),o+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/n)||0;return o*(n/1e3)},t.prototype.lineHeight=function(e,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},t}();var is,Fa=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var n,r;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},t.prototype.writeString=function(e){var n,r,i;for(i=[],n=0,r=e.length;0<=r?n<r:n>r;n=0<=r?++n:--n)i.push(this.writeByte(e.charCodeAt(n)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,n,r,i,s,o,a,l;return e=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),s=this.readByte(),o=this.readByte(),a=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^s)+65536*(255^o)+256*(255^a)+(255^l)+1):72057594037927940*e+281474976710656*n+1099511627776*r+4294967296*i+16777216*s+65536*o+256*a+l},t.prototype.writeLongLong=function(e){var n,r;return n=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var n,r;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n.push(this.readByte());return n},t.prototype.write=function(e){var n,r,i,s;for(s=[],r=0,i=e.length;r<i;r++)n=e[r],s.push(this.writeByte(n));return s},t}(),RL=function(){var t;function e(n){var r,i,s;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(n){var r,i,s,o,a,l,h,p,g,_,v,C,P;for(P in v=Object.keys(n).length,l=Math.log(2),g=16*Math.floor(Math.log(v)/l),o=Math.floor(g/l),p=16*v-g,(i=new Fa).writeInt(this.scalarType),i.writeShort(v),i.writeShort(g),i.writeShort(o),i.writeShort(p),s=16*v,h=i.pos+s,a=null,C=[],n)for(_=n[P],i.writeString(P),i.writeInt(t(_)),i.writeInt(h),i.writeInt(_.length),C=C.concat(_),P==="head"&&(a=h),h+=_.length;h%4;)C.push(0),h++;return i.write(C),r=2981146554-t(i.data),i.pos=a+8,i.writeUInt32(r),i.data},t=function(n){var r,i,s,o;for(n=bb.call(n);n.length%4;)n.push(0);for(s=new Fa(n),i=0,r=0,o=n.length;r<o;r=r+=4)i+=s.readUInt32();return 4294967295&i},e}(),OL={}.hasOwnProperty,Ds=function(t,e){for(var n in e)OL.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};is=function(){function t(e){var n;this.file=e,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var DL=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ds(e,is),e.prototype.tag="head",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.revision=n.readInt(),this.checkSumAdjustment=n.readInt(),this.magicNumber=n.readInt(),this.flags=n.readShort(),this.unitsPerEm=n.readShort(),this.created=n.readLongLong(),this.modified=n.readLongLong(),this.xMin=n.readShort(),this.yMin=n.readShort(),this.xMax=n.readShort(),this.yMax=n.readShort(),this.macStyle=n.readShort(),this.lowestRecPPEM=n.readShort(),this.fontDirectionHint=n.readShort(),this.indexToLocFormat=n.readShort(),this.glyphDataFormat=n.readShort()},e.prototype.encode=function(n){var r;return(r=new Fa).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(n),r.writeShort(this.glyphDataFormat),r.data},e}(),m_=function(){function t(e,n){var r,i,s,o,a,l,h,p,g,_,v,C,P,U,b,S,F;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),g=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(v=e.readUInt16(),_=v/2,e.pos+=6,s=function(){var W,Z;for(Z=[],l=W=0;0<=_?W<_:W>_;l=0<=_?++W:--W)Z.push(e.readUInt16());return Z}(),e.pos+=2,P=function(){var W,Z;for(Z=[],l=W=0;0<=_?W<_:W>_;l=0<=_?++W:--W)Z.push(e.readUInt16());return Z}(),h=function(){var W,Z;for(Z=[],l=W=0;0<=_?W<_:W>_;l=0<=_?++W:--W)Z.push(e.readUInt16());return Z}(),p=function(){var W,Z;for(Z=[],l=W=0;0<=_?W<_:W>_;l=0<=_?++W:--W)Z.push(e.readUInt16());return Z}(),i=(this.length-e.pos+this.offset)/2,a=function(){var W,Z;for(Z=[],l=W=0;0<=i?W<i:W>i;l=0<=i?++W:--W)Z.push(e.readUInt16());return Z}(),l=b=0,F=s.length;b<F;l=++b)for(U=s[l],r=S=C=P[l];C<=U?S<=U:S>=U;r=C<=U?++S:--S)p[l]===0?o=r+h[l]:(o=a[p[l]/2+(r-C)-(_-l)]||0)!==0&&(o+=h[l]),this.codeMap[r]=65535&o}e.pos=g}return t.encode=function(e,n){var r,i,s,o,a,l,h,p,g,_,v,C,P,U,b,S,F,W,Z,ae,R,E,O,B,I,T,N,Q,ve,me,ye,Y,le,ce,Ce,L,q,G,J,ne,ue,pe,ge,Oe,ke,Ve;switch(Q=new Fa,o=Object.keys(e).sort(function(Fe,Ze){return Fe-Ze}),n){case"macroman":for(P=0,U=function(){var Fe=[];for(C=0;C<256;++C)Fe.push(0);return Fe}(),S={0:0},s={},ve=0,le=o.length;ve<le;ve++)S[ge=e[i=o[ve]]]==null&&(S[ge]=++P),s[i]={old:e[i],new:S[e[i]]},U[i]=S[e[i]];return Q.writeUInt16(1),Q.writeUInt16(0),Q.writeUInt32(12),Q.writeUInt16(0),Q.writeUInt16(262),Q.writeUInt16(0),Q.write(U),{charMap:s,subtable:Q.data,maxGlyphID:P+1};case"unicode":for(T=[],g=[],F=0,S={},r={},b=h=null,me=0,ce=o.length;me<ce;me++)S[Z=e[i=o[me]]]==null&&(S[Z]=++F),r[i]={old:Z,new:S[Z]},a=S[Z]-i,b!=null&&a===h||(b&&g.push(b),T.push(i),h=a),b=i;for(b&&g.push(b),g.push(65535),T.push(65535),B=2*(O=T.length),E=2*Math.pow(Math.log(O)/Math.LN2,2),_=Math.log(E/2)/Math.LN2,R=2*O-E,l=[],ae=[],v=[],C=ye=0,Ce=T.length;ye<Ce;C=++ye){if(I=T[C],p=g[C],I===65535){l.push(0),ae.push(0);break}if(I-(N=r[I].new)>=32768)for(l.push(0),ae.push(2*(v.length+O-C)),i=Y=I;I<=p?Y<=p:Y>=p;i=I<=p?++Y:--Y)v.push(r[i].new);else l.push(N-I),ae.push(0)}for(Q.writeUInt16(3),Q.writeUInt16(1),Q.writeUInt32(12),Q.writeUInt16(4),Q.writeUInt16(16+8*O+2*v.length),Q.writeUInt16(0),Q.writeUInt16(B),Q.writeUInt16(E),Q.writeUInt16(_),Q.writeUInt16(R),ue=0,L=g.length;ue<L;ue++)i=g[ue],Q.writeUInt16(i);for(Q.writeUInt16(0),pe=0,q=T.length;pe<q;pe++)i=T[pe],Q.writeUInt16(i);for(Oe=0,G=l.length;Oe<G;Oe++)a=l[Oe],Q.writeUInt16(a);for(ke=0,J=ae.length;ke<J;ke++)W=ae[ke],Q.writeUInt16(W);for(Ve=0,ne=v.length;Ve<ne;Ve++)P=v[Ve],Q.writeUInt16(P);return{charMap:r,subtable:Q.data,maxGlyphID:F+1}}},t}(),Ab=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ds(e,is),e.prototype.tag="cmap",e.prototype.parse=function(n){var r,i,s;for(n.pos=this.offset,this.version=n.readUInt16(),s=n.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=s?i<s:i>s;i=0<=s?++i:--i)r=new m_(n,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(n,r){var i,s;return r==null&&(r="macroman"),i=m_.encode(n,r),(s=new Fa).writeUInt16(0),s.writeUInt16(1),i.table=s.data.concat(i.subtable),i},e}(),FL=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ds(e,is),e.prototype.tag="hhea",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.ascender=n.readShort(),this.decender=n.readShort(),this.lineGap=n.readShort(),this.advanceWidthMax=n.readShort(),this.minLeftSideBearing=n.readShort(),this.minRightSideBearing=n.readShort(),this.xMaxExtent=n.readShort(),this.caretSlopeRise=n.readShort(),this.caretSlopeRun=n.readShort(),this.caretOffset=n.readShort(),n.pos+=8,this.metricDataFormat=n.readShort(),this.numberOfMetrics=n.readUInt16()},e}(),ML=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ds(e,is),e.prototype.tag="OS/2",e.prototype.parse=function(n){if(n.pos=this.offset,this.version=n.readUInt16(),this.averageCharWidth=n.readShort(),this.weightClass=n.readUInt16(),this.widthClass=n.readUInt16(),this.type=n.readShort(),this.ySubscriptXSize=n.readShort(),this.ySubscriptYSize=n.readShort(),this.ySubscriptXOffset=n.readShort(),this.ySubscriptYOffset=n.readShort(),this.ySuperscriptXSize=n.readShort(),this.ySuperscriptYSize=n.readShort(),this.ySuperscriptXOffset=n.readShort(),this.ySuperscriptYOffset=n.readShort(),this.yStrikeoutSize=n.readShort(),this.yStrikeoutPosition=n.readShort(),this.familyClass=n.readShort(),this.panose=function(){var r,i;for(i=[],r=0;r<10;++r)i.push(n.readByte());return i}(),this.charRange=function(){var r,i;for(i=[],r=0;r<4;++r)i.push(n.readInt());return i}(),this.vendorID=n.readString(4),this.selection=n.readShort(),this.firstCharIndex=n.readShort(),this.lastCharIndex=n.readShort(),this.version>0&&(this.ascent=n.readShort(),this.descent=n.readShort(),this.lineGap=n.readShort(),this.winAscent=n.readShort(),this.winDescent=n.readShort(),this.codePageRange=function(){var r,i;for(i=[],r=0;r<2;r=++r)i.push(n.readInt());return i}(),this.version>1))return this.xHeight=n.readShort(),this.capHeight=n.readShort(),this.defaultChar=n.readShort(),this.breakChar=n.readShort(),this.maxContext=n.readShort()},e}(),VL=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ds(e,is),e.prototype.tag="post",e.prototype.parse=function(n){var r,i,s;switch(n.pos=this.offset,this.format=n.readInt(),this.italicAngle=n.readInt(),this.underlinePosition=n.readShort(),this.underlineThickness=n.readShort(),this.isFixedPitch=n.readInt(),this.minMemType42=n.readInt(),this.maxMemType42=n.readInt(),this.minMemType1=n.readInt(),this.maxMemType1=n.readInt(),this.format){case 65536:break;case 131072:var o;for(i=n.readUInt16(),this.glyphNameIndex=[],o=0;0<=i?o<i:o>i;o=0<=i?++o:--o)this.glyphNameIndex.push(n.readUInt16());for(this.names=[],s=[];n.pos<this.offset+this.length;)r=n.readByte(),s.push(this.names.push(n.readString(r)));return s;case 151552:return i=n.readUInt16(),this.offsets=n.read(i);case 196608:break;case 262144:return this.map=(function(){var a,l,h;for(h=[],o=a=0,l=this.file.maxp.numGlyphs;0<=l?a<l:a>l;o=0<=l?++a:--a)h.push(n.readUInt32());return h}).call(this)}},e}(),jL=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},BL=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ds(e,is),e.prototype.tag="name",e.prototype.parse=function(n){var r,i,s,o,a,l,h,p,g,_,v;for(n.pos=this.offset,n.readShort(),r=n.readShort(),l=n.readShort(),i=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)i.push({platformID:n.readShort(),encodingID:n.readShort(),languageID:n.readShort(),nameID:n.readShort(),length:n.readShort(),offset:this.offset+l+n.readShort()});for(h={},o=g=0,_=i.length;g<_;o=++g)s=i[o],n.pos=s.offset,p=n.readString(s.length),a=new jL(p,s),h[v=s.nameID]==null&&(h[v]=[]),h[s.nameID].push(a);this.strings=h,this.copyright=h[0],this.fontFamily=h[1],this.fontSubfamily=h[2],this.uniqueSubfamily=h[3],this.fontName=h[4],this.version=h[5];try{this.postscriptName=h[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=h[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=h[7],this.manufacturer=h[8],this.designer=h[9],this.description=h[10],this.vendorUrl=h[11],this.designerUrl=h[12],this.license=h[13],this.licenseUrl=h[14],this.preferredFamily=h[15],this.preferredSubfamily=h[17],this.compatibleFull=h[18],this.sampleText=h[19]},e}(),UL=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ds(e,is),e.prototype.tag="maxp",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.numGlyphs=n.readUInt16(),this.maxPoints=n.readUInt16(),this.maxContours=n.readUInt16(),this.maxCompositePoints=n.readUInt16(),this.maxComponentContours=n.readUInt16(),this.maxZones=n.readUInt16(),this.maxTwilightPoints=n.readUInt16(),this.maxStorage=n.readUInt16(),this.maxFunctionDefs=n.readUInt16(),this.maxInstructionDefs=n.readUInt16(),this.maxStackElements=n.readUInt16(),this.maxSizeOfInstructions=n.readUInt16(),this.maxComponentElements=n.readUInt16(),this.maxComponentDepth=n.readUInt16()},e}(),zL=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ds(e,is),e.prototype.tag="hmtx",e.prototype.parse=function(n){var r,i,s,o,a,l,h;for(n.pos=this.offset,this.metrics=[],r=0,l=this.file.hhea.numberOfMetrics;0<=l?r<l:r>l;r=0<=l?++r:--r)this.metrics.push({advance:n.readUInt16(),lsb:n.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var p,g;for(g=[],r=p=0;0<=s?p<s:p>s;r=0<=s?++p:--p)g.push(n.readInt16());return g}(),this.widths=(function(){var p,g,_,v;for(v=[],p=0,g=(_=this.metrics).length;p<g;p++)o=_[p],v.push(o.advance);return v}).call(this),i=this.widths[this.widths.length-1],h=[],r=a=0;0<=s?a<s:a>s;r=0<=s?++a:--a)h.push(this.widths.push(i));return h},e.prototype.forGlyph=function(n){return n in this.metrics?this.metrics[n]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[n-this.metrics.length]}},e}(),bb=[].slice,qL=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ds(e,is),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(n){var r,i,s,o,a,l,h,p,g,_;return n in this.cache?this.cache[n]:(o=this.file.loca,r=this.file.contents,i=o.indexOf(n),(s=o.lengthOf(n))===0?this.cache[n]=null:(r.pos=this.offset+i,a=(l=new Fa(r.read(s))).readShort(),p=l.readShort(),_=l.readShort(),h=l.readShort(),g=l.readShort(),this.cache[n]=a===-1?new HL(l,p,_,h,g):new $L(l,a,p,_,h,g),this.cache[n]))},e.prototype.encode=function(n,r,i){var s,o,a,l,h;for(a=[],o=[],l=0,h=r.length;l<h;l++)s=n[r[l]],o.push(a.length),s&&(a=a.concat(s.encode(i)));return o.push(a.length),{table:a,offsets:o}},e}(),$L=function(){function t(e,n,r,i,s,o){this.raw=e,this.numberOfContours=n,this.xMin=r,this.yMin=i,this.xMax=s,this.yMax=o,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),HL=function(){function t(e,n,r,i,s){var o,a;for(this.raw=e,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;a=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&a;)o.pos+=1&a?4:2,128&a?o.pos+=8:64&a?o.pos+=4:8&a&&(o.pos+=2)}return t.prototype.encode=function(){var e,n,r;for(n=new Fa(bb.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)n.pos=this.glyphOffsets[e];return n.data},t}(),WL=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ds(e,is),e.prototype.tag="loca",e.prototype.parse=function(n){var r,i;return n.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var s,o;for(o=[],i=0,s=this.length;i<s;i+=2)o.push(2*n.readUInt16());return o}).call(this):(function(){var s,o;for(o=[],i=0,s=this.length;i<s;i+=4)o.push(n.readUInt32());return o}).call(this)},e.prototype.indexOf=function(n){return this.offsets[n]},e.prototype.lengthOf=function(n){return this.offsets[n+1]-this.offsets[n]},e.prototype.encode=function(n,r){for(var i=new Uint32Array(this.offsets.length),s=0,o=0,a=0;a<i.length;++a)if(i[a]=s,o<r.length&&r[o]==a){++o,i[a]=s;var l=this.offsets[a],h=this.offsets[a+1]-l;h>0&&(s+=h)}for(var p=new Array(4*i.length),g=0;g<i.length;++g)p[4*g+3]=255&i[g],p[4*g+2]=(65280&i[g])>>8,p[4*g+1]=(16711680&i[g])>>16,p[4*g]=(4278190080&i[g])>>24;return p},e}(),GL=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,n,r,i,s;for(n in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)r=s[n],e[n]=i[r];return e},t.prototype.glyphsFor=function(e){var n,r,i,s,o,a,l;for(i={},o=0,a=e.length;o<a;o++)i[s=e[o]]=this.font.glyf.glyphFor(s);for(s in n=[],i)(r=i[s])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(s in l=this.glyphsFor(n))r=l[s],i[s]=r;return i},t.prototype.encode=function(e,n){var r,i,s,o,a,l,h,p,g,_,v,C,P,U,b;for(i in r=Ab.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),v={0:0},b=r.charMap)v[(l=b[i]).old]=l.new;for(C in _=r.maxGlyphID,o)C in v||(v[C]=_++);return p=function(S){var F,W;for(F in W={},S)W[S[F]]=F;return W}(v),g=Object.keys(p).sort(function(S,F){return S-F}),P=function(){var S,F,W;for(W=[],S=0,F=g.length;S<F;S++)a=g[S],W.push(p[a]);return W}(),s=this.font.glyf.encode(o,P,v),h=this.font.loca.encode(s.offsets,P),U={cmap:this.font.cmap.raw(),glyf:s.table,loca:h,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(U["OS/2"]=this.font.os2.raw()),this.font.directory.encode(U)},t}();it.API.PDFObject=function(){var t;function e(){}return t=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},e.convert=function(n){var r,i,s,o;if(Array.isArray(n))return"["+function(){var a,l,h;for(h=[],a=0,l=n.length;a<l;a++)r=n[a],h.push(e.convert(r));return h}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in s=["<<"],n)o=n[i],s.push("/"+i+" "+e.convert(o));return s.push(">>"),s.join(`
`)}return""+n},e}();function KL({onLogout:t,onTrash:e}){const[n,r]=Ar.useState([]),[i,s]=Ar.useState("");Ar.useEffect(()=>{const h=eb(M1(ca,"notes"),p=>{r(p.docs.map(g=>({id:g.id,...g.data()})))});return()=>h()},[]);const o=async()=>{i.trim()!==""&&(await $C(M1(ca,"notes"),{text:i,createdAt:new Date}),s(""))},a=async h=>{await ZA($u(ca,"trash",h.id),h),await V1($u(ca,"notes",h.id))},l=h=>{const p=new it;p.setFont("helvetica","bold"),p.text("CloudNotes ",10,10),p.setFont("helvetica","normal"),p.text(h||"",10,20),p.save("note.pdf")};return _t.jsxs("div",{style:{background:"linear-gradient(to right, #b3e5fc, #f8bbd0)",minHeight:"100vh",textAlign:"center",fontFamily:"Poppins, sans-serif",padding:"40px"},children:[_t.jsx("h1",{style:{fontSize:"32px",color:"#00695c",marginBottom:"30px"},children:" CloudNotes App "}),_t.jsxs("div",{style:{marginBottom:"25px"},children:[_t.jsx("textarea",{value:i,onChange:h=>s(h.target.value),placeholder:" Write something here...",style:{width:"70%",height:"100px",borderRadius:"14px",padding:"15px",border:"2px solid #80cbc4",resize:"none",outline:"none",fontSize:"16px",background:"#ffffffd9"}}),_t.jsx("br",{}),_t.jsx("button",{onClick:o,style:{marginTop:"15px",backgroundColor:"#4db6ac",color:"white",fontSize:"16px",border:"none",borderRadius:"10px",padding:"10px 25px",cursor:"pointer"},children:" Add Note"})]}),_t.jsx("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"center",gap:"35px"},children:n.map(h=>_t.jsxs("div",{style:{width:"260px",background:"#fff",borderRadius:"18px",boxShadow:"0 6px 12px rgba(0,0,0,0.1)",padding:"20px",textAlign:"left",position:"relative"},children:[_t.jsx("p",{style:{fontSize:"15px",color:"#333",marginBottom:"40px"},children:h.text}),_t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",position:"absolute",bottom:"15px",width:"85%"},children:[_t.jsx("button",{onClick:()=>l(h.text),style:{backgroundColor:"#ba68c8",color:"white",border:"none",padding:"6px 12px",borderRadius:"8px",cursor:"pointer"},children:" PDF"}),_t.jsx("button",{onClick:()=>a(h),style:{backgroundColor:"#ef5350",color:"white",border:"none",padding:"6px 12px",borderRadius:"8px",cursor:"pointer"},children:" Trash"})]})]},h.id))}),_t.jsxs("div",{style:{marginTop:"50px",display:"flex",gap:"20px",justifyContent:"center"},children:[_t.jsx("button",{onClick:e,style:{backgroundColor:"#f48fb1",color:"white",fontSize:"16px",border:"none",borderRadius:"12px",padding:"10px 25px",cursor:"pointer"},children:" View Trash"}),_t.jsx("button",{onClick:()=>Wu.signOut().then(t),style:{backgroundColor:"#ff7043",color:"white",fontSize:"16px",border:"none",borderRadius:"12px",padding:"10px 25px",cursor:"pointer"},children:" Logout"})]})]})}function QL({onBack:t}){const[e,n]=Ar.useState([]);Ar.useEffect(()=>{const s=eb(M1(ca,"trash"),o=>{n(o.docs.map(a=>({id:a.id,...a.data()})))});return()=>s()},[]);const r=async s=>{await ZA($u(ca,"notes",s.id),s),await V1($u(ca,"trash",s.id))},i=async s=>{await V1($u(ca,"trash",s))};return _t.jsxs("div",{style:{background:"linear-gradient(to right, #b3e5fc, #f8bbd0)",minHeight:"100vh",textAlign:"center",fontFamily:"Poppins, sans-serif",padding:"40px"},children:[_t.jsx("h1",{style:{fontSize:"32px",color:"#00695c",marginBottom:"30px"},children:" Trash Bin "}),e.length===0?_t.jsx("p",{style:{fontSize:"18px",color:"#555"},children:"No notes in trash "}):_t.jsx("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"center",gap:"35px"},children:e.map(s=>_t.jsxs("div",{style:{width:"260px",background:"#fff",borderRadius:"18px",boxShadow:"0 6px 12px rgba(0,0,0,0.1)",padding:"20px",textAlign:"left",position:"relative"},children:[_t.jsx("p",{style:{fontSize:"15px",color:"#333",marginBottom:"40px"},children:s.text}),_t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",position:"absolute",bottom:"15px",width:"85%"},children:[_t.jsx("button",{onClick:()=>r(s),style:{backgroundColor:"#81c784",color:"white",border:"none",padding:"6px 12px",borderRadius:"8px",cursor:"pointer"},children:" Restore"}),_t.jsx("button",{onClick:()=>i(s.id),style:{backgroundColor:"#e57373",color:"white",border:"none",padding:"6px 12px",borderRadius:"8px",cursor:"pointer"},children:" Delete"})]})]},s.id))}),_t.jsx("div",{style:{marginTop:"50px"},children:_t.jsx("button",{onClick:t,style:{backgroundColor:"#4db6ac",color:"white",fontSize:"16px",border:"none",borderRadius:"12px",padding:"10px 25px",cursor:"pointer"},children:" Back to Notes"})})]})}function YL(){const[t,e]=Ar.useState(null),[n,r]=Ar.useState("login"),[i,s]=Ar.useState("");Ar.useEffect(()=>{const l=AP(Wu,h=>{h?(e(h),s("CloudNotes App "),r("notes")):(e(null),r("login"))});return()=>l()},[]);const o=l=>{s(l),r("notes")},a=async()=>{await bP(Wu),alert(" Logged out successfully ")};return n==="login"?_t.jsx(KC,{onLogin:o}):n==="trash"?_t.jsx(QL,{onBack:()=>r("notes")}):_t.jsx(KL,{nickname:i,onTrash:()=>r("trash"),onLogout:a})}_g.createRoot(document.getElementById("root")).render(_t.jsx(bE.StrictMode,{children:_t.jsx(YL,{})}));export{zt as _,JL as c,oE as g};
